{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useDAWStore.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport interface DAWTrack {\n    id: string;\n    name: string;\n    color: string;\n}\n\nexport interface FXInsert {\n    id: string;\n    pluginId: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter';\n    bypass: boolean;\n    settings: any;\n}\n\nexport interface FaderState {\n    id: string; // 'vocal', 'beat', 'bass', 'fx', 'ch-...'\n    label: string;\n    value: number; // 0 a 100\n    isMuted: boolean;\n    pan: number;\n    isSoloed: boolean;\n    inserts: FXInsert[];\n}\n\nexport type BottomPanelState = 'mixer' | 'piano_roll' | 'closed';\nexport type CloudStatus = 'disconnected' | 'connecting' | 'connected';\n\ninterface DAWStore {\n    faders: FaderState[];\n    tracks: DAWTrack[];\n    isTraining: boolean;\n    activeArtistId: string | null;\n    activeBottomPanel: BottomPanelState;\n    mixerBank: 1 | 2; // 1 = Ch 1-16, 2 = Ch 17-32\n    cloudStatus: CloudStatus;\n    systemMessage: string;\n    isMetronomeOn: boolean;\n    isPlaying: boolean;\n    masterLevel: number;\n    currentPreviewTrack: any | null;\n    isFullMixer: boolean;\n\n    // Acciones para que la IA mueva los faders\n    setFaderValue: (id: string, value: number) => void;\n    setTrainingStatus: (status: boolean) => void;\n    resetConsole: () => void;\n    // Preserving DAW UI state\n    setPan: (id: string, pan: number) => void;\n    toggleSolo: (id: string) => void;\n    toggleMute: (id: string) => void;\n    setActiveBottomPanel: (panel: BottomPanelState) => void;\n    setMixerBank: (bank: 1 | 2) => void;\n    setCloudStatus: (status: CloudStatus, message?: string) => void;\n    setFullMixer: (status: boolean) => void;\n\n    // Track Management\n    addTrack: (name?: string, color?: string) => void;\n    setTracks: (tracks: DAWTrack[]) => void;\n    clearTracks: () => void;\n    removeTrack: (id: string) => void;\n    toggleMetronome: () => void;\n    setIsPlaying: (playing: boolean) => void;\n    setMasterLevel: (level: number) => void;\n    setPreviewTrack: (track: any | null) => void;\n\n    // FX Insert Management\n    addInsert: (trackId: string, pluginId: FXInsert['pluginId']) => void;\n    removeInsert: (trackId: string, insertId: string) => void;\n    updateInsertSettings: (trackId: string, insertId: string, settings: any) => void;\n    toggleInsertBypass: (trackId: string, insertId: string) => void;\n\n    // Plugin Window Management\n    openPluginIds: string[]; // List of insert IDs currently open\n    openPlugin: (insertId: string) => void;\n    closePlugin: (insertId: string) => void;\n}\n\n// Generate 32 default faders\nconst defaultFaders: FaderState[] = Array.from({ length: 32 }, (_, i) => ({\n    id: `ch-${i + 1}`,\n    label: i < 16 ? `CH ${i + 1}` : (i < 24 ? `AUX ${i - 15}` : (i < 30 ? `BUS ${i - 23}` : `MTR L/R`)),\n    value: 75,\n    isMuted: false,\n    pan: 0,\n    isSoloed: false,\n    inserts: [],\n}));\n\n// Set explicit labels for the first 4 for backwards compatibility with the Auto-mix Modal logic\ndefaultFaders[0] = { ...defaultFaders[0], id: 'vocal', label: 'VOCAL' };\ndefaultFaders[1] = { ...defaultFaders[1], id: 'beat', label: 'BEAT' };\ndefaultFaders[2] = { ...defaultFaders[2], id: 'bass', label: 'BASS' };\ndefaultFaders[3] = { ...defaultFaders[3], id: 'fx', label: 'FX' };\n\nexport const useDAWStore = create<DAWStore>((set) => ({\n    faders: defaultFaders,\n    tracks: [],\n    isTraining: false,\n    activeArtistId: null,\n    activeBottomPanel: 'mixer', // Mixer opens by default\n    mixerBank: 1,\n    cloudStatus: 'disconnected',\n    systemMessage: '',\n    isMetronomeOn: false,\n    isPlaying: false,\n    masterLevel: 0,\n    currentPreviewTrack: null,\n    isFullMixer: false,\n\n    setTracks: (tracks: DAWTrack[]) => set((state) => {\n        const newFaders: FaderState[] = tracks.map((track, i) => ({\n            id: track.id,\n            label: track.name.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        }));\n        return { tracks, faders: newFaders };\n    }),\n\n    addTrack: (name, color) => set((state) => {\n        const newId = `t${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const trackColor = color || ['#00F0FF', '#FF6B00', '#A4ECA1', '#E2A04A', '#D94AE2', '#FF0055', '#55FF00'][Math.floor(Math.random() * 7)];\n        const trackName = name || `Audio Track ${state.tracks.length + 1}`;\n\n        const newTrack: DAWTrack = { id: newId, name: trackName, color: trackColor };\n        const newFader: FaderState = {\n            id: newId,\n            label: trackName.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        };\n\n        return {\n            tracks: [...state.tracks, newTrack],\n            faders: [...state.faders, newFader]\n        };\n    }),\n\n    clearTracks: () => set({ tracks: [], faders: [] }),\n\n    removeTrack: (id) => set((state) => ({\n        tracks: state.tracks.filter(t => t.id !== id),\n        faders: state.faders.filter(f => f.id !== id)\n    })),\n\n    toggleMetronome: () => set((state) => ({\n        isMetronomeOn: !state.isMetronomeOn\n    })),\n\n    setActiveBottomPanel: (panel) => set({ activeBottomPanel: panel }),\n    setMixerBank: (bank) => set({ mixerBank: bank }),\n\n    setFaderValue: (id, value) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, value } : f)\n    })),\n\n    setTrainingStatus: (status) => set({ isTraining: status }),\n\n    resetConsole: () => set((state) => ({\n        faders: state.faders.map((f) => ({ ...f, value: 0 }))\n    })),\n\n    setPan: (id, pan) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, pan } : f)\n    })),\n\n    toggleSolo: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isSoloed: !f.isSoloed } : f)\n    })),\n\n    toggleMute: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isMuted: !f.isMuted } : f)\n    })),\n\n    setCloudStatus: (status, message = '') => set({ cloudStatus: status, systemMessage: message }),\n    setIsPlaying: (playing) => set({ isPlaying: playing }),\n    setMasterLevel: (level) => set({ masterLevel: level }),\n    setPreviewTrack: (track) => set({ currentPreviewTrack: track }),\n    setFullMixer: (status) => set({ isFullMixer: status }),\n\n    // FX Insert Management\n    addInsert: (trackId, pluginId) => set((state) => {\n        const defaultSettings: any = {\n            gate: { gateThreshold: 10, gateAttack: 5, gateRelease: 100 },\n            eq: { eqHighpass: 30, eqTilt: 0, eqSideGain: 20, eqSideFreq: 4000 },\n            leveler: { levelerTarget: -14, levelerBrake: -60, levelerMaxPlus: 6, levelerMaxMinus: 12 },\n            compressor: { compStrength: 30, compAttack: 20, compRelease: 200, compMakeup: 0 },\n            multiband: { mbStrengthLow: 20, mbStrengthHigh: 40, mbCrossoverLow: 200, mbCrossoverHigh: 5000 },\n            limiter: { limStrength: 50, limAttack: 2, limRelease: 100, limCeiling: -0.1 }\n        };\n\n        const newInsert: FXInsert = {\n            id: `fx-${pluginId}-${Date.now()}`,\n            pluginId,\n            bypass: false,\n            settings: defaultSettings[pluginId] || {}\n        };\n\n        return {\n            faders: state.faders.map(f => f.id === trackId \n                ? { ...f, inserts: [...f.inserts, newInsert].slice(0, 4) } // Limit to 4 slots\n                : f)\n        };\n    }),\n\n    removeInsert: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId \n            ? { ...f, inserts: f.inserts.filter(i => i.id !== insertId) } \n            : f)\n    })),\n\n    updateInsertSettings: (trackId, insertId, newSettings) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId \n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, settings: { ...i.settings, ...newSettings } } : i) } \n            : f)\n    })),\n\n    toggleInsertBypass: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId \n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, bypass: !i.bypass } : i) } \n            : f)\n    })),\n\n    // Plugin Window Management\n    openPluginIds: [],\n    openPlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.includes(insertId) ? state.openPluginIds : [...state.openPluginIds, insertId]\n    })),\n    closePlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.filter(id => id !== insertId)\n    })),\n}));\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/audio/WebAudioEngine.ts"],"sourcesContent":["export interface TrackChain {\n    input: GainNode; \n    inserts: AudioNode[];\n    eq?: BiquadFilterNode;\n    compressor?: DynamicsCompressorNode;\n    output: GainNode; \n    panner: StereoPannerNode;\n    analyser: AnalyserNode;\n    source?: MediaElementAudioSourceNode | AudioBufferSourceNode;\n}\n\nclass WebAudioEngine {\n    private ctx: AudioContext | null = null;\n    private masterGain: GainNode | null = null;\n    private trackChains: Map<string, TrackChain> = new Map();\n    private isPlaying = false;\n    private playhead = 0;\n    private startTime = 0;\n\n    constructor() {\n        // We delay context creation until a user interaction (play)\n    }\n\n    private initContext() {\n        if (!this.ctx) {\n            this.ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\n            this.masterGain = this.ctx.createGain();\n            this.masterGain.connect(this.ctx.destination);\n        }\n        if (this.ctx.state === 'suspended') {\n            this.ctx.resume();\n        }\n    }\n\n    private getOrCreateTrack(trackId: string): TrackChain {\n        this.initContext();\n        if (!this.trackChains.has(trackId)) {\n            const ctx = this.ctx!;\n            const input = ctx.createGain();\n            const output = ctx.createGain();\n            const panner = ctx.createStereoPanner();\n            const analyser = ctx.createAnalyser();\n\n            analyser.fftSize = 256;\n\n            // Initial chain: Input -> Pan -> Output -> Analyser -> Master\n            input.connect(panner);\n            panner.connect(output);\n            output.connect(analyser);\n            analyser.connect(this.masterGain!);\n\n            this.trackChains.set(trackId, { input, output, panner, analyser, inserts: [] });\n        }\n        return this.trackChains.get(trackId)!;\n    }\n\n    init(sampleRate: number, bufferSize: number) {\n        console.log(`[WebAudioEngine] Ready for initialization. context will start on play.`);\n        return true;\n    }\n\n    play() {\n        this.initContext();\n        this.isPlaying = true;\n        this.startTime = this.ctx!.currentTime - this.playhead;\n        console.log(`[WebAudioEngine] Playback started.`);\n    }\n\n    pause() {\n        this.isPlaying = false;\n        if (this.ctx) {\n            this.playhead = this.ctx.currentTime - this.startTime;\n        }\n        console.log(`[WebAudioEngine] Playback paused.`);\n    }\n\n    stop() {\n        this.isPlaying = false;\n        this.playhead = 0;\n        console.log(`[WebAudioEngine] Playback stopped.`);\n    }\n\n    setPlayheadPosition(seconds: number) {\n        this.playhead = seconds;\n        if (this.isPlaying && this.ctx) {\n            this.startTime = this.ctx.currentTime - seconds;\n        }\n    }\n\n    getPlayheadPosition() {\n        if (this.isPlaying && this.ctx) {\n            return this.ctx.currentTime - this.startTime;\n        }\n        return this.playhead;\n    }\n\n    setTrackVolume(trackId: string, value: number) {\n        // value 0-100 to gain 0-1\n        const chain = this.getOrCreateTrack(trackId);\n        const gainValue = value / 100;\n        chain.output.gain.setTargetAtTime(gainValue, this.ctx!.currentTime, 0.05);\n    }\n\n    setTrackPan(trackId: string, value: number) {\n        // value -50 to 50 to pan -1 to 1\n        const chain = this.getOrCreateTrack(trackId);\n        const panValue = value / 50;\n        chain.panner.pan.setTargetAtTime(panValue, this.ctx!.currentTime, 0.05);\n    }\n\n    setTrackMute(trackId: string, isMuted: boolean) {\n        const chain = this.getOrCreateTrack(trackId);\n        const gainValue = isMuted ? 0 : 1; // This should ideally be multiplied by the fader value\n        // For simplicity, we'll store the target gain elsewhere or just use 0/1 for now\n        // A better way is to have another GainNode for mute\n    }\n\n    // New method to connect a real audio element (like in the mastering page)\n    connectAudioElement(trackId: string, element: HTMLMediaElement) {\n        this.initContext();\n        const chain = this.getOrCreateTrack(trackId);\n        \n        if (chain.source) {\n            // We don't want to recreate the source if it's the same element\n            // But since we can't easily check, we just hope the caller handles it\n            return; \n        }\n\n        const source = this.ctx!.createMediaElementSource(element);\n        source.connect(chain.input); \n        chain.source = source;\n    }\n\n    getVUMeterLevel(trackId: string): number {\n        const chain = this.trackChains.get(trackId);\n        if (!chain) return 0;\n\n        const dataArray = new Uint8Array(chain.analyser.frequencyBinCount);\n        chain.analyser.getByteFrequencyData(dataArray);\n\n        let sum = 0;\n        for (let i = 0; i < dataArray.length; i++) {\n            sum += dataArray[i];\n        }\n        return Math.floor((sum / dataArray.length) * 1.5);\n    }\n\n    getFrequencyLevel(trackId: string, minFreq: number, maxFreq: number): number {\n        const chain = this.trackChains.get(trackId);\n        if (!chain || !this.ctx) return 0;\n\n        const bufferLength = chain.analyser.frequencyBinCount;\n        const dataArray = new Uint8Array(bufferLength);\n        chain.analyser.getByteFrequencyData(dataArray);\n\n        const nyquist = this.ctx.sampleRate / 2;\n        const indexMin = Math.round((minFreq / nyquist) * bufferLength);\n        const indexMax = Math.round((maxFreq / nyquist) * bufferLength);\n\n        let sum = 0;\n        let count = 0;\n        for (let i = indexMin; i <= indexMax; i++) {\n            sum += dataArray[i];\n            count++;\n        }\n        \n        return count > 0 ? sum / count / 255 : 0;\n    }\n\n    getTrackAnalyser(trackId: string): AnalyserNode | undefined {\n        return this.trackChains.get(trackId)?.analyser;\n    }\n\n    // --- Plugin System ---\n    \n    updateEQ(trackId: string, highpass: number, tilt: number) {\n        const chain = this.getOrCreateTrack(trackId);\n        if (!chain.eq) {\n            chain.eq = this.ctx!.createBiquadFilter();\n            chain.eq.type = 'highpass';\n            // Re-route: input -> eq -> panner\n            chain.input.disconnect();\n            chain.input.connect(chain.eq);\n            chain.eq.connect(chain.panner);\n        }\n        \n        chain.eq.frequency.setTargetAtTime(highpass, this.ctx!.currentTime, 0.1);\n        // Tilt is a bit more complex, for now we just use the highpass\n    }\n\n    updateCompressor(trackId: string, strength: number, attack: number, release: number) {\n        const chain = this.getOrCreateTrack(trackId);\n        if (!chain.compressor) {\n            chain.compressor = this.ctx!.createDynamicsCompressor();\n            // Re-route: input -> [eq] -> compressor -> panner\n            const prevNode = chain.eq || chain.input;\n            prevNode.disconnect();\n            prevNode.connect(chain.compressor);\n            chain.compressor.connect(chain.panner);\n        }\n\n        // Map strength (0-100) to threshold (-60 to 0) and ratio (1 to 20)\n        const threshold = -((strength / 100) * 60);\n        const ratio = 1 + (strength / 100) * 19;\n        \n        chain.compressor.threshold.setTargetAtTime(threshold, this.ctx!.currentTime, 0.1);\n        chain.compressor.ratio.setTargetAtTime(ratio, this.ctx!.currentTime, 0.1);\n        chain.compressor.attack.setTargetAtTime(attack / 1000, this.ctx!.currentTime, 0.1);\n        chain.compressor.release.setTargetAtTime(release / 1000, this.ctx!.currentTime, 0.1);\n    }\n}\n\nexport const audioEngine = new WebAudioEngine();\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/audio-engine-bridge.ts"],"sourcesContent":["import { audioEngine } from './audio/WebAudioEngine';\n\nexport { audioEngine };\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/StudioMonitor.tsx"],"sourcesContent":["import React, { useMemo, useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useDAWStore } from '@/store/useDAWStore';\nimport { audioEngine } from '@/lib/audio-engine-bridge';\n\nexport function StudioMonitor({ className = '' }: { className?: string }) {\n    const isPlaying = useDAWStore((state) => state.isPlaying);\n    const [bassLevel, setBassLevel] = useState(0); // 0 to 1\n    const [midLevel, setMidLevel] = useState(0); // 0 to 1\n\n    useEffect(() => {\n        if (!isPlaying) {\n            setBassLevel(0);\n            setMidLevel(0);\n            return;\n        }\n\n        let animationFrameId: number;\n        const updateLevels = () => {\n            // Get bass frequency intensity (20Hz - 150Hz) for woofer\n            const bass = audioEngine.getFrequencyLevel('master-track', 20, 150);\n            // Get mid frequency intensity (150Hz - 2kHz) for cabinetry/tweeter\n            const mid = audioEngine.getFrequencyLevel('master-track', 150, 2000);\n            \n            setBassLevel(bass);\n            setMidLevel(mid);\n            \n            animationFrameId = requestAnimationFrame(updateLevels);\n        };\n\n        updateLevels();\n        return () => cancelAnimationFrame(animationFrameId);\n    }, [isPlaying]);\n\n    // Calculate pulse intensity: 1.0 (base) to 1.05 (max mid/high expansion)\n    const pulseScale = useMemo(() => {\n        return 1 + (midLevel * 0.03); \n    }, [midLevel]);\n\n    // Woofer specific pulse (stronger vibration)\n    const wooferScale = useMemo(() => {\n        return 1 + (bassLevel * 0.15); \n    }, [bassLevel]);\n\n    return (\n        <div className={`flex flex-col items-center justify-center w-64 h-96 ${className}`}>\n            {/* Speaker Cabinet (The wooden box) */}\n            <motion.div\n                animate={{ scale: pulseScale }}\n                transition={{ type: 'spring', stiffness: 300, damping: 20 }}\n                className=\"w-full h-full bg-[#1A1A1C] border border-[#222] rounded-md shadow-[-20px_0_50px_rgba(0,0,0,0.8),20px_0_50px_rgba(0,0,0,0.8),inset_0_4px_10px_rgba(255,255,255,0.02)] flex flex-col items-center py-8 relative justify-between\"\n            >\n\n                {/* Wood Grain Texture Overlay */}\n                <div className=\"absolute inset-0 bg-transparent mix-blend-overlay opacity-10 pointer-events-none rounded-md\" />\n\n                {/* Top Tweeter */}\n                <div className=\"w-24 h-24 rounded-full bg-[#2A2A2D] border-2 border-[#111] shadow-[inset_0_5px_15px_rgba(0,0,0,0.8)] flex items-center justify-center relative z-10\">\n                    <div className=\"w-12 h-12 rounded-full bg-black/80 blur-[2px] absolute\" />\n                    {/* Tweeter Cone Details */}\n                    <div className=\"w-16 h-16 rounded-full border border-white/5 flex items-center justify-center\">\n                        <div className=\"w-6 h-6 rounded-full bg-[#3A3A3D] shadow-[0_0_10px_rgba(0,0,0,0.9)]\" />\n                        <div className=\"absolute w-[2px] h-3 bg-[#444] top-8\" />\n                        <div className=\"absolute w-[2px] h-3 bg-[#444] top-[48px] -rotate-[120deg] left-10\" />\n                        <div className=\"absolute w-[2px] h-3 bg-[#444] top-[48px] rotate-[120deg] right-10\" />\n                    </div>\n                </div>\n\n                {/* Bottom Woofer */}\n                <div className=\"w-48 h-48 rounded-full bg-[#202022] border-[4px] border-[#0a0a0a] shadow-[inset_0_10px_30px_rgba(0,0,0,0.9),0_5px_15px_rgba(0,0,0,0.5)] flex items-center justify-center relative mt-auto z-10\">\n                    {/* White Woofer Cone - Animated scale for vibration */}\n                    <motion.div\n                        animate={{ scale: wooferScale }}\n                        transition={{ type: 'spring', stiffness: 400, damping: 15 }}\n                        className=\"w-36 h-36 rounded-full bg-gradient-to-br from-[#f0f0f0] to-[#aaaaaa] shadow-[inset_0_-5px_15px_rgba(0,0,0,0.5)] flex items-center justify-center\"\n                    >\n                        {/* Center Dust Cap */}\n                        <div className=\"w-16 h-16 rounded-full bg-[#d0d0d0] border border-white/40 shadow-[0_2px_5px_rgba(0,0,0,0.2)]\" />\n                    </motion.div>\n                </div>\n\n            </motion.div>\n\n            {/* Monitor Base Shadow - Also pulse slightly */}\n            <motion.div\n                animate={{ scaleX: pulseScale, opacity: 0.7 + (bassLevel * 0.3) }}\n                className=\"w-48 h-4 bg-black/90 blur-xl mt-2 rounded-full\"\n            />\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;;;;;;AAEO,SAAS,cAAc,EAAE,YAAY,EAAE,EAA0B;IACpE,MAAM,YAAY,IAAA,sKAAW,EAAC,CAAC,QAAU,MAAM,SAAS;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,oPAAQ,EAAC,IAAI,SAAS;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,oPAAQ,EAAC,IAAI,SAAS;IAEtD,IAAA,qPAAS,EAAC;QACN,IAAI,CAAC,WAAW;YACZ,aAAa;YACb,YAAY;YACZ;QACJ;QAEA,IAAI;QACJ,MAAM,eAAe;YACjB,yDAAyD;YACzD,MAAM,OAAO,gLAAW,CAAC,iBAAiB,CAAC,gBAAgB,IAAI;YAC/D,mEAAmE;YACnE,MAAM,MAAM,gLAAW,CAAC,iBAAiB,CAAC,gBAAgB,KAAK;YAE/D,aAAa;YACb,YAAY;YAEZ,mBAAmB,sBAAsB;QAC7C;QAEA;QACA,OAAO,IAAM,qBAAqB;IACtC,GAAG;QAAC;KAAU;IAEd,yEAAyE;IACzE,MAAM,aAAa,IAAA,mPAAO,EAAC;QACvB,OAAO,IAAK,WAAW;IAC3B,GAAG;QAAC;KAAS;IAEb,6CAA6C;IAC7C,MAAM,cAAc,IAAA,mPAAO,EAAC;QACxB,OAAO,IAAK,YAAY;IAC5B,GAAG;QAAC;KAAU;IAEd,qBACI,iRAAC;QAAI,WAAW,CAAC,oDAAoD,EAAE,WAAW;;0BAE9E,iRAAC,uOAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;gBAAW;gBAC7B,YAAY;oBAAE,MAAM;oBAAU,WAAW;oBAAK,SAAS;gBAAG;gBAC1D,WAAU;;kCAIV,iRAAC;wBAAI,WAAU;;;;;;kCAGf,iRAAC;wBAAI,WAAU;;0CACX,iRAAC;gCAAI,WAAU;;;;;;0CAEf,iRAAC;gCAAI,WAAU;;kDACX,iRAAC;wCAAI,WAAU;;;;;;kDACf,iRAAC;wCAAI,WAAU;;;;;;kDACf,iRAAC;wCAAI,WAAU;;;;;;kDACf,iRAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;kCAKvB,iRAAC;wBAAI,WAAU;kCAEX,cAAA,iRAAC,uOAAM,CAAC,GAAG;4BACP,SAAS;gCAAE,OAAO;4BAAY;4BAC9B,YAAY;gCAAE,MAAM;gCAAU,WAAW;gCAAK,SAAS;4BAAG;4BAC1D,WAAU;sCAGV,cAAA,iRAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAO3B,iRAAC,uOAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,QAAQ;oBAAY,SAAS,MAAO,YAAY;gBAAK;gBAChE,WAAU;;;;;;;;;;;;AAI1B"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/MasteringKnob.tsx"],"sourcesContent":["import React from 'react';\n\ninterface MasteringKnobProps {\n    label: string;\n    value: number; // 0 to 100\n    onChange?: (value: number) => void;\n    size?: 'sm' | 'md' | 'lg';\n}\n\nexport function MasteringKnob({ label, value, onChange, size = 'md' }: MasteringKnobProps) {\n    // Calculate rotation (-135deg to +135deg for a standard 270 degree sweep)\n    const rotation = -135 + (value / 100) * 270;\n\n    const sizeClasses = {\n        sm: 'w-10 h-10',\n        md: 'w-16 h-16',\n        lg: 'w-24 h-24'\n    };\n\n    return (\n        <div className=\"flex flex-col items-center gap-3\">\n            {/* Knob Container (The groove/shadow it sits in) */}\n            <div className={`${sizeClasses[size]} rounded-full bg-[#1A1A1A] p-1 shadow-[inset_0_4px_10px_rgba(0,0,0,0.8),0_2px_4px_rgba(255,255,255,0.05)] relative flex items-center justify-center`}>\n\n                {/* The Knob Body */}\n                <div\n                    className=\"w-full h-full rounded-full bg-gradient-to-b from-[#333] to-[#111] shadow-[0_4px_8px_rgba(0,0,0,0.6),inset_0_2px_1px_rgba(255,255,255,0.2)] relative cursor-ns-resize group\"\n                    style={{ transform: `rotate(${rotation}deg)` }}\n                >\n                    {/* The Indicator Line */}\n                    <div className=\"absolute top-1 left-1/2 -translate-x-1/2 w-0.5 h-1/4 bg-white/80 rounded-full shadow-[0_0_2px_rgba(255,255,255,0.5)] group-hover:bg-cyan-glow group-hover:shadow-[0_0_5px_rgba(0,240,255,0.8)] transition-colors\" />\n                </div>\n            </div>\n\n            {/* Label */}\n            <span className=\"text-[10px] font-bold tracking-widest text-[#888] uppercase\">{label}</span>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;;AASO,SAAS,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,IAAI,EAAsB;IACrF,0EAA0E;IAC1E,MAAM,WAAW,CAAC,MAAM,AAAC,QAAQ,MAAO;IAExC,MAAM,cAAc;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACR;IAEA,qBACI,iRAAC;QAAI,WAAU;;0BAEX,iRAAC;gBAAI,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,mJAAmJ,CAAC;0BAGrL,cAAA,iRAAC;oBACG,WAAU;oBACV,OAAO;wBAAE,WAAW,CAAC,OAAO,EAAE,SAAS,IAAI,CAAC;oBAAC;8BAG7C,cAAA,iRAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;0BAKvB,iRAAC;gBAAK,WAAU;0BAA+D;;;;;;;;;;;;AAG3F"}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useMasteringStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport interface MasteringSettings {\n    // Gate\n    gateThreshold: number;\n    gateAttack: number;\n    gateRelease: number;\n    \n    // EQ\n    eqHighpass: number;\n    eqTilt: number;\n    eqSideGain: number;\n    eqSideFreq: number;\n    \n    // Leveler\n    levelerTarget: number;\n    levelerBrake: number;\n    levelerMaxPlus: number;\n    levelerMaxMinus: number;\n    \n    // Knee Compressor\n    compStrength: number;\n    compAttack: number;\n    compRelease: number;\n    compKnee: number;\n    compMakeup: number;\n    \n    // Multiband (interpolated low/high)\n    mbStrengthLow: number;\n    mbStrengthHigh: number;\n    mbAttackLow: number;\n    mbAttackHigh: number;\n    mbCrossoverLow: number;\n    mbCrossoverHigh: number;\n    \n    // Limiter & Brickwall\n    limStrength: number;\n    limAttack: number;\n    limRelease: number;\n    limCeiling: number;\n\n    // Legacy/Quick controls (for compatibility if needed)\n    inputDrive: number;\n    stereoWidth: number;\n}\n\nexport interface MasteringProject {\n    id: string;\n    name: string;\n    date: string;\n    audioUrl: string | null;\n    dna: string;\n    settings: MasteringSettings;\n}\n\ninterface MasteringState {\n    history: MasteringProject[];\n    currentModule: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter';\n    setCurrentModule: (module: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter') => void;\n    addToHistory: (project: Omit<MasteringProject, 'date'>) => void;\n    deleteFromHistory: (id: string) => void;\n    getProjectById: (id: string) => MasteringProject | undefined;\n}\n\nexport const useMasteringStore = create<MasteringState>()(\n    persist(\n        (set, get) => ({\n            history: [],\n            currentModule: 'leveler',\n            setCurrentModule: (module) => set({ currentModule: module }),\n            addToHistory: (project) => {\n                const newProject = {\n                    ...project,\n                    date: new Date().toISOString(),\n                };\n                set((state) => ({\n                    history: [newProject, ...state.history],\n                }));\n            },\n            deleteFromHistory: (id) => {\n                set((state) => ({\n                    history: state.history.filter((p) => p.id !== id),\n                }));\n            },\n            getProjectById: (id) => {\n                return get().history.find((p) => p.id === id);\n            },\n        }),\n        {\n            name: 'mastering-history-storage',\n        }\n    )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAgEO,MAAM,oBAAoB,IAAA,qLAAM,IACnC,IAAA,2LAAO,EACH,CAAC,KAAK,MAAQ,CAAC;QACX,SAAS,EAAE;QACX,eAAe;QACf,kBAAkB,CAAC,SAAW,IAAI;gBAAE,eAAe;YAAO;QAC1D,cAAc,CAAC;YACX,MAAM,aAAa;gBACf,GAAG,OAAO;gBACV,MAAM,IAAI,OAAO,WAAW;YAChC;YACA,IAAI,CAAC,QAAU,CAAC;oBACZ,SAAS;wBAAC;2BAAe,MAAM,OAAO;qBAAC;gBAC3C,CAAC;QACL;QACA,mBAAmB,CAAC;YAChB,IAAI,CAAC,QAAU,CAAC;oBACZ,SAAS,MAAM,OAAO,CAAC,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;gBAClD,CAAC;QACL;QACA,gBAAgB,CAAC;YACb,OAAO,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAC9C;IACJ,CAAC,GACD;IACI,MAAM;AACV"}},
    {"offset": {"line": 762, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/StudioChat.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudioChat = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudioChat() from the server but StudioChat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/StudioChat.tsx <module evaluation>\",\n    \"StudioChat\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,2SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2FACA","ignoreList":[0]}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/StudioChat.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudioChat = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudioChat() from the server but StudioChat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/StudioChat.tsx\",\n    \"StudioChat\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,2SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 790, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/SpectrumAnalyzer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SpectrumAnalyzer = registerClientReference(\n    function() { throw new Error(\"Attempted to call SpectrumAnalyzer() from the server but SpectrumAnalyzer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/SpectrumAnalyzer.tsx <module evaluation>\",\n    \"SpectrumAnalyzer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,2SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/SpectrumAnalyzer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SpectrumAnalyzer = registerClientReference(\n    function() { throw new Error(\"Attempted to call SpectrumAnalyzer() from the server but SpectrumAnalyzer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/SpectrumAnalyzer.tsx\",\n    \"SpectrumAnalyzer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,2SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6EACA","ignoreList":[0]}},
    {"offset": {"line": 826, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/app/%5Blocale%5D/mastering/page.tsx"],"sourcesContent":["import { StudioMonitor } from '@/components/daw/StudioMonitor';\nimport { MasteringKnob } from '@/components/daw/MasteringKnob';\nimport { Activity, Power, SlidersHorizontal, Upload, Download, Play, Pause, Volume2, Repeat, Music, History, Save, ChevronLeft, MessageSquare, Sparkles } from 'lucide-react';\nimport { useMasteringStore } from '@/store/useMasteringStore';\nimport { audioEngine } from '@/lib/audio-engine-bridge';\nimport { StudioChat } from '@/components/daw/StudioChat';\nimport { SpectrumAnalyzer } from '@/components/daw/SpectrumAnalyzer';\nimport Link from 'next/link';\nimport { useParams, useSearchParams } from 'next/navigation';\n\nexport default function Mastering() {\n    const params = useParams();\n    const searchParams = useSearchParams();\n    const locale = params.locale as string;\n    const loadId = searchParams.get('load');\n    \n    // UI State\n    const [isOn, setIsOn] = useState(true);\n    const [isComparing, setIsComparing] = useState(false);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [duration, setDuration] = useState(0);\n    const [volume, setVolume] = useState(0.8);\n    const [selectedSong, setSelectedSong] = useState('Proyecto 1 - Final');\n    const [metadataDNA, setMetadataDNA] = useState('PROJ-001-A');\n    const [audioUrl, setAudioUrl] = useState<string | null>(null);\n    const [chatOpen, setChatOpen] = useState(false);\n\n    // Mastering Knobs State (master_me architecture)\n    const [settings, setSettings] = useState({\n        // Gate\n        gateThreshold: 10,\n        gateAttack: 5,\n        gateRelease: 100,\n        \n        // EQ\n        eqHighpass: 30,\n        eqTilt: 0,\n        eqSideGain: 20,\n        eqSideFreq: 4000,\n        \n        // Leveler\n        levelerTarget: -14,\n        levelerBrake: -60,\n        levelerMaxPlus: 6,\n        levelerMaxMinus: 12,\n        \n        // Knee Compressor\n        compStrength: 30,\n        compAttack: 20,\n        compRelease: 200,\n        compKnee: 6,\n        compMakeup: 0,\n        \n        // Multiband\n        mbStrengthLow: 20,\n        mbStrengthHigh: 40,\n        mbAttackLow: 50,\n        mbAttackHigh: 20,\n        mbCrossoverLow: 200,\n        mbCrossoverHigh: 5000,\n        \n        // Limiter & Brickwall\n        limStrength: 50,\n        limAttack: 2,\n        limRelease: 100,\n        limCeiling: -0.1,\n\n        // Legacy/Direct\n        inputDrive: 20,\n        stereoWidth: 60,\n    });\n\n    const { addToHistory, getProjectById, currentModule, setCurrentModule } = useMasteringStore();\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n\n    // Load project from history if requested\n    useEffect(() => {\n        if (loadId) {\n            const project = getProjectById(loadId);\n            if (project) {\n                setSelectedSong(project.name);\n                setMetadataDNA(project.dna);\n                setSettings(project.settings);\n                if (project.audioUrl) {\n                    setAudioUrl(project.audioUrl);\n                }\n            }\n        }\n    }, [loadId, getProjectById]);\n\n    // List of songs currently available for mastering\n    const songList = [\n        { name: 'Proyecto 1 - Final', dna: 'PROJ-001-A' },\n        { name: 'Grabaci칩n de Voz - Raw', dna: 'PROJ-002-B' },\n        { name: 'Mix Down Instrumental', dna: 'PROJ-003-C' }\n    ];\n\n    // Mocking user plan for export logic\n    const userPlan = 'B치sico';\n\n    const handleImport = () => {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.accept = 'audio/*';\n        input.onchange = (e) => {\n            const file = (e.target as HTMLInputElement).files?.[0];\n            if (file) {\n                const url = URL.createObjectURL(file);\n                setAudioUrl(url);\n                const cleanName = file.name.replace(/\\.[^/.]+$/, \"\");\n                setSelectedSong(cleanName);\n                setMetadataDNA(`IMPORT-${Date.now().toString().slice(-4)}`);\n                setIsPlaying(true);\n            }\n        };\n        input.click();\n    };\n\n    // --- Audio Logic ---\n    useEffect(() => {\n        if (audioRef.current && audioUrl) {\n            audioEngine.connectAudioElement('master-track', audioRef.current);\n        }\n    }, [audioUrl]);\n\n    // Sync settings with Audio Engine\n    useEffect(() => {\n        if (!isOn) return;\n        \n        // Update individual modules in the audio engine\n        // (Note: These methods will be fully implemented in WebAudioEngine)\n        audioEngine.updateEQ('master-track', settings.eqHighpass, settings.eqTilt);\n        audioEngine.updateCompressor('master-track', settings.compStrength, settings.compAttack, settings.compRelease);\n        \n        // This makes the \"plugins\" feel real\n    }, [settings, isOn]);\n\n    const togglePlay = () => {\n        setIsPlaying(prev => !prev);\n    };\n\n    useEffect(() => {\n        if (audioRef.current) {\n            if (isPlaying && isOn) {\n                audioRef.current.play().catch(e => console.error(\"Playback failed\", e));\n            } else {\n                audioRef.current.pause();\n            }\n        }\n    }, [isPlaying, isOn, audioUrl]);\n\n    const handleTimeUpdate = () => {\n        if (audioRef.current) {\n            const current = audioRef.current.currentTime;\n            const dur = audioRef.current.duration;\n            setProgress((current / (dur || 1)) * 100);\n            setDuration(dur || 0);\n        }\n    };\n\n    const handleSeek = (percentage: number) => {\n        if (audioRef.current && duration) {\n            const time = (percentage / 100) * duration;\n            audioRef.current.currentTime = time;\n            setProgress(percentage);\n        }\n    };\n\n    const handleSave = () => {\n        const projectId = `proj-${Date.now()}`;\n        addToHistory({\n            id: projectId,\n            name: selectedSong,\n            audioUrl: audioUrl,\n            settings: settings,\n            dna: metadataDNA || projectId\n        });\n        alert(\"Sesi칩n guardada en el historial.\");\n    };\n\n    const handleExport = () => {\n        handleSave(); // Auto-save on export\n\n        const exportInfo = {\n            title: selectedSong,\n            studio: 'DA-GRABA STUDIO MASTER',\n            info: '24-bit / 44.1kHz High Quality'\n        };\n\n        if (userPlan === 'B치sico') {\n            alert(`Exportando \"${exportInfo.title}\"\\n- Sello: ${exportInfo.studio}\\n- Calidad: MP3 128kbps (Plan B치sico)\\n- Informaci칩n: El cliente puede editar su informaci칩n despu칠s de descargar.`);\n        } else {\n            alert(`Exportando Pro \"${exportInfo.title}\"\\n- Sello: ${exportInfo.studio}\\n- Formatos: WAV & MP3 320kbps\\n- Metadatos: Inyectando DA-GRABA MASTER DNA.`);\n        }\n    };\n\n    return (\n        <div className=\"flex flex-col w-full h-full items-center justify-start px-24 py-8 relative overflow-hidden pointer-events-auto\">\n            <audio \n                ref={audioRef} \n                src={audioUrl || ''} \n                onTimeUpdate={handleTimeUpdate}\n                onEnded={() => setIsPlaying(false)}\n            />\n\n            {/* Background Studio Window Blur effect */}\n            <div className=\"absolute inset-x-0 bottom-0 h-64 bg-gradient-to-t from-black/80 to-transparent pointer-events-none\" />\n\n            {/* TOP BAR: Horizontal Song Selection */}\n            <div className=\"w-full max-w-6xl mb-8 relative z-20\">\n                <div className=\"flex items-center gap-4 bg-black/40 backdrop-blur-xl border border-white/5 rounded-2xl p-2 shadow-2xl overflow-x-auto no-scrollbar\">\n                    <Link href={`/${locale}/mastering/history`} className=\"flex items-center gap-2 px-4 py-2 border-r border-white/10 flex-shrink-0 hover:bg-white/5 transition-colors group\">\n                        <History size={14} className=\"text-cyan-400 group-hover:rotate-[-45deg] transition-transform\" />\n                        <span className=\"text-[10px] text-white/60 font-black tracking-widest uppercase\">Historial</span>\n                    </Link>\n                    <div className=\"flex gap-2 p-1\">\n                        {songList.map((song) => (\n                            <button\n                                key={song.dna}\n                                onClick={() => {\n                                    setSelectedSong(song.name);\n                                    setMetadataDNA(song.dna);\n                                }}\n                                className={`flex flex-col min-w-[160px] px-4 py-2 rounded-xl transition-all border ${\n                                    selectedSong === song.name \n                                    ? 'bg-cyan-500/10 border-cyan-500/30 text-white shadow-[0_0_15px_rgba(6,182,212,0.1)]' \n                                    : 'bg-white/5 border-transparent text-white/40 hover:bg-white/10'\n                                }`}\n                            >\n                                <span className=\"text-[10px] font-bold truncate\">{song.name}</span>\n                                <span className=\"text-[7px] font-mono opacity-40 uppercase tracking-tighter\">DNA: {song.dna}</span>\n                            </button>\n                        ))}\n                    </div>\n                    <button onClick={handleImport} className=\"ml-auto flex items-center gap-2 px-6 py-2 rounded-xl bg-cyan-500 hover:bg-cyan-400 text-black text-[10px] font-black tracking-widest uppercase transition-all shadow-[0_0_20px_rgba(6,182,212,0.3)] shrink-0\">\n                        <Upload size={14} /> Importar Nuevo\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"w-full flex items-center justify-center relative z-10 gap-16\">\n                {/* Left Speaker */}\n                <div className=\"flex-shrink-0 transform scale-110\">\n                    <StudioMonitor />\n                </div>\n\n                {/* Center Plugin Rack */}\n                <div className=\"flex-1 max-w-4xl relative\">\n                    {/* The Plugin Enclosure */}\n                    <div className=\"bg-[#2B2B2B] rounded-2xl shadow-[0_30px_60px_rgba(0,0,0,0.9),inset_0_1px_1px_rgba(255,255,255,0.1)] border border-[#1A1A1A] p-4 flex flex-col gap-4\">\n\n                        {/* Header Bar */}\n                        <div className=\"flex justify-between items-center px-2 py-1\">\n                            <div className=\"flex items-center gap-6\">\n                                <span className=\"text-white font-bold text-sm tracking-wide flex items-center gap-2\">\n                                    <Activity size={16} />\n                                    DA GRABA\n                                </span>\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-white/80 font-bold text-[10px] uppercase tracking-tighter leading-none\">Stereo Master Rack</span>\n                                    <div className=\"flex items-center gap-1.5 mt-0.5\">\n                                        <div className=\"w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse\" />\n                                        <input \n                                            value={selectedSong} \n                                            onChange={(e) => setSelectedSong(e.target.value)}\n                                            className=\"bg-transparent border-none text-cyan-400 text-[11px] font-mono focus:outline-none focus:ring-1 focus:ring-cyan-400/30 rounded px-1 transition-all w-48\"\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Export buttons in header */}\n                            <div className=\"flex items-center gap-3\">\n                                <button onClick={handleSave} className=\"flex items-center gap-1.5 px-3 py-1 bg-white/5 hover:bg-white/10 border border-white/10 rounded text-xs text-white/60 hover:text-white transition-colors\">\n                                    <Save size={12} /> Guardar\n                                </button>\n                                <button onClick={handleExport} className=\"flex items-center gap-1.5 px-3 py-1 bg-green-600/20 hover:bg-green-600/40 border border-green-500/50 rounded text-xs text-green-400 hover:text-green-300 transition-colors\">\n                                    <Download size={12} /> Exportar\n                                </button>\n                            </div>\n\n                            {/* Power Switch */}\n                            <div className=\"flex items-center gap-3\">\n                                <button\n                                    onClick={() => setIsOn(!isOn)}\n                                    className=\"w-12 h-6 rounded-full bg-[#111] shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)] relative flex items-center px-1\"\n                                >\n                                    <div className={`w-4 h-4 rounded-full shadow-md transition-all duration-300 ${isOn ? 'bg-green-500 translate-x-6 glow-primary' : 'bg-[#444] translate-x-0'}`} />\n                                </button>\n                            </div>\n                        </div>\n\n                        {/* master_me Module Selector (Expert Mode Tabs) */}\n                        <div className=\"flex flex-col gap-2 mx-2\">\n                            <div className=\"flex items-center justify-between bg-black/20 rounded-lg p-1 border border-white/5\">\n                                {['gate', 'eq', 'leveler', 'compressor', 'multiband', 'limiter'].map((mod, idx) => (\n                                    <div key={mod} className=\"flex-1 flex items-center\">\n                                        <button\n                                            onClick={() => setCurrentModule(mod as any)}\n                                            className={`flex-1 py-1.5 px-2 rounded-md text-[9px] font-black uppercase tracking-widest transition-all ${\n                                                currentModule === mod \n                                                ? 'bg-cyan-500 text-black shadow-[0_0_15px_rgba(6,182,212,0.4)]' \n                                                : 'text-white/40 hover:text-white/70 hover:bg-white/5'\n                                            }`}\n                                        >\n                                            {mod === 'compressor' ? 'Comp' : mod === 'multiband' ? 'M-Band' : mod}\n                                        </button>\n                                        {idx < 5 && (\n                                            <div className=\"px-1 text-white/10 text-[8px] font-black\">俱</div>\n                                        )}\n                                    </div>\n                                ))}\n                            </div>\n                            <div className=\"flex justify-center\">\n                                <span className=\"text-[7px] text-cyan-400/40 uppercase font-black tracking-widest\">Signal Flow: Pre-Processing 俱 Gate 俱 EQ 俱 Leveler 俱 Comp 俱 M-Band 俱 Limiter 俱 Brickwall</span>\n                            </div>\n                        </div>\n\n                        <div className={`transition-opacity duration-500 ${isOn ? 'opacity-100' : 'opacity-30 pointer-events-none'}`}>\n                            {/* Middle Displays Row */}\n                            <div className=\"grid grid-cols-3 gap-4 h-48\">\n\n                                {/* Display 1: Real-time Spectrum Analyzer */}\n                                <div className=\"bg-[#181818] rounded-lg border border-[#333] shadow-[inset_0_5px_15px_rgba(0,0,0,0.9)] overflow-hidden\">\n                                     <SpectrumAnalyzer \n                                        analyzer={audioEngine.getTrackAnalyser('master-track')} \n                                        naked \n                                    />\n                                </div>\n\n                                {/* Display 2: Compare LED Meters */}\n                                <div className=\"bg-[#2A2A2D] rounded-lg border border-[#1A1A1C] shadow-inner p-4 flex flex-col items-center justify-between\">\n                                    <div className=\"flex gap-8 h-24 w-full justify-center\">\n                                        {/* Source Meter */}\n                                        <div className=\"flex flex-col gap-1 h-full w-8 bg-[#111] rounded-sm p-1 shadow-inner justify-end\">\n                                            <div className=\"text-[8px] text-center text-silver-dark font-mono uppercase mb-1\">SRC</div>\n                                            {Array.from({ length: 12 }).map((_, i) => (\n                                                <div key={`s-${i}`} className={`h-1.5 w-full rounded-xs ${i < 3 ? 'bg-[#333]' : i < 6 ? 'bg-yellow-500/80 shadow-[0_0_5px_rgba(234,179,8,0.5)]' : 'bg-green-500/80 shadow-[0_0_5px_rgba(34,197,94,0.5)]'}`} />\n                                            ))}\n                                        </div>\n\n                                        {/* Master Meter */}\n                                        <div className=\"flex flex-col gap-1 h-full w-8 bg-[#111] rounded-sm p-1 shadow-inner justify-end\">\n                                            <div className=\"text-[8px] text-center text-silver-dark font-mono uppercase mb-1\">MST</div>\n                                            {Array.from({ length: 12 }).map((_, i) => (\n                                                <div key={`m-${i}`} className={`h-1.5 w-full rounded-xs ${i < 1 ? 'bg-[#333]' : i < 4 ? 'bg-yellow-500 shadow-[0_0_8px_rgba(234,179,8,0.8)]' : 'bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.8)]'}`} />\n                                            ))}\n                                        </div>\n                                    </div>\n\n                                    <button\n                                        onMouseDown={() => setIsComparing(true)}\n                                        onMouseUp={() => setIsComparing(false)}\n                                        onMouseLeave={() => setIsComparing(false)}\n                                        className={`mt-4 px-6 py-1 rounded bg-[#1A1A1A] border border-[#333] text-[10px] font-bold tracking-widest uppercase transition-all shadow-[0_4px_6px_rgba(0,0,0,0.5)] active:translate-y-1 active:shadow-none ${isComparing ? 'text-red-500 glow-red border-red-500/50' : 'text-[#888] hover:text-[#AAA]'}`}\n                                    >\n                                        COMPARE\n                                    </button>\n                                </div>\n\n                                {/* Display 3: Right Side Panel (Master Mode) */}\n                                <div className=\"bg-[#303030] rounded-lg border border-[#3A3A3A] p-4 flex flex-col items-center justify-center gap-6 shadow-inner\">\n                                    <div className=\"bg-[#1A1A1C] px-4 py-1.5 rounded-full border border-cyan-glow/30 flex items-center justify-between w-full cursor-pointer shadow-inner\">\n                                        <span className=\"text-cyan-glow text-xs font-bold tracking-widest uppercase\">Stereo</span>\n                                        <span className=\"text-white/50 text-[10px]\">郊</span>\n                                    </div>\n                                    <MasteringKnob \n                                        label=\"INPUT DRIVE\" \n                                        value={settings.inputDrive} \n                                        onChange={(v) => setSettings({...settings, inputDrive: v})}\n                                        size=\"sm\" \n                                    />\n                                    <MasteringKnob \n                                        label=\"WIDTH\" \n                                        value={settings.stereoWidth} \n                                        onChange={(v) => setSettings({...settings, stereoWidth: v})}\n                                        size=\"sm\" \n                                    />\n                                </div>\n\n                            </div>\n\n                            {/* Bottom Row Knobs: Dynamic master_me module controls */}\n                            <div className=\"mt-4 bg-[#303030] rounded-lg border border-[#3A3A3A] p-8 flex justify-around items-center shadow-inner min-h-[180px]\">\n                                {currentModule === 'gate' && (\n                                    <>\n                                        <MasteringKnob label=\"THRES\" value={settings.gateThreshold} onChange={(v) => setSettings({...settings, gateThreshold: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"ATTACK\" value={settings.gateAttack} onChange={(v) => setSettings({...settings, gateAttack: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"RELEASE\" value={settings.gateRelease} onChange={(v) => setSettings({...settings, gateRelease: v})} size=\"lg\" />\n                                    </>\n                                )}\n                                {currentModule === 'eq' && (\n                                    <>\n                                        <MasteringKnob label=\"HI-PASS\" value={settings.eqHighpass} onChange={(v) => setSettings({...settings, eqHighpass: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"TILT\" value={settings.eqTilt} onChange={(v) => setSettings({...settings, eqTilt: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"SIDE GAIN\" value={settings.eqSideGain} onChange={(v) => setSettings({...settings, eqSideGain: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"SIDE FREQ\" value={settings.eqSideFreq} onChange={(v) => setSettings({...settings, eqSideFreq: v})} size=\"lg\" />\n                                    </>\n                                )}\n                                {currentModule === 'leveler' && (\n                                    <>\n                                        <MasteringKnob label=\"TARGET LUFS\" value={settings.levelerTarget} onChange={(v) => setSettings({...settings, levelerTarget: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"BRAKE\" value={settings.levelerBrake} onChange={(v) => setSettings({...settings, levelerBrake: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"MAX +\" value={settings.levelerMaxPlus} onChange={(v) => setSettings({...settings, levelerMaxPlus: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"MAX -\" value={settings.levelerMaxMinus} onChange={(v) => setSettings({...settings, levelerMaxMinus: v})} size=\"lg\" />\n                                    </>\n                                )}\n                                {currentModule === 'compressor' && (\n                                    <>\n                                        <MasteringKnob label=\"STRENGTH\" value={settings.compStrength} onChange={(v) => setSettings({...settings, compStrength: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"ATTACK\" value={settings.compAttack} onChange={(v) => setSettings({...settings, compAttack: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"RELEASE\" value={settings.compRelease} onChange={(v) => setSettings({...settings, compRelease: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"MAKEUP\" value={settings.compMakeup} onChange={(v) => setSettings({...settings, compMakeup: v})} size=\"lg\" />\n                                    </>\n                                )}\n                                {currentModule === 'multiband' && (\n                                    <>\n                                        <div className=\"flex flex-col items-center gap-4 border-r border-white/5 pr-8\">\n                                            <span className=\"text-[8px] text-white/30 uppercase font-black tracking-widest\">Low Bands</span>\n                                            <div className=\"flex gap-4\">\n                                                <MasteringKnob label=\"STR\" value={settings.mbStrengthLow} onChange={(v) => setSettings({...settings, mbStrengthLow: v})} size=\"md\" />\n                                                <MasteringKnob label=\"CROSS\" value={settings.mbCrossoverLow} onChange={(v) => setSettings({...settings, mbCrossoverLow: v})} size=\"md\" />\n                                            </div>\n                                        </div>\n                                        <div className=\"flex flex-col items-center gap-4\">\n                                            <span className=\"text-[8px] text-white/30 uppercase font-black tracking-widest\">High Bands</span>\n                                            <div className=\"flex gap-4\">\n                                                <MasteringKnob label=\"STR\" value={settings.mbStrengthHigh} onChange={(v) => setSettings({...settings, mbStrengthHigh: v})} size=\"md\" />\n                                                <MasteringKnob label=\"CROSS\" value={settings.mbCrossoverHigh} onChange={(v) => setSettings({...settings, mbCrossoverHigh: v})} size=\"md\" />\n                                            </div>\n                                        </div>\n                                    </>\n                                )}\n                                {currentModule === 'limiter' && (\n                                    <>\n                                        <MasteringKnob label=\"STRENGTH\" value={settings.limStrength} onChange={(v) => setSettings({...settings, limStrength: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"ATTACK\" value={settings.limAttack} onChange={(v) => setSettings({...settings, limAttack: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"RELEASE\" value={settings.limRelease} onChange={(v) => setSettings({...settings, limRelease: v})} size=\"lg\" />\n                                        <MasteringKnob label=\"CEILING\" value={settings.limCeiling} onChange={(v) => setSettings({...settings, limCeiling: v})} size=\"lg\" />\n                                    </>\n                                )}\n                            </div>\n\n                        </div>\n                    </div>\n\n                    {/* ELEGANT MASTERING PLAYER */}\n                    <div className=\"mt-8 bg-black/40 backdrop-blur-3xl border border-white/5 rounded-3xl p-6 shadow-2xl ring-1 ring-white/10 animate-in fade-in slide-in-from-bottom-4 duration-700\">\n                        <div className=\"flex items-center gap-6\">\n                            {/* Track Info & Visualizer */}\n                            <div className=\"flex items-center gap-4 w-1/3\">\n                                <div className=\"w-16 h-16 bg-gradient-to-br from-cyan-600 to-blue-800 rounded-2xl flex items-center justify-center shadow-2xl border border-white/20 relative overflow-hidden group\">\n                                    <Music className=\"text-white/80 transition-transform group-hover:scale-110\" size={24} />\n                                    <div className=\"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                                </div>\n                                <div className=\"flex flex-col\">\n                                    <span className=\"text-white font-black tracking-widest text-sm uppercase truncate max-w-[150px]\">{selectedSong}</span>\n                                    <span className=\"text-cyan-400/60 font-mono text-[9px] tracking-widest mt-0.5\">DNA: {metadataDNA}</span>\n                                    <span className=\"text-white/20 font-mono text-[8px] uppercase mt-1\">24-BIT / 44.1KHZ</span>\n                                </div>\n                            </div>\n\n                            {/* Main Controls */}\n                            <div className=\"flex-1 flex flex-col items-center gap-3\">\n                                <div className=\"flex items-center gap-8\">\n                                    <button className=\"text-white/20 hover:text-white transition-colors\"><Repeat size={16} /></button>\n                                    <button \n                                        onClick={() => setIsPlaying(!isPlaying)}\n                                        className=\"w-14 h-14 bg-white rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(255,255,255,0.2)] hover:scale-105 transition-all active:scale-95 group\"\n                                    >\n                                        {isPlaying ? <Pause size={24} fill=\"black\" className=\"text-black\" /> : <Play size={24} fill=\"black\" className=\"text-black ml-1\" />}\n                                    </button>\n                                    <button onClick={handleExport} className=\"text-white/20 hover:text-green-400 transition-colors\"><Download size={16} /></button>\n                                </div>\n\n                                {/* Elegant Seeker */}\n                                <div className=\"w-full flex items-center gap-4\">\n                                    <span className=\"text-[10px] font-mono text-white/30 w-8 text-right\">\n                                        {Math.floor((audioRef.current?.currentTime || 0) / 60)}:\n                                        {Math.floor((audioRef.current?.currentTime || 0) % 60).toString().padStart(2, '0')}\n                                    </span>\n                                    <div \n                                        onClick={(e) => {\n                                            const rect = e.currentTarget.getBoundingClientRect();\n                                            const x = e.clientX - rect.left;\n                                            const p = (x / rect.width) * 100;\n                                            handleSeek(p);\n                                        }}\n                                        className=\"flex-1 h-1.5 bg-white/5 rounded-full relative overflow-hidden group cursor-pointer\"\n                                    >\n                                        <div className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-cyan-500 to-blue-600 shadow-[0_0_10px_rgba(6,182,212,0.5)]\" style={{ width: `${progress}%` }} />\n                                    </div>\n                                    <span className=\"text-[10px] font-mono text-white/30 w-8 text-left\">\n                                        {Math.floor(duration / 60)}:{Math.floor(duration % 60).toString().padStart(2, '0')}\n                                    </span>\n                                </div>\n                            </div>\n\n                            {/* Utilities */}\n                            <div className=\"w-1/3 flex items-center justify-end gap-6\">\n                                {/* L-R VU Meter */}\n                                <div className=\"flex flex-col gap-1.5 mr-2 pointer-events-none\">\n                                    {/* Left Channel */}\n                                    <div className=\"flex gap-0.5 items-center\">\n                                        <span className=\"text-[7px] text-white/30 font-mono w-2\">L</span>\n                                        <div className=\"flex gap-0.5\">\n                                            {[...Array(12)].map((_, i) => (\n                                                <div \n                                                    key={i} \n                                                    className={`w-1 h-3 rounded-full transition-all duration-300 ${\n                                                        isPlaying && i < (isPlaying ? 5 + Math.random() * 6 : 0) ? 'bg-green-500/80 shadow-[0_0_5px_rgba(34,197,94,0.3)]' : \n                                                        isPlaying && i < 10 ? 'bg-yellow-500/80' : \n                                                        'bg-white/5'\n                                                    }`} \n                                                />\n                                            ))}\n                                        </div>\n                                    </div>\n                                    {/* Right Channel */}\n                                    <div className=\"flex gap-0.5 items-center\">\n                                        <span className=\"text-[7px] text-white/30 font-mono w-2\">R</span>\n                                        <div className=\"flex gap-0.5\">\n                                            {[...Array(12)].map((_, i) => (\n                                                <div \n                                                    key={i} \n                                                    className={`w-1 h-3 rounded-full transition-all duration-300 ${\n                                                        isPlaying && i < (isPlaying ? 4 + Math.random() * 8 : 0) ? 'bg-green-500/80 shadow-[0_0_5px_rgba(34,197,94,0.3)]' : \n                                                        'bg-white/5'\n                                                    }`} \n                                                />\n                                            ))}\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div className=\"flex items-center gap-3 bg-white/5 px-4 py-2 rounded-full border border-white/5 group\">\n                                    <Volume2 size={14} className=\"text-white/40 group-hover:text-white\" />\n                                    <input \n                                        type=\"range\"\n                                        min=\"0\"\n                                        max=\"1\"\n                                        step=\"0.01\"\n                                        value={volume}\n                                        onChange={(e) => {\n                                            const v = parseFloat(e.target.value);\n                                            setVolume(v);\n                                            if (audioRef.current) audioRef.current.volume = v;\n                                        }}\n                                        className=\"w-20 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white\"\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Right Speaker */}\n                <div className=\"flex-shrink-0 transform scale-110\">\n                    <StudioMonitor />\n                </div>\n            </div>\n\n            {/* FLOATING AI ENGINEER CHAT BUTTON AND INTERFACE */}\n            <div className=\"fixed bottom-12 right-12 z-[100] flex flex-col items-end gap-3\">\n                {chatOpen && (\n                    <div className=\"w-96 h-[500px] mb-6 animate-in slide-in-from-bottom-10 fade-in duration-500 origin-bottom-right\">\n                        <div className=\"w-full h-full bg-[#0B1015]/95 backdrop-blur-2xl border border-white/10 rounded-3xl flex flex-col overflow-hidden shadow-[0_40px_100px_rgba(0,0,0,0.8)] ring-1 ring-white/20\">\n                            {/* Header for the Mastering-specific Chat */}\n                            <div className=\"px-6 py-4 border-b border-white/5 bg-gradient-to-r from-cyan-600/20 to-blue-700/20 flex items-center justify-between\">\n                                <div className=\"flex items-center gap-3\">\n                                    <div className=\"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center border border-cyan-500/30\">\n                                        <Sparkles size={14} className=\"text-cyan-400\" />\n                                    </div>\n                                    <div className=\"flex flex-col\">\n                                        <span className=\"text-[10px] font-black tracking-[0.2em] text-white uppercase\">John - Da Graba Eng.</span>\n                                        <span className=\"text-[7px] font-mono text-cyan-400/60 uppercase\">Especialista en Masterizaci칩n</span>\n                                    </div>\n                                </div>\n                                <button onClick={() => setChatOpen(false)} className=\"p-1 hover:bg-white/5 rounded-md text-white/20 hover:text-white transition-colors\">\n                                    <ChevronLeft size={16} className=\"rotate-[-90deg]\" />\n                                </button>\n                            </div>\n                            \n                            {/* The StudioChat component itself should be refactored to be more modular \n                                but for now we'll use a copy of its logic or just embed it if it works.\n                                Given the current structure, I'll embed it but adjust its position via props if added.\n                            */}\n                            <div className=\"flex-1 overflow-hidden relative\">\n                                <StudioChat embedded={true} />\n                            </div>\n                        </div>\n                    </div>\n                )}\n                \n                <button\n                    onClick={() => setChatOpen(!chatOpen)}\n                    className={`group flex items-center gap-4 px-8 py-4 rounded-full border transition-all duration-700 shadow-[0_20px_60px_rgba(0,0,0,0.6)] hover:shadow-[0_25px_80px_rgba(6,182,212,0.3)] ${\n                        chatOpen \n                        ? 'bg-orange-600 border-orange-400/50 scale-95' \n                        : 'bg-gradient-to-r from-cyan-600 to-blue-700 border-white/20 hover:scale-110 active:scale-95'\n                    }`}\n                >\n                    <div className=\"relative\">\n                        <MessageSquare size={20} className={`text-white transition-all duration-500 ${chatOpen ? 'rotate-90 opacity-0' : 'animate-pulse'}`} />\n                        <Activity size={20} className={`text-white absolute inset-0 transition-all duration-500 ${chatOpen ? 'rotate-0' : 'opacity-0 -rotate-90'}`} />\n                    </div>\n                    <div className=\"flex flex-col items-start leading-none pr-2\">\n                        <span className=\"text-[11px] font-black tracking-[0.2em] text-white uppercase drop-shadow-md\">ING DA GRABA MASTERING</span>\n                        <span className=\"text-[8px] font-mono text-white/40 uppercase mt-1 tracking-tighter\">Consultar con John</span>\n                    </div>\n                    <div className={`w-2 h-2 rounded-full ${isPlaying ? 'bg-green-500 animate-pulse shadow-[0_0_10px_rgba(34,197,94,0.8)]' : 'bg-white/20'}`} />\n                </button>\n            </div>\n\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}