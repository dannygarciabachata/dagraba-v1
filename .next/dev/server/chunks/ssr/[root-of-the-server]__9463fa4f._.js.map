{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useDAWStore.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport type TrackType = 'mono' | 'stereo' | 'aux' | 'master' | 'midi' | 'virtual_instrument';\n\nexport interface DAWTrack {\n    id: string;\n    name: string;\n    color: string;\n    trackType: TrackType;\n}\n\nexport interface FXInsert {\n    id: string;\n    pluginId: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter' | 'reverb' | 'delay' | 'chorus' | 'distortion' | 'virtual_instrument';\n    bypass: boolean;\n    settings: any;\n}\n\nexport interface FaderState {\n    id: string; // 'vocal', 'beat', 'bass', 'fx', 'ch-...'\n    label: string;\n    value: number; // 0 a 100\n    isMuted: boolean;\n    pan: number;\n    isSoloed: boolean;\n    inserts: FXInsert[];\n}\n\nexport type BottomPanelState = 'mixer' | 'piano_roll' | 'closed';\nexport type CloudStatus = 'disconnected' | 'connecting' | 'connected';\n\ninterface DAWStore {\n    faders: FaderState[];\n    tracks: DAWTrack[];\n    isTraining: boolean;\n    activeArtistId: string | null;\n    activeBottomPanel: BottomPanelState;\n    mixerBank: 1 | 2; // 1 = Ch 1-16, 2 = Ch 17-32\n    cloudStatus: CloudStatus;\n    systemMessage: string;\n    isMetronomeOn: boolean;\n    isPlaying: boolean;\n    masterLevel: number;\n    currentPreviewTrack: any | null;\n    isFullMixer: boolean;\n\n    // Acciones para que la IA mueva los faders\n    setFaderValue: (id: string, value: number) => void;\n    setTrainingStatus: (status: boolean) => void;\n    resetConsole: () => void;\n    // Preserving DAW UI state\n    setPan: (id: string, pan: number) => void;\n    toggleSolo: (id: string) => void;\n    toggleMute: (id: string) => void;\n    setActiveBottomPanel: (panel: BottomPanelState) => void;\n    setMixerBank: (bank: 1 | 2) => void;\n    setCloudStatus: (status: CloudStatus, message?: string) => void;\n    setFullMixer: (status: boolean) => void;\n\n    // Track Management\n    addTrack: (name?: string, color?: string, trackType?: TrackType) => void;\n    setTracks: (tracks: DAWTrack[]) => void;\n    clearTracks: () => void;\n    removeTrack: (id: string) => void;\n    toggleMetronome: () => void;\n    setIsPlaying: (playing: boolean) => void;\n    setMasterLevel: (level: number) => void;\n    setPreviewTrack: (track: any | null) => void;\n\n    // FX Insert Management\n    addInsert: (trackId: string, pluginId: FXInsert['pluginId']) => void;\n    removeInsert: (trackId: string, insertId: string) => void;\n    updateInsertSettings: (trackId: string, insertId: string, settings: any) => void;\n    toggleInsertBypass: (trackId: string, insertId: string) => void;\n\n    // Plugin Window Management\n    openPluginIds: string[]; // List of insert IDs currently open\n    openPlugin: (insertId: string) => void;\n    closePlugin: (insertId: string) => void;\n}\n\nexport const useDAWStore = create<DAWStore>((set) => ({\n    faders: [], // Faders are created dynamically per track\n    tracks: [],\n    isTraining: false,\n    activeArtistId: null,\n    activeBottomPanel: 'mixer', // Mixer opens by default\n    mixerBank: 1,\n    cloudStatus: 'disconnected',\n    systemMessage: '',\n    isMetronomeOn: false,\n    isPlaying: false,\n    masterLevel: 0,\n    currentPreviewTrack: null,\n    isFullMixer: false,\n\n    setTracks: (tracks: DAWTrack[]) => set((state) => {\n        const newFaders: FaderState[] = tracks.map((track) => ({\n            id: track.id,\n            label: track.name.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        }));\n        return { tracks, faders: newFaders };\n    }),\n\n    addTrack: (name, color, trackType = 'mono') => set((state) => {\n        const newId = `t${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const trackColor = color || ['#00F0FF', '#FF6B00', '#A4ECA1', '#E2A04A', '#D94AE2', '#FF0055', '#55FF00'][Math.floor(Math.random() * 7)];\n        const trackName = name || `Audio Track ${state.tracks.length + 1}`;\n\n        const newTrack: DAWTrack = { id: newId, name: trackName, color: trackColor, trackType };\n        const newFader: FaderState = {\n            id: newId,\n            label: trackName.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        };\n\n        return {\n            tracks: [...state.tracks, newTrack],\n            faders: [...state.faders, newFader]\n        };\n    }),\n\n    clearTracks: () => set({ tracks: [], faders: [] }),\n\n    removeTrack: (id) => set((state) => ({\n        tracks: state.tracks.filter(t => t.id !== id),\n        faders: state.faders.filter(f => f.id !== id)\n    })),\n\n    toggleMetronome: () => set((state) => ({\n        isMetronomeOn: !state.isMetronomeOn\n    })),\n\n    setActiveBottomPanel: (panel) => set({ activeBottomPanel: panel }),\n    setMixerBank: (bank) => set({ mixerBank: bank }),\n\n    setFaderValue: (id, value) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, value } : f)\n    })),\n\n    setTrainingStatus: (status) => set({ isTraining: status }),\n\n    resetConsole: () => set((state) => ({\n        faders: state.faders.map((f) => ({ ...f, value: 0 }))\n    })),\n\n    setPan: (id, pan) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, pan } : f)\n    })),\n\n    toggleSolo: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isSoloed: !f.isSoloed } : f)\n    })),\n\n    toggleMute: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isMuted: !f.isMuted } : f)\n    })),\n\n    setCloudStatus: (status, message = '') => set({ cloudStatus: status, systemMessage: message }),\n    setIsPlaying: (playing) => set({ isPlaying: playing }),\n    setMasterLevel: (level) => set({ masterLevel: level }),\n    setPreviewTrack: (track) => set({ currentPreviewTrack: track }),\n    setFullMixer: (status) => set({ isFullMixer: status }),\n\n    // FX Insert Management\n    addInsert: (trackId, pluginId) => set((state) => {\n        const defaultSettings: any = {\n            gate: { gateThreshold: 10, gateAttack: 5, gateRelease: 100 },\n            eq: { eqHighpass: 30, eqTilt: 0, eqSideGain: 20, eqSideFreq: 4000 },\n            leveler: { levelerTarget: -14, levelerBrake: -60, levelerMaxPlus: 6, levelerMaxMinus: 12 },\n            compressor: { compStrength: 30, compAttack: 20, compRelease: 200, compMakeup: 0 },\n            multiband: { mbStrengthLow: 20, mbStrengthHigh: 40, mbCrossoverLow: 200, mbCrossoverHigh: 5000 },\n            limiter: { limStrength: 50, limAttack: 2, limRelease: 100, limCeiling: -0.1 }\n        };\n\n        const newInsert: FXInsert = {\n            id: `fx-${pluginId}-${Date.now()}`,\n            pluginId,\n            bypass: false,\n            settings: defaultSettings[pluginId] || {}\n        };\n\n        return {\n            faders: state.faders.map(f => f.id === trackId\n                ? { ...f, inserts: [...f.inserts, newInsert].slice(0, 4) } // Limit to 4 slots\n                : f)\n        };\n    }),\n\n    removeInsert: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.filter(i => i.id !== insertId) }\n            : f)\n    })),\n\n    updateInsertSettings: (trackId, insertId, newSettings) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, settings: { ...i.settings, ...newSettings } } : i) }\n            : f)\n    })),\n\n    toggleInsertBypass: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, bypass: !i.bypass } : i) }\n            : f)\n    })),\n\n    // Plugin Window Management\n    openPluginIds: [],\n    openPlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.includes(insertId) ? state.openPluginIds : [...state.openPluginIds, insertId]\n    })),\n    closePlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.filter(id => id !== insertId)\n    })),\n}));\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/Fader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Fader = registerClientReference(\n    function() { throw new Error(\"Attempted to call Fader() from the server but Fader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/Fader.tsx <module evaluation>\",\n    \"Fader\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,2SAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,sFACA","ignoreList":[0]}},
    {"offset": {"line": 270, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/Fader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Fader = registerClientReference(\n    function() { throw new Error(\"Attempted to call Fader() from the server but Fader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/Fader.tsx\",\n    \"Fader\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,2SAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,kEACA","ignoreList":[0]}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/AudioTimeline.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AudioTimeline = registerClientReference(\n    function() { throw new Error(\"Attempted to call AudioTimeline() from the server but AudioTimeline is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/AudioTimeline.tsx <module evaluation>\",\n    \"AudioTimeline\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,2SAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,8FACA","ignoreList":[0]}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/AudioTimeline.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AudioTimeline = registerClientReference(\n    function() { throw new Error(\"Attempted to call AudioTimeline() from the server but AudioTimeline is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/AudioTimeline.tsx\",\n    \"AudioTimeline\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,gBAAgB,IAAA,2SAAuB,EAChD;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,0EACA","ignoreList":[0]}},
    {"offset": {"line": 320, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/audio/WebAudioEngine.ts"],"sourcesContent":["export interface TrackChain {\n    input: GainNode;\n    inserts: AudioNode[];\n    gate?: DynamicsCompressorNode;\n    eqBands?: BiquadFilterNode[]; // [lowShelf, midPeak, highShelf, presencePeak]\n    compressor?: DynamicsCompressorNode;\n    makeup?: GainNode;\n    limiter?: DynamicsCompressorNode;\n    wasmLimiter?: AudioWorkletNode;\n    output: GainNode;\n    panner: StereoPannerNode;\n    analyser: AnalyserNode;\n    source?: MediaElementAudioSourceNode | AudioBufferSourceNode;\n}\n\nclass WebAudioEngine {\n    private ctx: AudioContext | null = null;\n    private masterGain: GainNode | null = null;\n    private trackChains: Map<string, TrackChain> = new Map();\n    private sourceNodeMap: WeakMap<HTMLMediaElement, MediaElementAudioSourceNode> = new WeakMap();\n    private isPlaying = false;\n    private playhead = 0;\n    private startTime = 0;\n\n    constructor() {\n        // We delay context creation until a user interaction (play)\n    }\n\n    public initContext() {\n        if (!this.ctx) {\n            this.ctx = new (window.AudioContext || (window as any).webkitAudioContext)();\n            this.masterGain = this.ctx.createGain();\n            this.masterGain.connect(this.ctx.destination);\n        }\n        if (this.ctx.state === 'suspended') {\n            this.ctx.resume();\n        }\n    }\n\n    private getOrCreateTrack(trackId: string): TrackChain {\n        this.initContext();\n        if (!this.trackChains.has(trackId)) {\n            const ctx = this.ctx!;\n            const input = ctx.createGain();\n            const output = ctx.createGain();\n            const panner = ctx.createStereoPanner();\n            const analyser = ctx.createAnalyser();\n\n            analyser.fftSize = 256;\n\n            // Initial chain: Input -> Pan -> Output -> Analyser -> Master\n            input.connect(panner);\n            panner.connect(output);\n            output.connect(analyser);\n            analyser.connect(this.masterGain!);\n\n            this.trackChains.set(trackId, { input, output, panner, analyser, inserts: [] });\n        }\n        return this.trackChains.get(trackId)!;\n    }\n\n    init(sampleRate: number, bufferSize: number) {\n        console.log(`[WebAudioEngine] Ready for initialization. context will start on play.`);\n        return true;\n    }\n\n    /**\n     * Loads the AudioWorklet for the WebAssembly C++ engine.\n     * To be called when the user wants to switch to the professional offline engine.\n     */\n    async loadWasmLimiter() {\n        this.initContext();\n        try {\n            await this.ctx!.audioWorklet.addModule('/wasm/phaselimiter-worklet.js');\n            console.log(\"[WebAudioEngine] WASM AudioWorklet module loaded successfully.\");\n            return true;\n        } catch (error) {\n            console.error(\"[WebAudioEngine] Failed to load WASM AudioWorklet module:\", error);\n            return false;\n        }\n    }\n\n    play() {\n        this.initContext();\n        this.isPlaying = true;\n        this.startTime = this.ctx!.currentTime - this.playhead;\n        console.log(`[WebAudioEngine] Playback started.`);\n    }\n\n    pause() {\n        this.isPlaying = false;\n        if (this.ctx) {\n            this.playhead = this.ctx.currentTime - this.startTime;\n        }\n        console.log(`[WebAudioEngine] Playback paused.`);\n    }\n\n    stop() {\n        this.isPlaying = false;\n        this.playhead = 0;\n        console.log(`[WebAudioEngine] Playback stopped.`);\n    }\n\n    setPlayheadPosition(seconds: number) {\n        this.playhead = seconds;\n        if (this.isPlaying && this.ctx) {\n            this.startTime = this.ctx.currentTime - seconds;\n        }\n    }\n\n    getPlayheadPosition() {\n        if (this.isPlaying && this.ctx) {\n            return this.ctx.currentTime - this.startTime;\n        }\n        return this.playhead;\n    }\n\n    setTrackVolume(trackId: string, value: number) {\n        // value 0-100 to gain 0-1\n        const chain = this.getOrCreateTrack(trackId);\n        const gainValue = value / 100;\n        chain.output.gain.setTargetAtTime(gainValue, this.ctx!.currentTime, 0.05);\n    }\n\n    setTrackPan(trackId: string, value: number) {\n        // value -50 to 50 to pan -1 to 1\n        const chain = this.getOrCreateTrack(trackId);\n        const panValue = value / 50;\n        chain.panner.pan.setTargetAtTime(panValue, this.ctx!.currentTime, 0.05);\n    }\n\n    setTrackMute(trackId: string, isMuted: boolean) {\n        const chain = this.getOrCreateTrack(trackId);\n        const gainValue = isMuted ? 0 : 1; // This should ideally be multiplied by the fader value\n        // For simplicity, we'll store the target gain elsewhere or just use 0/1 for now\n        // A better way is to have another GainNode for mute\n    }\n\n    setTrackSolo(trackId: string, isSolo: boolean) {\n        // Dummy implementation for compilation\n    }\n\n    moveAudioClip(clipId: string, newTime: number) {\n        // Dummy implementation\n    }\n\n    getWaveformData(clipId: string, arg2?: any): number[] {\n        // Dummy implementation\n        return [];\n    }\n\n    // New method to connect a real audio element (like in the mastering page)\n    connectAudioElement(trackId: string, element: HTMLMediaElement) {\n        this.initContext();\n        const chain = this.getOrCreateTrack(trackId);\n\n\n        let source = this.sourceNodeMap.get(element);\n        if (!source) {\n            try {\n                source = this.ctx!.createMediaElementSource(element);\n                this.sourceNodeMap.set(element, source);\n            } catch (e) {\n                console.warn('Failed to create media element source', e);\n                return;\n            }\n        }\n\n        try { source.disconnect(); } catch (e) { }\n        source.connect(chain.input);\n        chain.source = source;\n    }\n\n    /**\n     * Performs an offline analysis of an audio file to determine its \"DNA\" (RMS, Peak, Crest Factor).\n     * Used by the AI to set accurate dynamic and loudness targets.\n     */\n    async analyzeAudioBuffer(audioUrl: string): Promise<{ rms: number, peak: number, crestFactor: number } | null> {\n        try {\n            console.log('[WebAudioEngine] Fetching audio for analysis...');\n            const response = await fetch(audioUrl);\n            const arrayBuffer = await response.arrayBuffer();\n\n            // Use an OfflineAudioContext just to decode (or use main ctx)\n            this.initContext();\n            console.log('[WebAudioEngine] Decoding audio data...');\n            const audioBuffer = await this.ctx!.decodeAudioData(arrayBuffer);\n\n            const channelData = audioBuffer.getChannelData(0); // Analyze left/mono channel for speed\n            let sumSquares = 0;\n            let peak = 0;\n\n            // Calculate RMS and Peak\n            console.log('[WebAudioEngine] Calculating RMS and Peak...');\n            const length = channelData.length;\n            const step = Math.max(1, Math.floor(length / 441000)); // Sample every ~100ms to speed up analysis if huge, or just process all if fast\n\n            // For true accuracy, process all samples, it's usually less than 100ms in a Wasm/V8 loop\n            for (let i = 0; i < length; i += 1) {\n                const sample = channelData[i];\n                const abs = Math.abs(sample);\n                sumSquares += sample * sample;\n                if (abs > peak) {\n                    peak = abs;\n                }\n            }\n\n            const rms = Math.sqrt(sumSquares / length);\n\n            // Convert to dB\n            const rmsDb = 20 * Math.log10(rms || 0.0001);\n            const peakDb = 20 * Math.log10(peak || 0.0001);\n            const crestFactor = peakDb - rmsDb; // Difference between peak and average\n\n            console.log(`[WebAudioEngine] Analysis complete. RMS: ${rmsDb.toFixed(2)}dB, Peak: ${peakDb.toFixed(2)}dB, CF: ${crestFactor.toFixed(2)}dB`);\n\n            return {\n                rms: rmsDb,\n                peak: peakDb,\n                crestFactor: crestFactor\n            };\n\n        } catch (error) {\n            console.error('[WebAudioEngine] Audio analysis failed:', error);\n            return null;\n        }\n    }\n\n    getVUMeterLevel(trackId: string): number {\n        const chain = this.trackChains.get(trackId);\n        if (!chain) return 0;\n\n        const dataArray = new Uint8Array(chain.analyser.frequencyBinCount);\n        chain.analyser.getByteFrequencyData(dataArray);\n\n        let sum = 0;\n        for (let i = 0; i < dataArray.length; i++) {\n            sum += dataArray[i];\n        }\n        return Math.floor((sum / dataArray.length) * 1.5);\n    }\n\n    getFrequencyLevel(trackId: string, minFreq: number, maxFreq: number): number {\n        const chain = this.trackChains.get(trackId);\n        if (!chain || !this.ctx) return 0;\n\n        const bufferLength = chain.analyser.frequencyBinCount;\n        const dataArray = new Uint8Array(bufferLength);\n        chain.analyser.getByteFrequencyData(dataArray);\n\n        const nyquist = this.ctx.sampleRate / 2;\n        const indexMin = Math.round((minFreq / nyquist) * bufferLength);\n        const indexMax = Math.round((maxFreq / nyquist) * bufferLength);\n\n        let sum = 0;\n        let count = 0;\n        for (let i = indexMin; i <= indexMax; i++) {\n            sum += dataArray[i];\n            count++;\n        }\n\n        return count > 0 ? sum / count / 255 : 0;\n    }\n\n    getTrackAnalyser(trackId: string): AnalyserNode | undefined {\n        return this.trackChains.get(trackId)?.analyser;\n    }\n\n    // --- Plugin System ---\n\n    updateGate(trackId: string, threshold: number, bypass: boolean) {\n        const chain = this.getOrCreateTrack(trackId);\n        if (!chain.gate) {\n            // Real noise gates are complex in WebAudio without script processors.\n            // A compressor acts backwards (reduces loud, not quiet).\n            // We'll leave the node for routing but keep it fully transparent.\n            const gate = this.ctx!.createDynamicsCompressor();\n            gate.ratio.value = 1; // 1:1 ratio (no compression)\n            gate.threshold.value = 0; // 0 dB \n            chain.gate = gate;\n\n            // Route: input -> gate -> [eqBands] -> [compressor] -> [makeup] -> [limiter] -> panner\n            chain.input.disconnect();\n            chain.input.connect(gate);\n            const nextNode = (chain.eqBands ? chain.eqBands[0] : null) || chain.compressor || chain.makeup || chain.limiter || chain.panner;\n            gate.connect(nextNode);\n        }\n\n        // Always bypass to prevent volume destruction\n        chain.gate.ratio.setTargetAtTime(1, this.ctx!.currentTime, 0.1);\n        chain.gate.threshold.setTargetAtTime(0, this.ctx!.currentTime, 0.1);\n    }\n\n    updateEQ(trackId: string, highpass: number, tilt: number, sideGain: number, sideFreq: number, bypass: boolean) {\n        const chain = this.getOrCreateTrack(trackId);\n        if (!chain.eqBands) {\n            const low = this.ctx!.createBiquadFilter();\n            low.type = 'lowshelf';\n            low.frequency.value = 80;\n\n            const mid = this.ctx!.createBiquadFilter();\n            mid.type = 'peaking';\n            mid.frequency.value = 1000;\n            mid.Q.value = 0.5;\n\n            const high = this.ctx!.createBiquadFilter();\n            high.type = 'highshelf';\n            high.frequency.value = 6000;\n\n            const presence = this.ctx!.createBiquadFilter();\n            presence.type = 'peaking';\n            presence.frequency.value = 3500;\n            presence.Q.value = 1.0;\n\n            low.connect(mid);\n            mid.connect(high);\n            high.connect(presence);\n\n            chain.eqBands = [low, mid, high, presence];\n\n            // Re-route\n            const prevNode = chain.gate || chain.input;\n            prevNode.disconnect();\n            prevNode.connect(low);\n            const nextNode = chain.compressor || chain.makeup || chain.limiter || chain.panner;\n            presence.connect(nextNode);\n        }\n\n        const [low, mid, high, presence] = chain.eqBands;\n\n        if (bypass) {\n            low.gain.setTargetAtTime(0, this.ctx!.currentTime, 0.1);\n            mid.gain.setTargetAtTime(0, this.ctx!.currentTime, 0.1);\n            high.gain.setTargetAtTime(0, this.ctx!.currentTime, 0.1);\n            presence.gain.setTargetAtTime(0, this.ctx!.currentTime, 0.1);\n        } else {\n            // Knob (0-100) Maps to (-12dB to +12dB). Neutral is 50.\n            low.gain.setTargetAtTime((highpass - 50) * 0.24, this.ctx!.currentTime, 0.1);\n            mid.gain.setTargetAtTime((tilt - 50) * 0.24, this.ctx!.currentTime, 0.1);\n            high.gain.setTargetAtTime((sideGain - 50) * 0.24, this.ctx!.currentTime, 0.1);\n            // Presence (0-100) maps to (0dB to +6dB). Neutral is 0.\n            presence.gain.setTargetAtTime((sideFreq / 100) * 6, this.ctx!.currentTime, 0.1);\n        }\n    }\n\n    updateCompressor(trackId: string, strength: number, attack: number, release: number, bypass: boolean) {\n        const chain = this.getOrCreateTrack(trackId);\n        if (!chain.compressor) {\n            chain.compressor = this.ctx!.createDynamicsCompressor();\n            // Re-route\n            const prevNode = (chain.eqBands ? chain.eqBands[chain.eqBands.length - 1] : null) || chain.gate || chain.input;\n            prevNode.disconnect();\n            prevNode.connect(chain.compressor);\n            const nextNode = chain.makeup || chain.limiter || chain.panner;\n            chain.compressor.connect(nextNode);\n        }\n\n        if (bypass) {\n            chain.compressor.ratio.setTargetAtTime(1, this.ctx!.currentTime, 0.1);\n        } else {\n            // Strength (0-100) -> Threshold (-10 to -25dB), Ratio (1.2 to 4.0)\n            const threshold = -10 - ((strength / 100) * 15);\n            const ratio = 1.2 + ((strength / 100) * 2.8);\n\n            chain.compressor.threshold.setTargetAtTime(threshold, this.ctx!.currentTime, 0.1);\n            chain.compressor.ratio.setTargetAtTime(ratio, this.ctx!.currentTime, 0.1);\n            chain.compressor.attack.setTargetAtTime(attack / 1000, this.ctx!.currentTime, 0.1);\n            chain.compressor.release.setTargetAtTime(release / 1000, this.ctx!.currentTime, 0.1);\n        }\n    }\n\n    updateLeveler(trackId: string, target: number, bypass: boolean) {\n        // We use Leveler as the Makeup Gain before the Limiter!\n        const chain = this.getOrCreateTrack(trackId);\n\n        if (!chain.makeup) {\n            chain.makeup = this.ctx!.createGain();\n            const prevNode = chain.compressor || (chain.eqBands ? chain.eqBands[chain.eqBands.length - 1] : null) || chain.gate || chain.input;\n            prevNode.disconnect();\n            prevNode.connect(chain.makeup);\n            const nextNode = chain.limiter || chain.panner;\n            chain.makeup.connect(nextNode);\n        }\n\n        if (bypass) {\n            chain.makeup.gain.setTargetAtTime(1, this.ctx!.currentTime, 0.1);\n        } else {\n            // Target (0-100) maps to 0dB to +15dB of gain!\n            // This gain pushes the signal into the limiter (Loudness Maximizer)\n            const dbGain = (target / 100) * 15; // 0 to +15 dB\n            const gainValue = Math.pow(10, dbGain / 20);\n            chain.makeup.gain.setTargetAtTime(gainValue, this.ctx!.currentTime, 0.1);\n        }\n    }\n\n    updateLimiter(trackId: string, strength: number, ceiling: number, bypass: boolean, useWasm: boolean = false) {\n        const chain = this.getOrCreateTrack(trackId);\n\n        if (useWasm) {\n            if (!chain.wasmLimiter) {\n                try {\n                    chain.wasmLimiter = new AudioWorkletNode(this.ctx!, 'phaselimiter-worklet');\n                    const prevNode = chain.makeup || chain.compressor || (chain.eqBands ? chain.eqBands[chain.eqBands.length - 1] : null) || chain.gate || chain.input;\n                    prevNode.disconnect();\n                    prevNode.connect(chain.wasmLimiter);\n                    chain.wasmLimiter.connect(chain.panner);\n                    console.log(\"[WebAudioEngine] Routed through WASM Limiter.\");\n                } catch (e) {\n                    console.warn(\"[WebAudioEngine] WASM Worklet not ready. Falling back to native limiter.\", e);\n                    useWasm = false;\n                }\n            }\n\n            // Send parameter updates to the worklet\n            if (chain.wasmLimiter) {\n                const ceilingDb = -0.3 - ((strength / 100) * 2.7); // -0.3 to -3 dBFS\n                chain.wasmLimiter.port.postMessage({\n                    type: 'params',\n                    ceiling: bypass ? 0 : ceilingDb,\n                    strength: strength / 100,\n                    bypass,\n                });\n                return;\n            }\n        }\n\n        // Disconnect WASM if it was connected and we're falling back\n        if (chain.wasmLimiter) {\n            chain.wasmLimiter.disconnect();\n        }\n\n        if (!chain.limiter) {\n            chain.limiter = this.ctx!.createDynamicsCompressor();\n            chain.limiter.ratio.value = 50;\n            chain.limiter.attack.value = 0.001;\n            chain.limiter.release.value = 0.05;\n            const prevNode = chain.makeup || chain.compressor || (chain.eqBands ? chain.eqBands[chain.eqBands.length - 1] : null) || chain.gate || chain.input;\n            prevNode.disconnect();\n            prevNode.connect(chain.limiter);\n            chain.limiter.connect(chain.panner);\n        }\n\n        if (bypass) {\n            chain.limiter.ratio.setTargetAtTime(1, this.ctx!.currentTime, 0.1);\n        } else {\n            const threshold = ceiling - ((strength / 100) * 3);\n            chain.limiter.threshold.setTargetAtTime(threshold, this.ctx!.currentTime, 0.1);\n        }\n    }\n\n\n    updateMultiband(trackId: string, lowStr: number, highStr: number, bypass: boolean) {\n        // Placeholder for multiband - logic would require a splitter and multiple compressors\n        // For now, let's just use it as a global tone shaper or additional compression\n    }\n}\n\nexport const audioEngine = new WebAudioEngine();\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/audio-engine-bridge.ts"],"sourcesContent":["import { audioEngine } from './audio/WebAudioEngine';\n\nexport { audioEngine };\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/DawTrackControl.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Volume2, Power, Trash2 } from 'lucide-react';\nimport { audioEngine } from '@/lib/audio-engine-bridge';\nimport { useDAWStore } from '@/store/useDAWStore';\n\ninterface DawTrackControlProps {\n    trackId: string;\n    trackName: string;\n    color: string;\n}\n\nexport function DawTrackControl({ trackId, trackName, color }: DawTrackControlProps) {\n    const fader = useDAWStore((state) => state.faders.find((f) => f.id === trackId));\n    const setFaderValue = useDAWStore((state) => state.setFaderValue);\n    const setPanStore = useDAWStore((state) => state.setPan);\n    const toggleSoloStore = useDAWStore((state) => state.toggleSolo);\n    const toggleMuteStore = useDAWStore((state) => state.toggleMute);\n    const removeTrack = useDAWStore((state) => state.removeTrack);\n\n    if (!fader) return null;\n\n    // Communication with Bridge\n    useEffect(() => { audioEngine.setTrackVolume(trackId, fader.value / 100); }, [fader.value, trackId]);\n    useEffect(() => { audioEngine.setTrackPan(trackId, fader.pan / 100); }, [fader.pan, trackId]);\n    useEffect(() => { audioEngine.setTrackMute(trackId, fader.isMuted); }, [fader.isMuted, trackId]);\n    useEffect(() => { audioEngine.setTrackSolo(trackId, fader.isSoloed); }, [fader.isSoloed, trackId]);\n\n    // Simple Circular Knob Renderer (SVG)\n    const renderKnob = (\n        value: number,\n        min: number,\n        max: number,\n        label: string,\n        onChange: (v: number) => void,\n        isBipolar: boolean = false\n    ) => {\n        // Map value to angle (-135 to 135 deg)\n        const percent = (value - min) / (max - min);\n        const angle = -135 + percent * 270;\n\n        const handleMouseDown = (e: React.MouseEvent) => {\n            e.preventDefault();\n            const startY = e.clientY;\n            const startVal = value;\n\n            const onMouseMove = (moveEvent: MouseEvent) => {\n                const deltaY = (startY - moveEvent.clientY) * 0.5; // Sensitivity adj\n                let newVal = startVal + deltaY;\n                newVal = Math.max(min, Math.min(max, newVal));\n                onChange(Math.round(newVal));\n            };\n\n            const onMouseUp = () => {\n                window.removeEventListener('mousemove', onMouseMove);\n                window.removeEventListener('mouseup', onMouseUp);\n            };\n\n            window.addEventListener('mousemove', onMouseMove);\n            window.addEventListener('mouseup', onMouseUp);\n        };\n\n        return (\n            <div className=\"flex flex-col items-center gap-1 group\">\n                <div\n                    className=\"w-8 h-8 rounded-full bg-[#18181A] shadow-[inset_0_2px_4px_rgba(0,0,0,0.8)] border border-white/5 relative flex items-center justify-center cursor-ns-resize\"\n                    onMouseDown={handleMouseDown}\n                >\n                    <svg className=\"absolute inset-0 w-full h-full -rotate-[135deg]\" viewBox=\"0 0 32 32\">\n                        <circle cx=\"16\" cy=\"16\" r=\"12\" fill=\"none\" stroke=\"#222\" strokeWidth=\"2\" strokeDasharray=\"56.5\" />\n                        <circle cx=\"16\" cy=\"16\" r=\"12\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeDasharray=\"56.5\" strokeDashoffset={56.5 - (percent * 56.5)} className=\"transition-all\" />\n                    </svg>\n\n                    <div className=\"absolute w-full h-full\" style={{ transform: `rotate(${angle}deg)` }}>\n                        <div className=\"mx-auto mt-1 w-0.5 h-1.5 rounded bg-white shadow-[0_0_2px_#fff]\" />\n                    </div>\n                </div>\n                <span className=\"text-[8px] font-mono text-[#666] uppercase group-hover:text-silver-dark\">{label}</span>\n            </div>\n        );\n    };\n\n    return (\n        <div className=\"w-[200px] h-[60px] bg-[#111] border-b border-[#222] flex items-center justify-between px-3 shadow-2xl shrink-0 z-30 group/trackControl hover:bg-[#151517] transition-colors\">\n            <div className=\"flex flex-col gap-1 w-24\">\n                <div className=\"flex justify-between items-center\">\n                    <span className=\"text-[9px] font-bold truncate tracking-widest uppercase\" style={{ color }}>{trackName}</span>\n                    <button onClick={() => removeTrack(trackId)} className=\"opacity-0 group-hover/trackControl:opacity-100 text-red-500/50 hover:text-red-500 transition-all\">\n                        <Trash2 size={10} />\n                    </button>\n                </div>\n                <div className=\"flex gap-1.5 mt-1\">\n                    <button\n                        onClick={() => toggleMuteStore(trackId)}\n                        className={`w-7 py-1 rounded-sm text-[8px] font-bold transition-all ${fader.isMuted ? 'bg-red-600 border-red-600 text-black shadow-[0_0_10px_rgba(255,0,0,0.5)]' : 'bg-[#1a1a1a] border border-[#333] text-[#666]'}`}\n                    >\n                        M\n                    </button>\n                    <button\n                        onClick={() => toggleSoloStore(trackId)}\n                        className={`w-7 py-1 rounded-sm text-[8px] font-bold transition-all ${fader.isSoloed ? 'bg-[#ffaa00] border-[#ffaa00] text-black shadow-[0_0_10px_rgba(255,170,0,0.5)]' : 'bg-[#1a1a1a] border border-[#333] text-[#666]'}`}\n                    >\n                        S\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"flex gap-3 items-center\">\n                {renderKnob(fader.pan, -100, 100, 'PAN', (v) => setPanStore(trackId, v), true)}\n                {renderKnob(fader.value, 0, 100, 'VOL', (v) => setFaderValue(trackId, v), false)}\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/PianoRoll.tsx"],"sourcesContent":["import React from 'react';\nimport {\n    Settings2, Play, MousePointer2, Scissors, PenTool,\n    Eraser, Volume2, Maximize2, Crosshair, ArrowRightLeft,\n    Link2, Navigation, Focus\n} from 'lucide-react';\n\n/**\n * PianoRoll Component\n * Styled after Logic Pro X's Piano Roll editor.\n * Features a lighter gray grid, comprehensive toolbar, and velocity-colored notes.\n */\nexport function PianoRoll() {\n    // Generate 4 octaves of keys\n    const keys = Array.from({ length: 48 }, (_, i) => {\n        const noteIndex = i % 12;\n        const isBlack = [1, 3, 6, 8, 10].includes(noteIndex);\n        const noteName = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'][noteIndex];\n        const octave = Math.floor(i / 12) + 2; // Start from C2\n        return { id: i, isBlack, noteName, octave, isC: noteIndex === 0 };\n    });\n\n    return (\n        <div className=\"w-full h-full bg-[#1E1E22] flex flex-col border-t border-black/40 shadow-[0_-20px_60px_rgba(0,0,0,0.6)] font-sans relative\">\n\n            {/* Top Toolbar (Logic Pro X Inspired) */}\n            <div className=\"flex items-center justify-between px-4 py-2 border-b border-[#111] bg-[#2D2D32] shrink-0 shadow-lg z-30\">\n\n                {/* Left controls: Menus & Tools */}\n                <div className=\"flex items-center gap-4\">\n                    <div className=\"flex items-center gap-1\">\n                        <button className=\"px-2.5 py-1 text-[11px] font-bold text-[#AAA] hover:text-white bg-transparent hover:bg-white/5 rounded transition-all\">Edit</button>\n                        <button className=\"px-2.5 py-1 text-[11px] font-bold text-[#AAA] hover:text-white bg-transparent hover:bg-white/5 rounded transition-all\">Functions</button>\n                        <button className=\"px-2.5 py-1 text-[11px] font-bold text-[#AAA] hover:text-white bg-transparent hover:bg-white/5 rounded transition-all\">View</button>\n                    </div>\n\n                    <div className=\"w-px h-6 bg-black/30 mx-1\" />\n\n                    {/* Primary & Secondary Tools */}\n                    <div className=\"flex items-center gap-1.5 p-1 bg-black/20 rounded-md border border-white/5\">\n                        <button className=\"p-1.5 px-3 text-[#4A90E2] bg-[#1A1A1C] rounded shadow-[0_2px_5px_rgba(0,0,0,0.3)] border border-white/10\"><MousePointer2 size={13} /></button>\n                        <button className=\"p-1.5 px-3 text-[#888] hover:text-white transition-colors\"><PenTool size={13} /></button>\n                        <button className=\"p-1.5 px-3 text-[#888] hover:text-white transition-colors\"><Eraser size={13} /></button>\n                        <button className=\"p-1.5 px-3 text-[#888] hover:text-white transition-colors\"><Scissors size={13} /></button>\n                    </div>\n\n                    <div className=\"w-px h-6 bg-black/30 mx-1\" />\n\n                    {/* Logic Toggles */}\n                    <div className=\"flex items-center gap-2\">\n                        <button className=\"p-2 text-[#666] hover:text-white bg-black/20 rounded border border-white/5\"><Navigation size={12} className=\"rotate-45\" /></button>\n                        <button className=\"p-2 text-orange-400 bg-orange-400/10 rounded border border-orange-400/20 shadow-[0_0_10px_rgba(251,146,60,0.1)]\"><Link2 size={12} /></button>\n                    </div>\n                </div>\n\n                {/* Center Tabs: Seamless Switch */}\n                <div className=\"flex bg-black/40 rounded-lg border border-white/5 p-1 shadow-inner ring-1 ring-black/50\">\n                    <button className=\"px-8 py-1 text-[10px] font-black tracking-widest text-white bg-gradient-to-b from-[#4A6B9C] to-[#3A5B8C] rounded shadow-[0_1px_3px_rgba(0,0,0,0.4)] ring-1 ring-white/10\">PIANO ROLL</button>\n                    <button className=\"px-8 py-1 text-[10px] font-black tracking-widest text-[#666] hover:text-white transition-all uppercase\">Score</button>\n                    <button className=\"px-8 py-1 text-[10px] font-black tracking-widest text-[#666] hover:text-white transition-all uppercase\">Step Editor</button>\n                </div>\n\n                {/* Right controls: Info & Snap */}\n                <div className=\"flex items-center gap-6\">\n                    <div className=\"flex flex-col items-end\">\n                        <span className=\"text-[9px] font-black text-[#555] tracking-widest uppercase\">Position</span>\n                        <div className=\"text-[11px] font-mono text-[#4A90E2] tracking-tighter shadow-sm bg-black/20 px-2 rounded\">5 1 1 1</div>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 bg-black/20 px-3 py-1 rounded border border-white/5\">\n                        <span className=\"text-[9px] font-black text-[#555] uppercase tracking-widest\">Snap</span>\n                        <select className=\"bg-transparent border-none text-[11px] font-bold text-[#AAA] outline-none cursor-pointer hover:text-white transition-colors\">\n                            <option>Smart</option>\n                            <option>1/16</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n\n            {/* Main Area */}\n            <div className=\"flex flex-1 overflow-hidden relative bg-[#1E1E22]\">\n\n                {/* Left Inspector Panel (Dark Metal Style) */}\n                <div className=\"w-[200px] bg-[#26262A] border-r border-black flex flex-col shrink-0 shadow-[10px_0_30px_rgba(0,0,0,0.3)] z-20\">\n                    <div className=\"p-4 border-b border-black/40 bg-[#1A1A1D]\">\n                        <div className=\"text-[11px] font-black tracking-widest text-[#E0E0E0] uppercase flex items-center gap-2\">\n                            <Focus size={12} className=\"text-[#4A90E2]\" /> INSPECTOR\n                        </div>\n                        <div className=\"text-[9px] text-[#555] tracking-widest mt-1\">Regin: \"Orquesta Bolero\"</div>\n                    </div>\n\n                    <div className=\"p-4 space-y-6\">\n                        <div className=\"space-y-2\">\n                            <div className=\"text-[10px] font-black tracking-widest text-[#666] uppercase\">Time Quantize</div>\n                            <div className=\"flex rounded-md border border-black overflow-hidden shadow-lg\">\n                                <select className=\"flex-1 bg-[#111] text-[11px] text-[#AAA] py-2 px-3 outline-none hover:text-white transition-colors\">\n                                    <option>1/16 Note</option>\n                                    <option>1/8 Note</option>\n                                </select>\n                                <button className=\"bg-[#4A90E2] text-white px-3 text-[11px] font-black border-l border-black shadow-[inset_0_1px_1px_rgba(255,255,255,0.3)]\">Q</button>\n                            </div>\n                        </div>\n\n                        <div className=\"space-y-4 pt-4 border-t border-white/5\">\n                            <div className=\"flex justify-between items-center\">\n                                <div className=\"text-[10px] font-black tracking-widest text-[#666] uppercase\">Velocity</div>\n                                <div className=\"text-[10px] font-mono text-[#4A90E2] bg-black/40 px-2 rounded\">100</div>\n                            </div>\n                            <div className=\"relative group py-2\">\n                                <div className=\"h-1 bg-black rounded-full overflow-hidden\">\n                                    <div className=\"h-full bg-gradient-to-r from-blue-600 to-cyan-400 w-[70%]\" />\n                                </div>\n                                <div className=\"absolute top-1/2 left-[70%] -translate-y-1/2 w-3 h-3 bg-white rounded-full shadow-[0_0_10px_rgba(255,255,255,0.5)] border border-black cursor-pointer group-hover:scale-125 transition-transform\" />\n                            </div>\n                        </div>\n\n                        {/* Interactive Scale Quantize */}\n                        <div className=\"space-y-2 pt-4 border-t border-white/5\">\n                            <div className=\"text-[10px] font-black tracking-widest text-[#666] uppercase\">Scale Quantize</div>\n                            <div className=\"flex flex-col gap-1\">\n                                <select className=\"bg-[#111] border border-black rounded-md text-[11px] text-[#AAA] py-1.5 px-2 outline-none\">\n                                    <option>C Major</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Piano Keys & Grid Container */}\n                <div className=\"flex flex-1 overflow-y-auto overflow-x-hidden relative custom-scrollbar\">\n\n                    {/* Vertical Piano Keys (Ivory & Ebony Style) */}\n                    <div className=\"w-[60px] flex flex-col-reverse bg-[#EAEAEA] border-r border-black sticky left-0 z-30 shadow-[5px_0_15px_rgba(0,0,0,0.4)] shrink-0\">\n                        {keys.map((key) => (\n                            <div\n                                key={key.id}\n                                className={`w-full relative flex flex-col justify-end items-center pr-1 border-b border-black/10 ${key.isBlack\n                                    ? 'h-[14px] bg-gradient-to-r from-[#111] to-[#333] border-black z-20 shadow-[0_2px_4px_rgba(0,0,0,0.5)] -my-[7px] rounded-r-sm'\n                                    : 'h-[24px] bg-gradient-to-r from-[#F0F0F0] to-[#E0E0E0] border-[#BBB]'\n                                    }`}\n                                style={key.isBlack ? { width: '65%', borderRight: '2px solid black' } : {}}\n                            >\n                                {key.isC && !key.isBlack && (\n                                    <span className=\"text-[10px] font-black text-[#888] absolute right-2 bottom-1 tracking-tighter opacity-60\">\n                                        {key.noteName}{key.octave}\n                                    </span>\n                                )}\n                            </div>\n                        ))}\n                    </div>\n\n                    {/* MIDI Grid (Pro Dark Theme) */}\n                    <div className=\"flex-1 relative bg-[#26262A] min-w-[2000px]\">\n\n                        {/* High-Contrast Professional Grid Pattern */}\n                        <div\n                            className=\"absolute inset-0 pointer-events-none\"\n                            style={{\n                                backgroundImage: `\n                                    linear-gradient(0deg, rgba(255,255,255,0.03) 1px, transparent 1px),\n                                    linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px),\n                                    linear-gradient(90deg, rgba(0,0,0,0.5) 1px, transparent 1px),\n                                    linear-gradient(90deg, rgba(255,255,255,0.08) 1px, transparent 1px)\n                                `,\n                                backgroundSize: '100% 12px, 30px 100%, 120px 100%, 480px 100%'\n                            }}\n                        />\n\n                        {/* Top Measure Ruler (Metallic Style) */}\n                        <div className=\"h-8 sticky top-0 bg-[#2D2D32] border-b border-black z-40 flex text-[10px] font-black text-[#666] font-mono shadow-md\">\n                            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16].map(m => (\n                                <div key={m} className=\"w-[120px] px-2 flex items-end pb-1.5 border-l border-white/5 relative group\">\n                                    <span className=\"group-hover:text-[#AAA] transition-colors\">{m}</span>\n                                    <div className=\"absolute bottom-0 left-[30px] h-1.5 w-px bg-white/10\" />\n                                    <div className=\"absolute bottom-0 left-[60px] h-3 w-px bg-white/10\" />\n                                    <div className=\"absolute bottom-0 left-[90px] h-1.5 w-px bg-white/10\" />\n                                </div>\n                            ))}\n                        </div>\n\n                        {/* Green Region Header (Glossy Glass) */}\n                        <div className=\"h-5 absolute top-8 left-0 right-0 bg-[#7ED321]/30 backdrop-blur-sm border-b border-[#7ED321]/50 flex items-center px-4 z-20 shadow-[0_2px_10px_rgba(126,211,33,0.1)]\">\n                            <span className=\"text-[9px] font-black text-[#A4ECA1] flex items-center gap-2 tracking-[0.2em] uppercase\">\n                                <Play size={10} fill=\"currentColor\" /> REGION: HARP_BOLERO_01\n                            </span>\n                        </div>\n\n                        {/* Playhead line (Liquid Neon) */}\n                        <div className=\"absolute top-0 bottom-0 left-[480px] w-[2px] bg-white z-[45] shadow-[0_0_15px_rgba(255,255,255,0.8)]\">\n                            <div className=\"w-0 h-0 border-l-[6px] border-r-[6px] border-t-[8px] border-l-transparent border-r-transparent border-t-white absolute -top-1 -left-[5px]\" />\n                        </div>\n\n                        {/* Advanced MIDI Notes (3D Glass Style) */}\n                        {[\n                            { t: 120, l: 30, w: 200, color: 'bg-[#F29F94]', border: 'border-[#D04033]' },\n                            { t: 288, l: 10, w: 40, color: 'bg-[#ED6255]', border: 'border-[#C52013]' },\n                            { t: 276, l: 60, w: 120, color: 'bg-[#F29F94]', border: 'border-[#D04033]' },\n                            { t: 264, l: 200, w: 80, color: 'bg-[#E2A04A]', border: 'border-[#A05D17]' },\n                            { t: 240, l: 320, w: 150, color: 'bg-[#4A90E2]', border: 'border-[#2A60A2]' },\n                            { t: 300, l: 500, w: 60, color: 'bg-[#D6D657]', border: 'border-[#A8A811]' },\n                            { t: 216, l: 600, w: 90, color: 'bg-[#FF6B00]', border: 'border-[#CC5500]' },\n                            { t: 312, l: 720, w: 110, color: 'bg-[#ED6255]', border: 'border-[#C52013]' },\n                        ].map((note, idx) => (\n                            <div\n                                key={idx}\n                                className={`absolute rounded-[2px] shadow-lg flex items-center overflow-hidden hover:scale-y-110 active:scale-95 transition-all cursor-pointer group select-none ${note.color} ${note.border} border`}\n                                style={{ top: `${note.t}px`, left: `${note.l}px`, width: `${note.w}px`, height: '10px' }}\n                            >\n                                <div className=\"absolute inset-0 bg-gradient-to-b from-white/30 to-transparent pointer-events-none\" />\n                                <div className=\"ml-1 w-1 h-1 rounded-full bg-white/50 opacity-0 group-hover:opacity-100\" />\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1788, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/modal-client.ts"],"sourcesContent":["/**\n * Modal.com Client wrapper for Next.js (Client-side / Server-side)\n * As the Modal SDK is Python, we trigger Modal Functions via their HTTP Webhook URLs,\n * or mock the latency if no URL is provided yet.\n */\n\nexport const modalClient = {\n    /**\n     * Calls the remote `process_vocal_cloning` function in Modal.\n     */\n    async process_vocal_cloning(options?: { artistId?: string }) {\n        console.log('[Modal Client] Executing remote Modal function: process_vocal_cloning');\n\n        // Simulate network latency of the remote GPU inference/processing\n        await new Promise((resolve) => setTimeout(resolve, 3000));\n\n        // Return mock success payload that signals the frontend to adjust mix\n        return {\n            success: true,\n            message: 'Vocal cloned and processed successfully.',\n            mixParameters: {\n                vocalLevel: 85,\n                beatLevel: 75\n            }\n        };\n    }\n};\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAEM,MAAM,cAAc;IACvB;;KAEC,GACD,MAAM,uBAAsB,OAA+B;QACvD,QAAQ,GAAG,CAAC;QAEZ,kEAAkE;QAClE,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;QAEnD,sEAAsE;QACtE,OAAO;YACH,SAAS;YACT,SAAS;YACT,eAAe;gBACX,YAAY;gBACZ,WAAW;YACf;QACJ;IACJ;AACJ"}},
    {"offset": {"line": 1818, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/TransportBar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n    Play, Square, Circle, SkipBack, SkipForward,\n    Repeat, Settings2, Activity, Music, ActivitySquare, Upload, Download\n} from 'lucide-react';\nimport { useDAWStore } from '@/store/useDAWStore';\nimport { modalClient } from '@/lib/modal-client';\nimport { audioEngine } from '@/lib/audio-engine-bridge';\n\nexport function TransportBar() {\n    // --- State ---\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [isRecording, setIsRecording] = useState(false);\n    const [playhead, setPlayhead] = useState(0);\n\n    // --- Global DAW Store ---\n    const isTraining = useDAWStore((state) => state.isTraining);\n    const activeBottomPanel = useDAWStore((state) => state.activeBottomPanel);\n    const isMetronomeOn = useDAWStore((state) => state.isMetronomeOn);\n    const setTrainingStatus = useDAWStore((state) => state.setTrainingStatus);\n    const setFaderValue = useDAWStore((state) => state.setFaderValue);\n    const setActiveBottomPanel = useDAWStore((state) => state.setActiveBottomPanel);\n    const toggleMetronome = useDAWStore((state) => state.toggleMetronome);\n    const setIsPlayingStore = useDAWStore((state) => state.setIsPlaying);\n    const setMasterLevel = useDAWStore((state) => state.setMasterLevel);\n    const isFullMixer = useDAWStore((state) => state.isFullMixer);\n    const setFullMixer = useDAWStore((state) => state.setFullMixer);\n\n    // --- Audio Engine Sync ---\n    useEffect(() => {\n        let interval: NodeJS.Timeout;\n        if (isPlaying) {\n            interval = setInterval(() => {\n                setPlayhead(audioEngine.getPlayheadPosition());\n                // Poll master level for speaker animations\n                setMasterLevel(audioEngine.getVUMeterLevel('master'));\n            }, 50);\n        } else {\n            setMasterLevel(0);\n        }\n        return () => clearInterval(interval);\n    }, [isPlaying, setMasterLevel]);\n\n    const handleTogglePlay = () => {\n        if (isPlaying) {\n            audioEngine.pause();\n            setIsPlayingStore(false);\n        } else {\n            audioEngine.play();\n            setIsPlayingStore(true);\n        }\n        setIsPlaying(!isPlaying);\n    };\n\n    const handleAutoMix = async () => {\n        setTrainingStatus(true);\n        try {\n            const response = await modalClient.process_vocal_cloning();\n            if (response.success) {\n                setFaderValue('vocal', response.mixParameters.vocalLevel);\n                setFaderValue('beat', response.mixParameters.beatLevel);\n                setFaderValue('bass', 65);\n                setFaderValue('fx', 50);\n            }\n        } catch (error) {\n            console.error(\"Auto Mix Modal training failed:\", error);\n        } finally {\n            setTrainingStatus(false);\n        }\n    };\n\n    return (\n        <div className=\"h-16 flex items-center justify-between px-4 border-b border-[#222] bg-[#1C1C1E] shadow-md z-30 shrink-0 font-sans\">\n\n            {/* LEFT: Branding & Auto-Mix */}\n            <div className=\"flex items-center gap-4 w-1/3\">\n                <div className=\"border border-[#FF6B00]/30 px-3 py-1 rounded bg-black/50 shadow-[0_0_10px_rgba(255,107,0,0.1)]\">\n                    <h1 className=\"text-sm font-sans tracking-widest text-white\">\n                        DA GRABA <span className=\"font-light text-[#FF6B00]\">DAW</span>\n                    </h1>\n                </div>\n\n                <button\n                    onClick={handleAutoMix}\n                    disabled={isTraining}\n                    className=\"flex items-center gap-2 bg-[#111] hover:bg-[#1A1A1C] border border-[#FF6B00]/50 text-[#FF6B00] px-3 py-1.5 rounded shadow-[0_0_5px_rgba(255,107,0,0.2)] transition-colors disabled:opacity-50 text-[10px] font-bold tracking-widest\"\n                >\n                    <Activity size={12} />\n                    AUTO-MIX IA\n                </button>\n            </div>\n\n            {/* CENTER: True Transport Controls (Logic/Pro Tools Style) */}\n            <div className=\"flex flex-1 items-center justify-center gap-6\">\n\n                {/* Transport Buttons */}\n                <div className=\"flex items-center gap-1 bg-[#111] p-1 rounded-md border border-[#333] shadow-inner\">\n                    <button className=\"p-1.5 text-[#AAA] hover:text-white transition-colors rounded hover:bg-[#222]\">\n                        <SkipBack size={16} />\n                    </button>\n                    <button className=\"p-1.5 text-[#AAA] hover:text-white transition-colors rounded hover:bg-[#222]\">\n                        <SkipForward size={16} />\n                    </button>\n                    <button className={`p-1.5 transition-colors rounded hover:bg-[#222] ${isPlaying ? 'text-white' : 'text-[#AAA] hover:text-white'}`} onClick={handleTogglePlay}>\n                        <Square size={16} fill={isPlaying ? \"currentColor\" : \"none\"} />\n                    </button>\n                    <button className={`p-1.5 transition-colors rounded hover:bg-[#222] ${isPlaying ? 'text-[#A4ECA1]' : 'text-[#AAA] hover:text-white'}`} onClick={handleTogglePlay}>\n                        <Play size={16} fill={isPlaying ? \"currentColor\" : \"none\"} />\n                    </button>\n                    <button className={`p-1.5 transition-colors rounded hover:bg-[#222] ${isRecording ? 'text-red-500' : 'text-[#AAA] hover:text-red-400'}`} onClick={() => setIsRecording(!isRecording)}>\n                        <Circle size={16} fill={isRecording ? \"currentColor\" : \"none\"} />\n                    </button>\n                </div>\n\n                {/* LCD Display */}\n                <div className=\"flex bg-[#0A0A0C] border border-[#333] rounded-md shadow-[inset_0_2px_10px_rgba(0,0,0,0.8)] px-4 py-1.5 items-center gap-6 min-w-[300px] justify-center text-[#E0E0E0]\">\n                    {/* Time / Measure */}\n                    <div className=\"flex flex-col items-center\">\n                        <div className=\"flex items-baseline gap-1 font-mono text-lg font-light tracking-wider text-[#A4ECA1]\">\n                            <span>{Math.floor(playhead / 2) + 1}</span>\n                            <span className=\"text-[#666] text-sm\">:</span>\n                            <span>{Math.floor((playhead % 2) * 2) + 1}</span>\n                            <span className=\"text-[#666] text-sm\">:</span>\n                            <span>1</span>\n                            <span className=\"text-[#666] text-sm\">:</span>\n                            <span className=\"text-xs\">{((playhead * 1000) % 1000).toFixed(0).padStart(3, '0')}</span>\n                        </div>\n                        <span className=\"text-[8px] text-[#666] uppercase tracking-widest\">Measure / Time</span>\n                    </div>\n\n                    <div className=\"w-px h-6 bg-[#222]\" />\n\n                    {/* Tempo / Signature */}\n                    <div className=\"flex gap-4\">\n                        <div className=\"flex flex-col items-center\">\n                            <span className=\"font-mono text-sm text-[#4A90E2]\">120.00</span>\n                            <span className=\"text-[8px] text-[#666] uppercase tracking-widest\">Tempo</span>\n                        </div>\n                        <div className=\"flex flex-col items-center\">\n                            <span className=\"font-mono text-sm text-[#E2A04A]\">4/4</span>\n                            <span className=\"text-[8px] text-[#666] uppercase tracking-widest\">Sig</span>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Function Toggles */}\n                <div className=\"flex items-center gap-1 bg-[#111] p-1 rounded-md border border-[#333] shadow-inner\">\n                    <button className=\"p-1.5 text-[#E2A04A] bg-[#222] rounded transition-colors border border-[#333]\">\n                        <Repeat size={16} />\n                    </button>\n                    <button\n                        onClick={() => toggleMetronome()}\n                        className={`p-1.5 rounded transition-colors border border-[#333] ${isMetronomeOn ? 'text-[#4A90E2] bg-blue-500/20 glow-blue' : 'text-[#666] bg-[#222] hover:text-[#4A90E2]'}`}\n                    >\n                        <ActivitySquare size={16} />\n                    </button>\n                </div>\n            </div>\n\n            {/* RIGHT: Panel Toggles & Settings */}\n            <div className=\"flex items-center gap-4 w-1/3 justify-end\">\n                {/* Console Navigation Toggles */}\n                <div className=\"flex bg-[#111] p-1 border border-white/5 rounded-lg shadow-xl ring-1 ring-black/50\">\n                    <button\n                        onClick={() => {\n                            setFullMixer(true);\n                            setActiveBottomPanel('mixer');\n                        }}\n                        className={`px-4 py-1.5 rounded-md text-[10px] font-black tracking-widest transition-all duration-300 ${isFullMixer ? 'bg-gradient-to-b from-orange-500 to-orange-700 text-white shadow-[0_0_15px_rgba(249,115,22,0.4)] border border-orange-400/50' : 'text-white/30 hover:text-white/60 hover:bg-white/5'}`}\n                    >\n                        MIX\n                    </button>\n                    <button\n                        onClick={() => {\n                            setFullMixer(false);\n                            setActiveBottomPanel('closed');\n                        }}\n                        className={`px-4 py-1.5 rounded-md text-[10px] font-black tracking-widest transition-all duration-300 ${!isFullMixer ? 'bg-gradient-to-b from-neutral-600 to-neutral-800 text-white shadow-[0_0_15px_rgba(255,255,255,0.05)] border border-white/10' : 'text-white/30 hover:text-white/60 hover:bg-white/5'}`}\n                    >\n                        EDIT\n                    </button>\n                </div>\n\n                <div className=\"w-[1px] h-6 bg-white/5 mx-2\" />\n\n                <div className=\"flex bg-[#111] p-1 border border-[#333] rounded shadow-sm\">\n                    <button\n                        onClick={() => {\n                            setFullMixer(false);\n                            setActiveBottomPanel(activeBottomPanel === 'mixer' ? 'closed' : 'mixer');\n                        }}\n                        className={`px-3 py-1 rounded-sm text-[10px] font-bold tracking-widest transition-colors ${activeBottomPanel === 'mixer' && !isFullMixer ? 'bg-[#5A5A60] text-white shadow-[inset_0_1px_5px_rgba(0,0,0,0.5)]' : 'text-[#888] hover:text-white hover:bg-[#222]'\n                            }`}\n                    >\n                        FX\n                    </button>\n                    <button\n                        onClick={() => {\n                            setFullMixer(false);\n                            setActiveBottomPanel(activeBottomPanel === 'piano_roll' ? 'closed' : 'piano_roll');\n                        }}\n                        className={`px-3 py-1 rounded-sm text-[10px] font-bold tracking-widest transition-colors flex items-center gap-1 ${activeBottomPanel === 'piano_roll' ? 'bg-[#FF6B00] text-black shadow-[0_0_10px_rgba(255,107,0,0.6)]' : 'text-[#888] hover:text-white hover:bg-[#222]'\n                            }`}\n                    >\n                        <Music size={12} />\n                        PIANO\n                    </button>\n                </div>\n\n                <div className=\"flex items-center gap-2 ml-2\">\n                    <button \n                        onClick={() => {\n                            const input = document.createElement('input');\n                            input.type = 'file';\n                            input.accept = 'audio/*';\n                            input.onchange = (e) => {\n                                const file = (e.target as HTMLInputElement).files?.[0];\n                                if (file) alert(`Audio importado al Studio: ${file.name}`);\n                            };\n                            input.click();\n                        }}\n                        className=\"p-1.5 text-[#AAA] hover:text-white transition-colors rounded hover:bg-[#222]\" title=\"Importar Audio\"\n                    >\n                        <Upload size={16} />\n                    </button>\n                    <button \n                        onClick={() => alert('Mezcla final exportada correctamente.')}\n                        className=\"p-1.5 text-[#AAA] hover:text-[#A4ECA1] transition-colors rounded hover:bg-[#222]\" title=\"Exportar Mezcla\"\n                    >\n                        <Download size={16} />\n                    </button>\n                    <button className=\"p-1.5 text-[#666] hover:text-[#AAA] transition-colors rounded hover:bg-[#222]\">\n                        <Settings2 size={16} />\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2414, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/SpectrumAnalyzer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SpectrumAnalyzer = registerClientReference(\n    function() { throw new Error(\"Attempted to call SpectrumAnalyzer() from the server but SpectrumAnalyzer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/SpectrumAnalyzer.tsx <module evaluation>\",\n    \"SpectrumAnalyzer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,2SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iGACA","ignoreList":[0]}},
    {"offset": {"line": 2428, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/SpectrumAnalyzer.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SpectrumAnalyzer = registerClientReference(\n    function() { throw new Error(\"Attempted to call SpectrumAnalyzer() from the server but SpectrumAnalyzer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/SpectrumAnalyzer.tsx\",\n    \"SpectrumAnalyzer\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,2SAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6EACA","ignoreList":[0]}},
    {"offset": {"line": 2442, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2450, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/StudioChat.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudioChat = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudioChat() from the server but StudioChat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/StudioChat.tsx <module evaluation>\",\n    \"StudioChat\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,2SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2FACA","ignoreList":[0]}},
    {"offset": {"line": 2464, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/StudioChat.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const StudioChat = registerClientReference(\n    function() { throw new Error(\"Attempted to call StudioChat() from the server but StudioChat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/StudioChat.tsx\",\n    \"StudioChat\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,aAAa,IAAA,2SAAuB,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 2478, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2486, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/PluginWindow.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PluginWindow = registerClientReference(\n    function() { throw new Error(\"Attempted to call PluginWindow() from the server but PluginWindow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/PluginWindow.tsx <module evaluation>\",\n    \"PluginWindow\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,2SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,6FACA","ignoreList":[0]}},
    {"offset": {"line": 2500, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/daw/PluginWindow.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PluginWindow = registerClientReference(\n    function() { throw new Error(\"Attempted to call PluginWindow() from the server but PluginWindow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/development/Da Graba_Studio/components/daw/PluginWindow.tsx\",\n    \"PluginWindow\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,2SAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,yEACA","ignoreList":[0]}},
    {"offset": {"line": 2514, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 2522, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/app/%5Blocale%5D/studio/page.tsx"],"sourcesContent":["import { useDAWStore } from '@/store/useDAWStore';\nimport { Fader } from '@/components/daw/Fader';\nimport { AudioTimeline } from '@/components/daw/AudioTimeline';\nimport { DawTrackControl } from '@/components/daw/DawTrackControl';\nimport { PianoRoll } from '@/components/daw/PianoRoll';\nimport { TransportBar } from '@/components/daw/TransportBar';\nimport { SpectrumAnalyzer } from '@/components/daw/SpectrumAnalyzer';\nimport { StudioChat } from '@/components/daw/StudioChat';\nimport { Activity } from 'lucide-react';\nimport { PluginWindow } from '@/components/daw/PluginWindow';\nimport { TrackTypeModal } from '@/components/daw/TrackTypeModal';\nimport { useState } from 'react';\n\nexport default function Studio() {\n    const faders = useDAWStore((state) => state.faders);\n    const tracks = useDAWStore((state) => state.tracks);\n    const addTrack = useDAWStore((state) => state.addTrack);\n    const isTraining = useDAWStore((state) => state.isTraining);\n    const activeBottomPanel = useDAWStore((state) => state.activeBottomPanel);\n    const mixerBank = useDAWStore((state) => state.mixerBank);\n    const setMixerBank = useDAWStore((state) => state.setMixerBank);\n    const isFullMixer = useDAWStore((state) => state.isFullMixer);\n    const [showTrackModal, setShowTrackModal] = useState(false);\n\n    // Every track has a corresponding fader with same ID\n    const activeFaders = faders;\n\n    const openPluginIds = useDAWStore((state) => state.openPluginIds);\n    const closePlugin = useDAWStore((state) => state.closePlugin);\n\n    return (\n        <div className=\"flex flex-col h-full w-full pointer-events-auto bg-[#0A0A0C]\">\n\n            {/* TOP HEADER: Pro Tools / Logic Transport Bar */}\n            <TransportBar />\n\n            {/* CENTER: Audio Timeline & Track Control Column */}\n            {!isFullMixer && (\n                <div className={`flex flex-1 w-full px-8 py-2 gap-4 z-20 max-w-[2000px] mx-auto overflow-hidden transition-all duration-300 ${activeBottomPanel !== 'closed' ? 'min-h-[250px]' : 'h-full pb-8'}`}>\n                    {/* Left Column: Track Controls */}\n                    <div className=\"w-[200px] bg-[#111113]/80 backdrop-blur-md border border-[#333] flex flex-col overflow-y-auto shadow-2xl rounded-md shrink-0 py-4 custom-scrollbar\">\n                        {tracks.map((track) => (\n                            <DawTrackControl key={track.id} trackId={track.id} trackName={track.name} color={track.color} />\n                        ))}\n                        <button\n                            onClick={() => setShowTrackModal(true)}\n                            className=\"mt-4 mx-4 py-2 border border-dashed border-[#444] rounded text-[#888] hover:text-white hover:border-[#888] transition-colors text-xs font-bold tracking-widest flex items-center justify-center gap-2\"\n                        >\n                            + NEW TRACK\n                        </button>\n                    </div>\n\n                    {/* Main Timeline Canvas */}\n                    <div className=\"flex-1 bg-[#1A1A1C]/90 backdrop-blur-md relative border border-[#333] shadow-2xl rounded-md overflow-hidden\">\n                        <AudioTimeline />\n                    </div>\n                </div>\n            )}\n\n            {/* BOTTOM: Conditional Workspace Panel */}\n            {activeBottomPanel !== 'closed' && (\n                <div className={`w-full mt-auto flex flex-col items-center justify-end z-10 pb-0 overflow-hidden transition-all duration-300 ${isFullMixer ? 'h-full' : (activeBottomPanel === 'piano_roll' ? 'h-[60vh]' : 'h-[400px]')\n                    }`}>\n\n                    {/* MIXER VIEW */}\n                    {activeBottomPanel === 'mixer' && (\n                        <div className=\"flex flex-col items-center w-full z-20\">\n                            {/* Spectrum Analyzer in High-End Glass Frame */}\n                            <div className=\"w-full max-w-5xl h-[120px] mb-4 px-8 relative z-30 group\">\n                                <div className=\"absolute inset-x-8 inset-y-0 bg-black/40 backdrop-blur-2xl border border-white/5 rounded-xl shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden\">\n                                    <div className=\"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-cyan-400/20 to-transparent\" />\n                                    <SpectrumAnalyzer />\n                                </div>\n                            </div>\n\n                            {/* Mixer Toolbar (Modern Bank Switch) */}\n                            <div className=\"w-full max-w-7xl px-8 flex justify-between items-center mb-4 relative z-20\">\n                                <div className=\"flex flex-col\">\n                                    <h4 className=\"text-[10px] font-black tracking-[0.3em] text-[#444] uppercase mb-1\">Mixing Console</h4>\n                                    <div className=\"h-0.5 w-12 bg-orange-600/50\" />\n                                </div>\n\n                                <div className=\"flex bg-[#0A0A0C] p-1 border border-white/5 rounded-lg shadow-2xl ring-1 ring-black/80\">\n                                    <button\n                                        onClick={() => setMixerBank(1)}\n                                        className={`px-6 py-1.5 text-[10px] font-black tracking-widest rounded-md transition-all ${mixerBank === 1 ? 'bg-gradient-to-b from-[#444] to-[#222] text-white shadow-lg border border-white/10' : 'text-[#444] hover:text-[#888]'}`}\n                                    >\n                                        CH 1-16\n                                    </button>\n                                    <button\n                                        onClick={() => setMixerBank(2)}\n                                        className={`px-6 py-1.5 text-[10px] font-black tracking-widest rounded-md transition-all ${mixerBank === 2 ? 'bg-gradient-to-b from-[#444] to-[#222] text-white shadow-lg border border-white/10' : 'text-[#444] hover:text-[#888]'}`}\n                                    >\n                                        CH 17-32\n                                    </button>\n                                </div>\n                            </div>\n\n                            <div className=\"w-full bg-[#111] border-t-2 border-black relative overflow-x-auto custom-scrollbar shadow-[0_-20px_60px_rgba(0,0,0,0.8)]\">\n                                <div className=\"absolute inset-0 bg-transparent opacity-10 mix-blend-overlay pointer-events-none\" />\n\n                                {faders.length === 0 ? (\n                                    <div className=\"flex flex-col items-center justify-center py-16 px-8 text-center gap-4\">\n                                        <div className=\"w-16 h-16 rounded-full bg-[#1A1A1A] border border-dashed border-[#333] flex items-center justify-center mb-2\">\n                                            <Activity size={24} className=\"text-[#444]\" />\n                                        </div>\n                                        <p className=\"text-[11px] font-black text-[#444] uppercase tracking-[0.3em]\">Sin Tracks en el DAW</p>\n                                        <p className=\"text-[10px] text-[#333] max-w-sm\">\n                                            Agrega tracks usando <span className=\"text-orange-500\">+ NEW TRACK</span> en el rea de edicin, o importa una cancin desde <span className=\"text-orange-500\">Crear</span>.\n                                        </p>\n                                    </div>\n                                ) : (\n                                    <div className=\"min-w-fit mx-auto flex justify-center py-10 px-12 relative z-10 bg-gradient-to-b from-[#151517] to-[#0A0A0C]\">\n                                        <div className=\"flex gap-1 w-full justify-center\">\n                                            {activeFaders.slice((mixerBank - 1) * 16, mixerBank * 16).map((fader) => (\n                                                <Fader key={fader.id} id={fader.id} />\n                                            ))}\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* PIANO ROLL VIEW */}\n                    {activeBottomPanel === 'piano_roll' && (\n                        <div className=\"w-full h-full relative z-20 transform-none\">\n                            <PianoRoll />\n                        </div>\n                    )}\n                </div>\n            )}\n\n            {/* FULLSCREEN TRAINING / PROCESSING OVERLAY */}\n            {isTraining && (\n                <div className=\"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-md pointer-events-auto\">\n                    {/* The spectacular glowing DG Logo */}\n                    <div className=\"w-64 h-64 rounded-full relative flex items-center justify-center shadow-[0_0_100px_rgba(255,107,0,0.8)] animate-pulse overflow-hidden border border-orange-500/30\">\n                        {/* Outer spinner ring */}\n                        <div className=\"absolute inset-0 border-8 border-t-white border-r-transparent border-b-white/10 border-l-transparent rounded-full animate-spin z-10\" />\n                        <img src=\"/logo_circular.png\" alt=\"DA GRABA Loading Logo\" className=\"w-full h-full object-cover scale-110\" />\n                    </div>\n\n                    <div className=\"mt-8 flex flex-col items-center gap-2\">\n                        <div className=\"flex items-center gap-3\">\n                            <Activity size={16} className=\"text-primary animate-bounce\" />\n                            <h2 className=\"text-xl font-bold tracking-widest text-[#E0E0E0]\">PROCESANDO EN MODAL</h2>\n                        </div>\n                        <p className=\"text-silver-dark text-sm font-mono tracking-wide max-w-sm text-center\">\n                            Aplicando clonacin vocal y auto-mezclando niveles en la consola...\n                        </p>\n                    </div>\n                </div>\n            )}\n\n            {/* AI PRODUCTION CHAT */}\n            <StudioChat />\n\n            {/* FLOATING PLUGIN WINDOWS */}\n            {openPluginIds.map((insertId) => {\n                // Find which fader/track this insert belongs to\n                const fader = faders.find(f => f.inserts.some(i => i.id === insertId));\n                const insert = fader?.inserts.find(i => i.id === insertId);\n\n                if (!fader || !insert) return null;\n\n                return (\n                    <PluginWindow\n                        key={insertId}\n                        trackId={fader.id}\n                        insert={insert}\n                        onClose={() => closePlugin(insertId)}\n                    />\n                );\n            })}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}