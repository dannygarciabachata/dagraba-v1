{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useDAWStore.ts"],"sourcesContent":["import { create } from 'zustand';\n\nexport type TrackType = 'mono' | 'stereo' | 'aux' | 'master' | 'midi' | 'virtual_instrument';\n\nexport interface DAWTrack {\n    id: string;\n    name: string;\n    color: string;\n    trackType: TrackType;\n}\n\nexport interface FXInsert {\n    id: string;\n    pluginId: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter' | 'reverb' | 'delay' | 'chorus' | 'distortion' | 'virtual_instrument';\n    bypass: boolean;\n    settings: any;\n}\n\nexport interface FaderState {\n    id: string; // 'vocal', 'beat', 'bass', 'fx', 'ch-...'\n    label: string;\n    value: number; // 0 a 100\n    isMuted: boolean;\n    pan: number;\n    isSoloed: boolean;\n    inserts: FXInsert[];\n}\n\nexport type BottomPanelState = 'mixer' | 'piano_roll' | 'closed';\nexport type CloudStatus = 'disconnected' | 'connecting' | 'connected';\n\ninterface DAWStore {\n    faders: FaderState[];\n    tracks: DAWTrack[];\n    isTraining: boolean;\n    activeArtistId: string | null;\n    activeBottomPanel: BottomPanelState;\n    mixerBank: 1 | 2; // 1 = Ch 1-16, 2 = Ch 17-32\n    cloudStatus: CloudStatus;\n    systemMessage: string;\n    isMetronomeOn: boolean;\n    isPlaying: boolean;\n    masterLevel: number;\n    currentPreviewTrack: any | null;\n    isFullMixer: boolean;\n\n    // Acciones para que la IA mueva los faders\n    setFaderValue: (id: string, value: number) => void;\n    setTrainingStatus: (status: boolean) => void;\n    resetConsole: () => void;\n    // Preserving DAW UI state\n    setPan: (id: string, pan: number) => void;\n    toggleSolo: (id: string) => void;\n    toggleMute: (id: string) => void;\n    setActiveBottomPanel: (panel: BottomPanelState) => void;\n    setMixerBank: (bank: 1 | 2) => void;\n    setCloudStatus: (status: CloudStatus, message?: string) => void;\n    setFullMixer: (status: boolean) => void;\n\n    // Track Management\n    addTrack: (name?: string, color?: string, trackType?: TrackType) => void;\n    setTracks: (tracks: DAWTrack[]) => void;\n    clearTracks: () => void;\n    removeTrack: (id: string) => void;\n    toggleMetronome: () => void;\n    setIsPlaying: (playing: boolean) => void;\n    setMasterLevel: (level: number) => void;\n    setPreviewTrack: (track: any | null) => void;\n\n    // FX Insert Management\n    addInsert: (trackId: string, pluginId: FXInsert['pluginId']) => void;\n    removeInsert: (trackId: string, insertId: string) => void;\n    updateInsertSettings: (trackId: string, insertId: string, settings: any) => void;\n    toggleInsertBypass: (trackId: string, insertId: string) => void;\n\n    // Plugin Window Management\n    openPluginIds: string[]; // List of insert IDs currently open\n    openPlugin: (insertId: string) => void;\n    closePlugin: (insertId: string) => void;\n}\n\nexport const useDAWStore = create<DAWStore>((set) => ({\n    faders: [], // Faders are created dynamically per track\n    tracks: [],\n    isTraining: false,\n    activeArtistId: null,\n    activeBottomPanel: 'mixer', // Mixer opens by default\n    mixerBank: 1,\n    cloudStatus: 'disconnected',\n    systemMessage: '',\n    isMetronomeOn: false,\n    isPlaying: false,\n    masterLevel: 0,\n    currentPreviewTrack: null,\n    isFullMixer: false,\n\n    setTracks: (tracks: DAWTrack[]) => set((state) => {\n        const newFaders: FaderState[] = tracks.map((track) => ({\n            id: track.id,\n            label: track.name.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        }));\n        return { tracks, faders: newFaders };\n    }),\n\n    addTrack: (name, color, trackType = 'mono') => set((state) => {\n        const newId = `t${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        const trackColor = color || ['#00F0FF', '#FF6B00', '#A4ECA1', '#E2A04A', '#D94AE2', '#FF0055', '#55FF00'][Math.floor(Math.random() * 7)];\n        const trackName = name || `Audio Track ${state.tracks.length + 1}`;\n\n        const newTrack: DAWTrack = { id: newId, name: trackName, color: trackColor, trackType };\n        const newFader: FaderState = {\n            id: newId,\n            label: trackName.toUpperCase(),\n            value: 75,\n            isMuted: false,\n            pan: 0,\n            isSoloed: false,\n            inserts: []\n        };\n\n        return {\n            tracks: [...state.tracks, newTrack],\n            faders: [...state.faders, newFader]\n        };\n    }),\n\n    clearTracks: () => set({ tracks: [], faders: [] }),\n\n    removeTrack: (id) => set((state) => ({\n        tracks: state.tracks.filter(t => t.id !== id),\n        faders: state.faders.filter(f => f.id !== id)\n    })),\n\n    toggleMetronome: () => set((state) => ({\n        isMetronomeOn: !state.isMetronomeOn\n    })),\n\n    setActiveBottomPanel: (panel) => set({ activeBottomPanel: panel }),\n    setMixerBank: (bank) => set({ mixerBank: bank }),\n\n    setFaderValue: (id, value) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, value } : f)\n    })),\n\n    setTrainingStatus: (status) => set({ isTraining: status }),\n\n    resetConsole: () => set((state) => ({\n        faders: state.faders.map((f) => ({ ...f, value: 0 }))\n    })),\n\n    setPan: (id, pan) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, pan } : f)\n    })),\n\n    toggleSolo: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isSoloed: !f.isSoloed } : f)\n    })),\n\n    toggleMute: (id) => set((state) => ({\n        faders: state.faders.map((f) => f.id === id ? { ...f, isMuted: !f.isMuted } : f)\n    })),\n\n    setCloudStatus: (status, message = '') => set({ cloudStatus: status, systemMessage: message }),\n    setIsPlaying: (playing) => set({ isPlaying: playing }),\n    setMasterLevel: (level) => set({ masterLevel: level }),\n    setPreviewTrack: (track) => set({ currentPreviewTrack: track }),\n    setFullMixer: (status) => set({ isFullMixer: status }),\n\n    // FX Insert Management\n    addInsert: (trackId, pluginId) => set((state) => {\n        const defaultSettings: any = {\n            gate: { gateThreshold: 10, gateAttack: 5, gateRelease: 100 },\n            eq: { eqHighpass: 30, eqTilt: 0, eqSideGain: 20, eqSideFreq: 4000 },\n            leveler: { levelerTarget: -14, levelerBrake: -60, levelerMaxPlus: 6, levelerMaxMinus: 12 },\n            compressor: { compStrength: 30, compAttack: 20, compRelease: 200, compMakeup: 0 },\n            multiband: { mbStrengthLow: 20, mbStrengthHigh: 40, mbCrossoverLow: 200, mbCrossoverHigh: 5000 },\n            limiter: { limStrength: 50, limAttack: 2, limRelease: 100, limCeiling: -0.1 }\n        };\n\n        const newInsert: FXInsert = {\n            id: `fx-${pluginId}-${Date.now()}`,\n            pluginId,\n            bypass: false,\n            settings: defaultSettings[pluginId] || {}\n        };\n\n        return {\n            faders: state.faders.map(f => f.id === trackId\n                ? { ...f, inserts: [...f.inserts, newInsert].slice(0, 4) } // Limit to 4 slots\n                : f)\n        };\n    }),\n\n    removeInsert: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.filter(i => i.id !== insertId) }\n            : f)\n    })),\n\n    updateInsertSettings: (trackId, insertId, newSettings) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, settings: { ...i.settings, ...newSettings } } : i) }\n            : f)\n    })),\n\n    toggleInsertBypass: (trackId, insertId) => set((state) => ({\n        faders: state.faders.map(f => f.id === trackId\n            ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, bypass: !i.bypass } : i) }\n            : f)\n    })),\n\n    // Plugin Window Management\n    openPluginIds: [],\n    openPlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.includes(insertId) ? state.openPluginIds : [...state.openPluginIds, insertId]\n    })),\n    closePlugin: (insertId) => set((state) => ({\n        openPluginIds: state.openPluginIds.filter(id => id !== insertId)\n    })),\n}));\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/CloudStatusPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CheckCircle2, RefreshCw, Power } from 'lucide-react';\nimport { useDAWStore } from '@/store/useDAWStore';\n\nexport function CloudStatusPanel() {\n    const cloudStatus = useDAWStore((state) => state.cloudStatus);\n    const systemMessage = useDAWStore((state) => state.systemMessage);\n    const setCloudStatus = useDAWStore((state) => state.setCloudStatus);\n\n    const [showNotification, setShowNotification] = useState(false);\n\n    const handleDeploy = async () => {\n        if (cloudStatus === 'connecting' || cloudStatus === 'connected') return;\n\n        setCloudStatus('connecting', 'Conectando con el cerebro en la nube...');\n\n        try {\n            const formData = new FormData();\n            formData.append('type', 'audio');\n\n            const res = await fetch('/api/train', {\n                method: 'POST',\n                body: formData\n            });\n\n            if (res.ok) {\n                setCloudStatus('connected', 'Motor V1 Activo.');\n                setShowNotification(true);\n                setTimeout(() => setShowNotification(false), 5000);\n            } else {\n                setCloudStatus('disconnected', 'Fallo en la conexión.');\n            }\n        } catch (error) {\n            console.error(error);\n            setCloudStatus('disconnected', 'Error de red.');\n        }\n    };\n\n    return (\n        <div className=\"w-full px-2 lg:px-4 mb-4\">\n            <div className=\"bg-black/30 backdrop-blur-md border border-white/5 lg:rounded-xl p-2 flex flex-col gap-2 shadow-inner ring-1 ring-white/5 hover:border-white/10 transition-colors\">\n                <div className=\"flex items-center justify-between px-1\">\n                    <div className=\"flex items-center gap-2\">\n                        {/* LED Indicator */}\n                        <div className={`w-1.5 h-1.5 rounded-full shadow-[0_0_5px_currentColor] transition-colors duration-300 ${cloudStatus === 'connected' ? 'bg-[#00F0FF] text-[#00F0FF]' :\n                            cloudStatus === 'connecting' ? 'bg-[#FF6B00] text-[#FF6B00] animate-pulse' :\n                                'bg-[#333] text-transparent'\n                            }`} />\n                        <span className=\"text-[8px] font-black tracking-[0.2em] text-white/30 uppercase hidden lg:block whitespace-nowrap\">\n                            Modal Engine\n                        </span>\n                    </div>\n                </div>\n\n                <div className=\"flex flex-col gap-1.5\">\n                    <button\n                        onClick={handleDeploy}\n                        disabled={cloudStatus === 'connecting' || cloudStatus === 'connected'}\n                        className={`flex items-center justify-center gap-2 w-full py-1.5 rounded-lg transition-all duration-300 text-[9px] font-black tracking-widest border ${cloudStatus === 'connecting'\n                            ? 'bg-[#FF6B00]/20 border-[#FF6B00]/30 text-[#FF6B00]'\n                            : cloudStatus === 'connected'\n                                ? 'bg-[#00F0FF]/10 border-[#00F0FF]/30 text-[#00F0FF] shadow-[0_0_10px_rgba(0,240,255,0.1)]'\n                                : 'bg-white/5 hover:bg-white/10 border-white/5 text-white/60 hover:text-white'\n                            }`}\n                    >\n                        {cloudStatus === 'connecting' ? (\n                            <RefreshCw size={10} className=\"animate-spin\" />\n                        ) : (\n                            <Power size={10} className={cloudStatus === 'connected' ? 'animate-pulse' : ''} />\n                        )}\n                        <span className=\"hidden lg:block truncate\">\n                            {cloudStatus === 'connecting' ? 'WAITING' : cloudStatus === 'connected' ? 'MOTOR ON' : 'DEPLOY AI'}\n                        </span>\n                    </button>\n\n                    {/* Compact status text */}\n                    <div className=\"hidden lg:block px-1\">\n                        <p className={`text-[7px] font-medium leading-tight truncate ${cloudStatus === 'connected' ? 'text-cyan-400/60' : cloudStatus === 'connecting' ? 'text-orange-400/60' : 'text-neutral-600'}`}>\n                            {cloudStatus === 'connected' ? 'CONEXIÓN ACTIVA' : cloudStatus === 'connecting' ? 'DESPLEGANDO...' : 'MOTOR EN REPOSO'}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Global notification - preserved but subtle */}\n            <AnimatePresence>\n                {showNotification && (\n                    <motion.div\n                        initial={{ opacity: 0, x: 20, y: 0 }}\n                        animate={{ opacity: 1, x: 0, y: 0 }}\n                        exit={{ opacity: 0, x: 20 }}\n                        className=\"fixed top-6 right-6 z-[100] bg-[#0A0A0C] border border-[#00F0FF]/50 shadow-2xl rounded-lg p-3 flex items-center gap-3 ring-1 ring-[#00F0FF]/20\"\n                    >\n                        <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-[#00F0FF] to-[#00A3FF] flex items-center justify-center shadow-[0_0_15px_rgba(0,240,255,0.4)]\">\n                            <CheckCircle2 size={12} className=\"text-black\" />\n                        </div>\n                        <div>\n                            <p className=\"text-[10px] font-black tracking-widest text-white uppercase\">Engine Connected</p>\n                            <p className=\"text-[9px] text-[#A0A0A0] mt-0.5\">Motor V1 Activo.</p>\n                        </div>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;;;AALA;;;;;AAOO,SAAS;;IACZ,MAAM,cAAc,IAAA,yKAAW;qDAAC,CAAC,QAAU,MAAM,WAAW;;IAC5D,MAAM,gBAAgB,IAAA,yKAAW;uDAAC,CAAC,QAAU,MAAM,aAAa;;IAChE,MAAM,iBAAiB,IAAA,yKAAW;wDAAC,CAAC,QAAU,MAAM,cAAc;;IAElE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,4MAAQ,EAAC;IAEzD,MAAM,eAAe;QACjB,IAAI,gBAAgB,gBAAgB,gBAAgB,aAAa;QAEjE,eAAe,cAAc;QAE7B,IAAI;YACA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,MAAM,MAAM,MAAM,cAAc;gBAClC,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,eAAe,aAAa;gBAC5B,oBAAoB;gBACpB,WAAW,IAAM,oBAAoB,QAAQ;YACjD,OAAO;gBACH,eAAe,gBAAgB;YACnC;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,eAAe,gBAAgB;QACnC;IACJ;IAEA,qBACI,gOAAC;QAAI,WAAU;;0BACX,gOAAC;gBAAI,WAAU;;kCACX,gOAAC;wBAAI,WAAU;kCACX,cAAA,gOAAC;4BAAI,WAAU;;8CAEX,gOAAC;oCAAI,WAAW,CAAC,sFAAsF,EAAE,gBAAgB,cAAc,gCACnI,gBAAgB,eAAe,8CAC3B,8BACF;;;;;;8CACN,gOAAC;oCAAK,WAAU;8CAAmG;;;;;;;;;;;;;;;;;kCAM3H,gOAAC;wBAAI,WAAU;;0CACX,gOAAC;gCACG,SAAS;gCACT,UAAU,gBAAgB,gBAAgB,gBAAgB;gCAC1D,WAAW,CAAC,yIAAyI,EAAE,gBAAgB,eACjK,uDACA,gBAAgB,cACZ,6FACA,8EACJ;;oCAEL,gBAAgB,6BACb,gOAAC,mQAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;6DAE/B,gOAAC,mPAAK;wCAAC,MAAM;wCAAI,WAAW,gBAAgB,cAAc,kBAAkB;;;;;;kDAEhF,gOAAC;wCAAK,WAAU;kDACX,gBAAgB,eAAe,YAAY,gBAAgB,cAAc,aAAa;;;;;;;;;;;;0CAK/F,gOAAC;gCAAI,WAAU;0CACX,cAAA,gOAAC;oCAAE,WAAW,CAAC,8CAA8C,EAAE,gBAAgB,cAAc,qBAAqB,gBAAgB,eAAe,uBAAuB,oBAAoB;8CACvL,gBAAgB,cAAc,oBAAoB,gBAAgB,eAAe,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;0BAOrH,gOAAC,kPAAe;0BACX,kCACG,gOAAC,0OAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAI,GAAG;oBAAE;oBACnC,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,GAAG;oBAAE;oBAClC,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC1B,WAAU;;sCAEV,gOAAC;4BAAI,WAAU;sCACX,cAAA,gOAAC,2QAAY;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;sCAEtC,gOAAC;;8CACG,gOAAC;oCAAE,WAAU;8CAA8D;;;;;;8CAC3E,gOAAC;oCAAE,WAAU;8CAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5E;GArGgB;;QACQ,yKAAW;QACT,yKAAW;QACV,yKAAW;;;KAHtB"}},
    {"offset": {"line": 491, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Mic2, LayoutDashboard, SlidersHorizontal, User, Settings, Wand2, Compass, Languages } from 'lucide-react';\nimport { CloudStatusPanel } from './CloudStatusPanel';\nimport { useTranslations, useLocale } from 'next-intl';\n\nconst navItems = [\n    { id: 'dashboard', href: '/dashboard', icon: LayoutDashboard },\n    { id: 'explorer', href: '/explorer', icon: Compass },\n    { id: 'planer', href: '/planer', icon: Mic2 },\n    { id: 'crear', href: '/crear', icon: Wand2 },\n    { id: 'studio', href: '/studio', icon: SlidersHorizontal },\n    { id: 'mastering', href: '/mastering', icon: SlidersHorizontal },\n    { id: 'profile', href: '/profile', icon: User },\n];\n\nconst locales = ['en', 'es', 'pt', 'fr', 'de', 'it', 'ja'];\n\nexport function Sidebar() {\n    const t = useTranslations('Navigation');\n    const tl = useTranslations('Languages');\n    const pathname = usePathname();\n    const currentLocale = useLocale();\n\n    // Helper to get localized href\n    const getLocalizedHref = (href: string) => `/${currentLocale}${href}`;\n\n    // Helper to switch locale while keeping the path\n    const getSwitchLocaleHref = (newLocale: string) => {\n        if (!pathname) return `/${newLocale}`;\n        const segments = pathname.split('/');\n        segments[1] = newLocale;\n        return segments.join('/');\n    };\n\n    return (\n        <aside className=\"w-16 lg:w-48 h-full bg-[#0B1015]/80 backdrop-blur-xl border-r border-white/10 flex flex-col justify-between py-6 z-50 shadow-[10px_0_30px_rgba(0,0,0,0.8)] relative\">\n            <div className=\"flex flex-col items-center lg:items-start w-full\">\n                {/* Logo Text/Icon */}\n                <div className=\"w-full px-0 lg:px-6 mb-12 flex justify-center lg:justify-start\">\n                    <div className=\"w-14 h-14 lg:w-32 lg:h-32 rounded-2xl flex items-center justify-center overflow-hidden shadow-[0_0_30px_rgba(255,107,0,0.6)] border border-orange-500/20 transform hover:scale-105 transition-transform duration-500\">\n                        <img src=\"/logo.jpg\" alt=\"DA GRABA Logo\" className=\"w-full h-full object-cover\" />\n                    </div>\n                </div>\n                {/* Navigation Links */}\n                <nav className=\"flex flex-col gap-4 w-full px-2 lg:px-4\">\n                    {navItems.map((item) => {\n                        const hrefWithLocale = getLocalizedHref(item.href);\n                        const isActive = pathname.startsWith(hrefWithLocale);\n                        const Icon = item.icon;\n                        return (\n                            <Link\n                                key={item.id}\n                                href={hrefWithLocale}\n                                className={`flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg transition-all duration-300 w-full group ${isActive\n                                    ? 'bg-cyan-glow/10 border border-cyan-glow/30 text-cyan-glow shadow-[0_0_15px_rgba(0,240,255,0.15)] glow-cyan'\n                                    : 'text-silver-dark hover:text-white hover:bg-white/5 border border-transparent'\n                                    }`}\n                            >\n                                <Icon size={20} className={isActive ? 'text-cyan-glow' : 'text-silver-dark group-hover:text-white transition-colors'} />\n                                <span className={`hidden lg:block text-sm font-medium tracking-wide ${isActive ? 'text-cyan-glow' : ''}`}>\n                                    {t(item.id)}\n                                </span>\n                                {isActive && (\n                                    <span className=\"absolute left-0 w-1 h-8 bg-cyan-glow rounded-r-md shadow-[0_0_10px_rgba(0,240,255,1)]\" />\n                                )}\n                            </Link>\n                        );\n                    })}\n                </nav>\n            </div>\n\n            {/* Bottom Section: AI Status & Settings & Language */}\n            <div className=\"w-full flex flex-col gap-2\">\n                <CloudStatusPanel />\n\n                {/* Language Switcher */}\n                <div className=\"w-full px-2 lg:px-4 mb-2\">\n                    <div className=\"relative group/lang\">\n                        <button className=\"flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg w-full text-silver-dark hover:text-white hover:bg-white/5 transition-all group\">\n                            <Languages size={20} className=\"group-hover:scale-110 transition-transform\" />\n                            <span className=\"hidden lg:block text-sm font-medium tracking-wide\">{tl(currentLocale)}</span>\n                        </button>\n\n                        {/* Dropdown content */}\n                        <div className=\"absolute bottom-full left-0 mb-2 w-48 bg-[#111] border border-white/10 rounded-xl shadow-2xl opacity-0 invisible group-hover/lang:opacity-100 group-hover/lang:visible transition-all duration-200 z-[110] p-1 overflow-hidden\">\n                            <div className=\"max-h-60 overflow-y-auto custom-scrollbar\">\n                                {locales.map((loc) => (\n                                    <Link\n                                        key={loc}\n                                        href={getSwitchLocaleHref(loc)}\n                                        className={`flex items-center gap-2 px-4 py-2.5 text-sm rounded-lg transition-colors ${currentLocale === loc ? 'bg-indigo-600 text-white' : 'text-white/60 hover:bg-white/5 hover:text-white'}`}\n                                    >\n                                        <span className=\"uppercase text-[10px] w-6 opacity-50\">{loc}</span>\n                                        {tl(loc)}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"w-full px-2 lg:px-4\">\n                    <button className=\"flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg w-full text-silver-dark hover:text-white hover:bg-white/5 transition-all group\">\n                        <Settings size={20} className=\"group-hover:rotate-90 transition-transform duration-500\" />\n                        <span className=\"hidden lg:block text-sm font-medium tracking-wide\">{t('settings')}</span>\n                    </button>\n                </div>\n            </div>\n        </aside>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 803, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/GlobalFooterPlayer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useDAWStore } from '@/store/useDAWStore';\nimport { Play, Pause, SkipBack, SkipForward, Volume2, Music, X, Maximize2 } from 'lucide-react';\nimport { useTranslations } from 'next-intl';\n\nexport function GlobalFooterPlayer() {\n    const t = useTranslations('Player');\n    const { currentPreviewTrack, setPreviewTrack } = useDAWStore();\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [duration, setDuration] = useState(0);\n    const [volume, setVolume] = useState(0.8);\n\n    useEffect(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        if (currentPreviewTrack) {\n            const src = currentPreviewTrack.streamAudioUrl || currentPreviewTrack.url || '';\n            if (!src) {\n                // Track not ready yet (still processing)\n                audio.pause();\n                setIsPlaying(false);\n                return;\n            }\n            audio.src = src;\n            audio.load();\n            audio.volume = volume;\n            audio.play().catch(err => {\n                // Autoplay blocked or URL problem\n                console.warn('[GlobalPlayer] Playback failed:', err);\n                setIsPlaying(false);\n            });\n            setIsPlaying(true);\n        } else {\n            audio.pause();\n            audio.src = '';\n            setIsPlaying(false);\n            setProgress(0);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentPreviewTrack]);\n\n\n    const togglePlay = () => {\n        if (!audioRef.current) return;\n        if (isPlaying) {\n            audioRef.current.pause();\n        } else {\n            audioRef.current.play();\n        }\n        setIsPlaying(!isPlaying);\n    };\n\n    const handleTimeUpdate = () => {\n        if (audioRef.current) {\n            const current = audioRef.current.currentTime;\n            const dur = audioRef.current.duration;\n            if (isFinite(dur) && dur > 0) {\n                setProgress((current / dur) * 100);\n                setDuration(dur);\n            }\n        }\n    };\n\n    const handleSeek = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (audioRef.current) {\n            const seekTime = (parseFloat(e.target.value) / 100) * audioRef.current.duration;\n            audioRef.current.currentTime = seekTime;\n            setProgress(parseFloat(e.target.value));\n        }\n    };\n\n    if (!currentPreviewTrack) return null;\n\n    return (\n        <div className=\"fixed bottom-0 left-0 right-0 h-20 bg-black/90 backdrop-blur-xl border-t border-white/10 z-[100] flex items-center px-6 gap-8 animate-in slide-in-from-bottom duration-500\">\n            <audio\n                ref={audioRef}\n                onTimeUpdate={handleTimeUpdate}\n                onEnded={() => setIsPlaying(false)}\n            />\n\n            {/* Track Info */}\n            <div className=\"flex items-center gap-4 w-[300px] shrink-0\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-md flex items-center justify-center shadow-lg overflow-hidden border border-white/10\">\n                    {currentPreviewTrack.image ? (\n                        <img src={currentPreviewTrack.image} alt=\"\" className=\"w-full h-full object-cover\" />\n                    ) : (\n                        <Music className=\"text-white/50\" size={20} />\n                    )}\n                </div>\n                <div className=\"flex flex-col min-w-0\">\n                    <span className=\"text-white font-bold text-sm truncate\">{currentPreviewTrack.title || t('untitled')}</span>\n                    <span className=\"text-white/50 text-[10px] uppercase tracking-widest truncate\">{currentPreviewTrack.style || t('aiGenerated')}</span>\n                </div>\n            </div>\n\n            {/* Player Controls */}\n            <div className=\"flex-1 flex flex-col items-center gap-2 max-w-2xl\">\n                <div className=\"flex items-center gap-6\">\n                    <button className=\"text-white/40 hover:text-white transition-colors\">\n                        <SkipBack size={20} />\n                    </button>\n                    <button\n                        onClick={togglePlay}\n                        className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-105 transition-transform shadow-[0_0_15px_rgba(255,255,255,0.3)]\"\n                    >\n                        {isPlaying ? <Pause size={20} fill=\"black\" className=\"text-black\" /> : <Play size={20} fill=\"black\" className=\"text-black ml-1\" />}\n                    </button>\n                    <button className=\"text-white/40 hover:text-white transition-colors\">\n                        <SkipForward size={20} />\n                    </button>\n                </div>\n\n                <div className=\"w-full flex items-center gap-3\">\n                    <span className=\"text-[10px] font-mono text-white/40 w-10 text-right\">\n                        {Math.floor((audioRef.current?.currentTime || 0) / 60)}:\n                        {Math.floor((audioRef.current?.currentTime || 0) % 60).toString().padStart(2, '0')}\n                    </span>\n                    <input\n                        type=\"range\"\n                        value={isFinite(progress) ? progress : 0}\n                        onChange={handleSeek}\n                        min={0}\n                        max={100}\n                        className=\"flex-1 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white\"\n                        style={{ background: `linear-gradient(to right, white ${isFinite(progress) ? progress : 0}%, rgba(255,255,255,0.1) ${isFinite(progress) ? progress : 0}%)` }}\n                    />\n                    <span className=\"text-[10px] font-mono text-white/40 w-10\">\n                        {Math.floor(duration / 60)}:\n                        {Math.floor(duration % 60).toString().padStart(2, '0')}\n                    </span>\n                </div>\n            </div>\n\n            {/* Right Controls */}\n            <div className=\"flex items-center gap-6 w-[300px] justify-end\">\n                <div className=\"flex items-center gap-2 group\">\n                    <Volume2 size={18} className=\"text-white/40 group-hover:text-white transition-colors\" />\n                    <input\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"1\"\n                        step=\"0.01\"\n                        value={volume}\n                        onChange={(e) => {\n                            const v = parseFloat(e.target.value);\n                            setVolume(v);\n                            if (audioRef.current) audioRef.current.volume = v;\n                        }}\n                        className=\"w-20 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white\"\n                    />\n                </div>\n                <button\n                    onClick={() => setPreviewTrack(null)}\n                    className=\"text-white/20 hover:text-red-500 transition-colors\"\n                >\n                    <X size={18} />\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}