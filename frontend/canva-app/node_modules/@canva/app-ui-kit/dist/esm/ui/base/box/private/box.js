import { jsx as _jsx } from "react/jsx-runtime";
import { toCallbackRef } from '../../../../base/react/callback_ref';
import classNames from 'classnames';
import 'react';
import { useIsMouseAccessMode } from '../../a11y/access_mode_state/access_mode_state';
import { commonPropsToDOMProps } from '../common_props/common_props';
import { alignItemsAtom, alignSelfAtom, backgroundAtom, borderAtom, borderPositionAtom, borderRadiusAtom, colorAtom, flexWrapAtom, getDisplayClassNames, getDisplayStyles, getFlexDirectionClassNames, getFlexDirectionStyles, getFlexItemBehaviorClassNames, getGapClassName, getGapStyles, getPaddingClassNames, getPaddingStyles, heightAtom, hideOutlineAtom, justifyContentAtom, minHeightAtom, minWidthAtom, positionAtom, positionBottomAtom, positionEndAtom, positionInsetAtom, positionStartAtom, positionTopAtom, resetAtom, shadowAtom, widthAtom } from './atoms';
export function useBox(options) {
    const { className, customProperties, display, background, border, borderTop, borderBottom, borderStart, borderEnd, borderRadius, color, shadow, padding, paddingX, paddingY, paddingTop, paddingBottom, paddingStart, paddingEnd, width, height, minWidth, minHeight, flexDirection, flexWrap, justifyContent, alignItems, flex, alignSelfInFlex, alignSelfInGrid, gap, rowGap, columnGap, position, inset, start, end, top, bottom } = options;
    const isMouseAccessMode = useIsMouseAccessMode();
    const cls = classNames(className, resetAtom(true), backgroundAtom(background), borderAtom(border), borderPositionAtom({
        top: borderTop,
        bottom: borderBottom,
        start: borderStart,
        end: borderEnd
    }), borderRadiusAtom(borderRadius), colorAtom(color, background), shadowAtom(shadow), widthAtom(width), heightAtom(height), minWidthAtom(minWidth), minHeightAtom(minHeight), getPaddingClassNames(padding, paddingX, paddingY, paddingTop, paddingBottom, paddingStart, paddingEnd), getFlexItemBehaviorClassNames(flex), getDisplayClassNames(display), getFlexDirectionClassNames(flexDirection), flexWrapAtom(flexWrap), justifyContentAtom(justifyContent, display), alignItemsAtom(alignItems, display), alignSelfAtom('flex', alignSelfInFlex), alignSelfAtom('grid', alignSelfInGrid), getGapClassName(gap, rowGap, columnGap), positionAtom(position), positionInsetAtom(inset), positionStartAtom(start), positionEndAtom(end), positionTopAtom(top), positionBottomAtom(bottom), hideOutlineAtom(isMouseAccessMode));
    const style = {
        ...getDisplayStyles(display),
        ...getPaddingStyles(padding, paddingX, paddingY, paddingTop, paddingBottom, paddingStart, paddingEnd),
        ...getGapStyles(gap, rowGap, columnGap),
        ...getFlexDirectionStyles(flexDirection),
        ...customProperties
    };
    return {
        className: cls,
        style
    };
}
export function Box(props) {
    const { tagName: TagName = 'div', children, tabIndex, ref, ...rest } = props;
    return _jsx(TagName, {
        ref: toCallbackRef(ref),
        ...useBox(rest),
        ...commonPropsToDOMProps(rest),
        tabIndex: tabIndex,
        children: children
    });
}
