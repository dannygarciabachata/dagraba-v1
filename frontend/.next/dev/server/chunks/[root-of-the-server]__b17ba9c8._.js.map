{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/app/api/ai/tts/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\n\nexport async function POST(req: Request) {\n    try {\n        const { text, voiceId = 'pNInz6obpg8ndclQU7nc' } = await req.json(); // Default 'George' or similar professional voice\n\n        if (!text) {\n            return NextResponse.json({ error: 'Text is required' }, { status: 400 });\n        }\n\n        const apiKey = process.env.ELEVENLABS_API_KEY;\n        if (!apiKey) {\n            return NextResponse.json({ error: 'ElevenLabs API key not configured' }, { status: 500 });\n        }\n\n        const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'xi-api-key': apiKey,\n            },\n            body: JSON.stringify({\n                text,\n                model_id: 'eleven_multilingual_v2',\n                voice_settings: {\n                    stability: 0.5,\n                    similarity_boost: 0.75,\n                },\n            }),\n        });\n\n        if (!response.ok) {\n            const error = await response.json();\n            console.error('ElevenLabs Error:', error);\n            return NextResponse.json({ error: 'Failed to generate speech' }, { status: response.status });\n        }\n\n        const audioBuffer = await response.arrayBuffer();\n\n        return new NextResponse(audioBuffer, {\n            headers: {\n                'Content-Type': 'audio/mpeg',\n            },\n        });\n    } catch (error: any) {\n        console.error('TTS Route Error:', error);\n        return NextResponse.json({ error: 'Internal server error' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,IAAI,EAAE,UAAU,sBAAsB,EAAE,GAAG,MAAM,IAAI,IAAI,IAAI,iDAAiD;QAEtH,IAAI,CAAC,MAAM;YACP,OAAO,mLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmB,GAAG;gBAAE,QAAQ;YAAI;QAC1E;QAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,kBAAkB;QAC7C,IAAI,CAAC,QAAQ;YACT,OAAO,mLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoC,GAAG;gBAAE,QAAQ;YAAI;QAC3F;QAEA,MAAM,WAAW,MAAM,MAAM,CAAC,4CAA4C,EAAE,SAAS,EAAE;YACnF,QAAQ;YACR,SAAS;gBACL,gBAAgB;gBAChB,cAAc;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACjB;gBACA,UAAU;gBACV,gBAAgB;oBACZ,WAAW;oBACX,kBAAkB;gBACtB;YACJ;QACJ;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,QAAQ,KAAK,CAAC,qBAAqB;YACnC,OAAO,mLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAA4B,GAAG;gBAAE,QAAQ,SAAS,MAAM;YAAC;QAC/F;QAEA,MAAM,cAAc,MAAM,SAAS,WAAW;QAE9C,OAAO,IAAI,mLAAY,CAAC,aAAa;YACjC,SAAS;gBACL,gBAAgB;YACpB;QACJ;IACJ,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}