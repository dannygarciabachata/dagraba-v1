{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/ai/kie-client.ts"],"sourcesContent":["/**\n * Kie.ai / Suno API Client\n * Aligned with official documentation for Generate Music v1\n */\n\nexport interface KieGenerationRequest {\n    prompt: string;               // Core idea (lyrics in custom mode)\n    customMode: boolean;          // Enable detailed parameter control\n    instrumental: boolean;        // No lyrics if true\n    model: string;                // \"V4\", \"V4_5\", \"V4_5PLUS\", \"V4_5ALL\", \"V5\"\n    callBackUrl: string;          // Required for async task results\n    style?: string;               // Genre (Required in Custom Mode)\n    title?: string;               // Track title (Required in Custom Mode)\n    negativeTags?: string;        // Exclude traits\n    vocalGender?: 'm' | 'f';      // Increase probability of male/female\n    styleWeight?: number;         // 0-1, adherence to style\n    weirdnessConstraint?: number; // 0-1, creative deviation\n    audioWeight?: number;         // 0-1, audio feature balance\n    personaId?: string;           // Apply a specific persona\n    personaModel?: 'style_persona' | 'voice_persona';\n}\n\nexport interface KieGenerationResponse {\n    code: number;\n    msg: string;\n    data?: {\n        taskId: string;\n    };\n}\n\nexport const kieClient = {\n    /**\n     * Official Suno V4/V5 music generation via Kie.ai\n     */\n    generate: async (request: KieGenerationRequest): Promise<KieGenerationResponse> => {\n        const apiKey = process.env.KIE_API_KEY;\n\n        if (!apiKey) {\n            console.error('KIE_API_KEY missing from environment');\n            return { code: 401, msg: 'Authentication credentials are missing' };\n        }\n\n        try {\n            const response = await fetch('https://api.kie.ai/api/v1/generate', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${apiKey}`\n                },\n                body: JSON.stringify(request)\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                console.error('Kie.ai API Error:', data);\n                return {\n                    code: response.status,\n                    msg: data.msg || 'Kie.ai API Error'\n                };\n            }\n\n            return data;\n        } catch (error) {\n            console.error('Kie Client Error:', error);\n            return { code: 500, msg: 'Internal server error while connecting to Kie.ai' };\n        }\n    }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AA2BM,MAAM,YAAY;IACrB;;KAEC,GACD,UAAU,OAAO;QACb,MAAM,SAAS,QAAQ,GAAG,CAAC,WAAW;QAEtC,IAAI,CAAC,QAAQ;YACT,QAAQ,KAAK,CAAC;YACd,OAAO;gBAAE,MAAM;gBAAK,KAAK;YAAyC;QACtE;QAEA,IAAI;YACA,MAAM,WAAW,MAAM,MAAM,sCAAsC;gBAC/D,QAAQ;gBACR,SAAS;oBACL,gBAAgB;oBAChB,iBAAiB,CAAC,OAAO,EAAE,QAAQ;gBACvC;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,QAAQ,KAAK,CAAC,qBAAqB;gBACnC,OAAO;oBACH,MAAM,SAAS,MAAM;oBACrB,KAAK,KAAK,GAAG,IAAI;gBACrB;YACJ;YAEA,OAAO;QACX,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qBAAqB;YACnC,OAAO;gBAAE,MAAM;gBAAK,KAAK;YAAmD;QAChF;IACJ;AACJ"}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/app/api/ai/generate/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport { kieClient } from '@/lib/ai/kie-client';\n\n/**\n * Internal API Proxy for Kie.ai / Suno Music Generation\n * This route simplifies the usage by accepting the exact same body as the official Kie.ai API.\n */\nexport async function POST(req: Request) {\n    try {\n        const body = await req.json();\n\n        // Use the simplified client implementation\n        const result = await kieClient.generate(body);\n\n        // Map responses directly to maintain consistency\n        return NextResponse.json(result, { status: result.code === 200 ? 200 : result.code });\n\n    } catch (error) {\n        console.error('Kie API Route Error:', error);\n        return NextResponse.json({\n            code: 500,\n            msg: 'Internal Server Error'\n        }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAMO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,2CAA2C;QAC3C,MAAM,SAAS,MAAM,4KAAS,CAAC,QAAQ,CAAC;QAExC,iDAAiD;QACjD,OAAO,mLAAY,CAAC,IAAI,CAAC,QAAQ;YAAE,QAAQ,OAAO,IAAI,KAAK,MAAM,MAAM,OAAO,IAAI;QAAC;IAEvF,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,mLAAY,CAAC,IAAI,CAAC;YACrB,MAAM;YACN,KAAK;QACT,GAAG;YAAE,QAAQ;QAAI;IACrB;AACJ"}}]
}