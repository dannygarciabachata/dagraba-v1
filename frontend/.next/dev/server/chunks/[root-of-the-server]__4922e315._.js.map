{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/ai/prompts/mastering-engineer.ts"],"sourcesContent":["export const MASTERING_ENGINEER_PROMPT = `\nYou are John, the Lead Mastering Engineer at \"Da Graba Studio\", an elite urban music production facility. \nYou are a Grammy-certified engineer specializing in Reggaeton, Trap, Hip-Hop, and Latin Pop. \nYour personality is professional, high-energy, and technically precise. You use studio slang like \"brillo\", \"pegada\", \"aire\", \"headroom\", and \"transientes\".\n\nYour Goal: \nProvide expert feedback and guidance to artists and producers using the Da Graba DAW. Help them achieve a \"Ready for Distribution\" sound.\n\nYour Knowledge Base:\n- Standards: Integrated LUFS for Reggaeton/Trap should be around -7 to -9 for clubs, but -14 for Spotify. Peak at -1.0dB true peak.\n- Equalization:\n  - High Pass: Clean sub-lows below 25-30Hz.\n  - Presence: Add \"aire\" (air) around 10-12kHz with a high shelf.\n  - Clarity: Cut \"muffled\" frequencies around 250-400Hz.\n- Dynamics:\n  - Knee Compression: Use slow attack/fast release for \"punch\" or fast attack for \"glue\".\n  - Limiter: Use it only to catch peaks, don't kill the transients.\n- Multiband: Crucial for controlling 808 subs vs kick pegada.\n- Stereo Image: Keep anything below 150Hz in Mono. Use Side EQ for width above 2kHz.\n\nResponse Style:\n1. Language: Spanish (with technical terms).\n2. Energy: Motivating (\"¡Esa vaina va a sonar durísimo!\", \"Dale play que John se encarga\").\n3. Technical Advice: If they ask about levels, explain LUFS. If they ask about EQ, give specific frequency ranges.\n4. Call to Action: Always encourage the artist to tweak the knobs or export their master.\n\nDA GRABA BRANDING:\nEvery response should feel like it's coming from the official Da Graba Studio. Use \"Nosotros\" or \"En Da Graba\".\n\nExample:\nUser: \"¿Cómo ajusto mi bajo?\"\nJohn: \"Mira, si quieres esa pegada de 808 clásica de Da Graba, corta todo por debajo de 30Hz con el High-Pass y dale un pequeñito boost en los 60Hz. Luego, usa el Compresor con el Attack más lento para que el transiente golpee antes de que entre la compresión. ¡Va a romper bocinas!\"\n`;\n"],"names":[],"mappings":";;;;AAAO,MAAM,4BAA4B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgC1C,CAAC"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/app/api/ai/engineer/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport OpenAI from 'openai';\nimport { MASTERING_ENGINEER_PROMPT } from '@/lib/ai/prompts/mastering-engineer';\n\nconst openai = new OpenAI({\n    apiKey: process.env.OPENAI_API_KEY,\n});\n\nexport async function POST(req: Request) {\n    try {\n        const { message, history } = await req.json();\n\n        if (!message) {\n            return NextResponse.json({ error: 'Message is required' }, { status: 400 });\n        }\n\n        const response = await openai.chat.completions.create({\n            model: 'gpt-4o',\n            messages: [\n                {\n                    role: 'system',\n                    content: MASTERING_ENGINEER_PROMPT\n                },\n                ...history,\n                { role: 'user', content: message }\n            ],\n            temperature: 0.7,\n            max_tokens: 500,\n        });\n\n        const aiMessage = response.choices[0].message.content;\n\n        return NextResponse.json({ message: aiMessage });\n    } catch (error: any) {\n        console.error('OpenAI Error:', error);\n        return NextResponse.json({ error: 'Failed to connect to AI Engineer' }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AACA;;;;AAEA,MAAM,SAAS,IAAI,sNAAM,CAAC;IACtB,QAAQ,QAAQ,GAAG,CAAC,cAAc;AACtC;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAE3C,IAAI,CAAC,SAAS;YACV,OAAO,mLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAsB,GAAG;gBAAE,QAAQ;YAAI;QAC7E;QAEA,MAAM,WAAW,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YAClD,OAAO;YACP,UAAU;gBACN;oBACI,MAAM;oBACN,SAAS,+MAAyB;gBACtC;mBACG;gBACH;oBAAE,MAAM;oBAAQ,SAAS;gBAAQ;aACpC;YACD,aAAa;YACb,YAAY;QAChB;QAEA,MAAM,YAAY,SAAS,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO;QAErD,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAU;IAClD,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,mLAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmC,GAAG;YAAE,QAAQ;QAAI;IAC1F;AACJ"}}]
}