{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useDAWStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\nexport type TrackType = 'mono' | 'stereo' | 'aux' | 'master' | 'midi' | 'virtual_instrument';\n\nexport interface DAWTrack {\n    id: string;\n    name: string;\n    color: string;\n    trackType: TrackType;\n    audioUrl?: string; // Optional audio source for the track (e.g. from stems or import)\n}\n\nexport interface FXInsert {\n    id: string;\n    pluginId: 'gate' | 'eq' | 'leveler' | 'compressor' | 'multiband' | 'limiter' | 'reverb' | 'delay' | 'chorus' | 'distortion' | 'saturator' | 'virtual_instrument';\n    bypass: boolean;\n    settings: any;\n}\n\nexport interface FaderState {\n    id: string; // 'vocal', 'beat', 'bass', 'fx', 'ch-...'\n    label: string;\n    value: number; // 0 a 100\n    isMuted: boolean;\n    pan: number;\n    isSoloed: boolean;\n    inserts: FXInsert[];\n}\n\nexport type BottomPanelState = 'mixer' | 'piano_roll' | 'drums' | 'keys' | 'closed';\nexport type CloudStatus = 'disconnected' | 'connecting' | 'connected';\n\ninterface DAWStore {\n    faders: FaderState[];\n    tracks: DAWTrack[];\n    isTraining: boolean;\n    activeArtistId: string | null;\n    activeBottomPanel: BottomPanelState;\n    mixerBank: 1 | 2; // 1 = Ch 1-16, 2 = Ch 17-32\n    cloudStatus: CloudStatus;\n    systemMessage: string;\n    isMetronomeOn: boolean;\n    isPlaying: boolean;\n    masterLevel: number;\n    currentPreviewTrack: any | null;\n    isFullMixer: boolean;\n\n    // Acciones para que la IA mueva los faders\n    setFaderValue: (id: string, value: number) => void;\n    setTrainingStatus: (status: boolean) => void;\n    resetConsole: () => void;\n    // Preserving DAW UI state\n    setPan: (id: string, pan: number) => void;\n    toggleSolo: (id: string) => void;\n    toggleMute: (id: string) => void;\n    setActiveBottomPanel: (panel: BottomPanelState) => void;\n    setMixerBank: (bank: 1 | 2) => void;\n    setCloudStatus: (status: CloudStatus, message?: string) => void;\n    setFullMixer: (status: boolean) => void;\n\n    // Track Management\n    addTrack: (name?: string, color?: string, trackType?: TrackType, audioUrl?: string) => void;\n    setTracks: (tracks: DAWTrack[]) => void;\n    clearTracks: () => void;\n    removeTrack: (id: string) => void;\n    toggleMetronome: () => void;\n    setIsPlaying: (playing: boolean) => void;\n    setMasterLevel: (level: number) => void;\n    setPreviewTrack: (track: any | null) => void;\n\n    // FX Insert Management\n    addInsert: (trackId: string, pluginId: FXInsert['pluginId']) => void;\n    removeInsert: (trackId: string, insertId: string) => void;\n    updateInsertSettings: (trackId: string, insertId: string, settings: any) => void;\n    toggleInsertBypass: (trackId: string, insertId: string) => void;\n\n    // Plugin Window Management\n    openPluginIds: string[]; // List of insert IDs currently open\n    openPlugin: (insertId: string) => void;\n    closePlugin: (insertId: string) => void;\n}\n\nexport const useDAWStore = create<DAWStore>()(\n    persist(\n        (set) => ({\n            faders: [], // Faders are created dynamically per track\n            tracks: [],\n            isTraining: false,\n            activeArtistId: null,\n            activeBottomPanel: 'mixer', // Mixer opens by default\n            mixerBank: 1,\n            cloudStatus: 'disconnected',\n            systemMessage: '',\n            isMetronomeOn: false,\n            isPlaying: false,\n            masterLevel: 0,\n            currentPreviewTrack: null,\n            isFullMixer: false,\n\n            setTracks: (tracks: DAWTrack[]) => set((state) => {\n                const newFaders: FaderState[] = tracks.map((track) => ({\n                    id: track.id,\n                    label: track.name.toUpperCase(),\n                    value: 75,\n                    isMuted: false,\n                    pan: 0,\n                    isSoloed: false,\n                    inserts: []\n                }));\n                return { tracks, faders: newFaders };\n            }),\n\n            addTrack: (name, color, trackType = 'mono', audioUrl) => set((state) => {\n                const newId = `t${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n                const trackColor = color || ['#00F0FF', '#FF6B00', '#A4ECA1', '#E2A04A', '#D94AE2', '#FF0055', '#55FF00'][Math.floor(Math.random() * 7)];\n                const trackName = name || `Audio Track ${state.tracks.length + 1}`;\n\n                const newTrack: DAWTrack = { id: newId, name: trackName, color: trackColor, trackType, audioUrl };\n                const newFader: FaderState = {\n                    id: newId,\n                    label: trackName.toUpperCase(),\n                    value: 75,\n                    isMuted: false,\n                    pan: 0,\n                    isSoloed: false,\n                    inserts: []\n                };\n\n                return {\n                    tracks: [...state.tracks, newTrack],\n                    faders: [...state.faders, newFader]\n                };\n            }),\n\n            clearTracks: () => set({ tracks: [], faders: [] }),\n\n            removeTrack: (id) => set((state) => ({\n                tracks: state.tracks.filter(t => t.id !== id),\n                faders: state.faders.filter(f => f.id !== id)\n            })),\n\n            toggleMetronome: () => set((state) => ({\n                isMetronomeOn: !state.isMetronomeOn\n            })),\n\n            setActiveBottomPanel: (panel) => set({ activeBottomPanel: panel }),\n            setMixerBank: (bank) => set({ mixerBank: bank }),\n\n            setFaderValue: (id, value) => set((state) => ({\n                faders: state.faders.map((f) => f.id === id ? { ...f, value } : f)\n            })),\n\n            setTrainingStatus: (status) => set({ isTraining: status }),\n\n            resetConsole: () => set((state) => ({\n                faders: state.faders.map((f) => ({ ...f, value: 0 }))\n            })),\n\n            setPan: (id, pan) => set((state) => ({\n                faders: state.faders.map((f) => f.id === id ? { ...f, pan } : f)\n            })),\n\n            toggleSolo: (id) => set((state) => ({\n                faders: state.faders.map((f) => f.id === id ? { ...f, isSoloed: !f.isSoloed } : f)\n            })),\n\n            toggleMute: (id) => set((state) => ({\n                faders: state.faders.map((f) => f.id === id ? { ...f, isMuted: !f.isMuted } : f)\n            })),\n\n            setCloudStatus: (status, message = '') => set({ cloudStatus: status, systemMessage: message }),\n            setIsPlaying: (playing) => set({ isPlaying: playing }),\n            setMasterLevel: (level) => set({ masterLevel: level }),\n            setPreviewTrack: (track) => set({ currentPreviewTrack: track }),\n            setFullMixer: (status) => set({ isFullMixer: status }),\n\n            // FX Insert Management\n            addInsert: (trackId, pluginId) => set((state) => {\n                const defaultSettings: any = {\n                    gate: { gateThreshold: 10, gateAttack: 5, gateRelease: 100 },\n                    eq: { eqHighpass: 30, eqTilt: 0, eqSideGain: 20, eqSideFreq: 4000 },\n                    leveler: { levelerTarget: -14, levelerBrake: -60, levelerMaxPlus: 6, levelerMaxMinus: 12 },\n                    compressor: { compStrength: 30, compAttack: 20, compRelease: 200, compMakeup: 0 },\n                    multiband: { mbStrengthLow: 20, mbStrengthHigh: 40, mbCrossoverLow: 200, mbCrossoverHigh: 5000 },\n                    limiter: { limStrength: 50, limAttack: 2, limRelease: 100, limCeiling: -0.1 }\n                };\n\n                const newInsert: FXInsert = {\n                    id: `fx-${pluginId}-${Date.now()}`,\n                    pluginId,\n                    bypass: false,\n                    settings: defaultSettings[pluginId] || {}\n                };\n\n                return {\n                    faders: state.faders.map(f => f.id === trackId\n                        ? { ...f, inserts: [...f.inserts, newInsert].slice(0, 4) } // Limit to 4 slots\n                        : f)\n                };\n            }),\n\n            removeInsert: (trackId, insertId) => set((state) => ({\n                faders: state.faders.map(f => f.id === trackId\n                    ? { ...f, inserts: f.inserts.filter(i => i.id !== insertId) }\n                    : f)\n            })),\n\n            updateInsertSettings: (trackId, insertId, newSettings) => set((state) => ({\n                faders: state.faders.map(f => f.id === trackId\n                    ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, settings: { ...i.settings, ...newSettings } } : i) }\n                    : f)\n            })),\n\n            toggleInsertBypass: (trackId, insertId) => set((state) => ({\n                faders: state.faders.map(f => f.id === trackId\n                    ? { ...f, inserts: f.inserts.map(i => i.id === insertId ? { ...i, bypass: !i.bypass } : i) }\n                    : f)\n            })),\n\n            // Plugin Window Management\n            openPluginIds: [],\n            openPlugin: (insertId) => set((state) => ({\n                openPluginIds: state.openPluginIds.includes(insertId) ? state.openPluginIds : [...state.openPluginIds, insertId]\n            })),\n            closePlugin: (insertId) => set((state) => ({\n                openPluginIds: state.openPluginIds.filter(id => id !== insertId)\n            })),\n        }),\n        {\n            name: 'daw-session-storage',\n            // Only persist tracks, faders, and basic state. Avoid persisting playback state.\n            partialize: (state) => ({\n                tracks: state.tracks,\n                faders: state.faders,\n                activeBottomPanel: state.activeBottomPanel,\n                mixerBank: state.mixerBank,\n                isFullMixer: state.isFullMixer,\n                masterLevel: state.masterLevel,\n            }),\n        }\n    )\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/CloudStatusPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { CheckCircle2, RefreshCw, Power } from 'lucide-react';\nimport { useDAWStore } from '@/store/useDAWStore';\n\nexport function CloudStatusPanel() {\n    const cloudStatus = useDAWStore((state) => state.cloudStatus);\n    const systemMessage = useDAWStore((state) => state.systemMessage);\n    const setCloudStatus = useDAWStore((state) => state.setCloudStatus);\n\n    const [showNotification, setShowNotification] = useState(false);\n\n    const handleDeploy = async () => {\n        if (cloudStatus === 'connecting' || cloudStatus === 'connected') return;\n\n        setCloudStatus('connecting', 'Conectando con el cerebro en la nube...');\n\n        try {\n            const formData = new FormData();\n            formData.append('type', 'audio');\n\n            const res = await fetch('/api/train', {\n                method: 'POST',\n                body: formData\n            });\n\n            if (res.ok) {\n                setCloudStatus('connected', 'Motor V1 Activo.');\n                setShowNotification(true);\n                setTimeout(() => setShowNotification(false), 5000);\n            } else {\n                setCloudStatus('disconnected', 'Fallo en la conexión.');\n            }\n        } catch (error) {\n            console.error(error);\n            setCloudStatus('disconnected', 'Error de red.');\n        }\n    };\n\n    return (\n        <div className=\"w-full px-2 lg:px-4 mb-4\">\n            <div className=\"bg-black/30 backdrop-blur-md border border-white/5 lg:rounded-xl p-2 flex flex-col gap-2 shadow-inner ring-1 ring-white/5 hover:border-white/10 transition-colors\">\n                <div className=\"flex items-center justify-between px-1\">\n                    <div className=\"flex items-center gap-2\">\n                        {/* LED Indicator */}\n                        <div className={`w-1.5 h-1.5 rounded-full shadow-[0_0_5px_currentColor] transition-colors duration-300 ${cloudStatus === 'connected' ? 'bg-[#00F0FF] text-[#00F0FF]' :\n                            cloudStatus === 'connecting' ? 'bg-[#FF6B00] text-[#FF6B00] animate-pulse' :\n                                'bg-[#333] text-transparent'\n                            }`} />\n                        <span className=\"text-[8px] font-black tracking-[0.2em] text-white/30 uppercase hidden lg:block whitespace-nowrap\">\n                            Modal Engine\n                        </span>\n                    </div>\n                </div>\n\n                <div className=\"flex flex-col gap-1.5\">\n                    <button\n                        onClick={handleDeploy}\n                        disabled={cloudStatus === 'connecting' || cloudStatus === 'connected'}\n                        className={`flex items-center justify-center gap-2 w-full py-1.5 rounded-lg transition-all duration-300 text-[9px] font-black tracking-widest border ${cloudStatus === 'connecting'\n                            ? 'bg-[#FF6B00]/20 border-[#FF6B00]/30 text-[#FF6B00]'\n                            : cloudStatus === 'connected'\n                                ? 'bg-[#00F0FF]/10 border-[#00F0FF]/30 text-[#00F0FF] shadow-[0_0_10px_rgba(0,240,255,0.1)]'\n                                : 'bg-white/5 hover:bg-white/10 border-white/5 text-white/60 hover:text-white'\n                            }`}\n                    >\n                        {cloudStatus === 'connecting' ? (\n                            <RefreshCw size={10} className=\"animate-spin\" />\n                        ) : (\n                            <Power size={10} className={cloudStatus === 'connected' ? 'animate-pulse' : ''} />\n                        )}\n                        <span className=\"hidden lg:block truncate\">\n                            {cloudStatus === 'connecting' ? 'WAITING' : cloudStatus === 'connected' ? 'MOTOR ON' : 'DEPLOY AI'}\n                        </span>\n                    </button>\n\n                    {/* Compact status text */}\n                    <div className=\"hidden lg:block px-1\">\n                        <p className={`text-[7px] font-medium leading-tight truncate ${cloudStatus === 'connected' ? 'text-cyan-400/60' : cloudStatus === 'connecting' ? 'text-orange-400/60' : 'text-neutral-600'}`}>\n                            {cloudStatus === 'connected' ? 'CONEXIÓN ACTIVA' : cloudStatus === 'connecting' ? 'DESPLEGANDO...' : 'MOTOR EN REPOSO'}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n            {/* Global notification - preserved but subtle */}\n            <AnimatePresence>\n                {showNotification && (\n                    <motion.div\n                        initial={{ opacity: 0, x: 20, y: 0 }}\n                        animate={{ opacity: 1, x: 0, y: 0 }}\n                        exit={{ opacity: 0, x: 20 }}\n                        className=\"fixed top-6 right-6 z-[100] bg-[#0A0A0C] border border-[#00F0FF]/50 shadow-2xl rounded-lg p-3 flex items-center gap-3 ring-1 ring-[#00F0FF]/20\"\n                    >\n                        <div className=\"w-6 h-6 rounded-full bg-gradient-to-br from-[#00F0FF] to-[#00A3FF] flex items-center justify-center shadow-[0_0_15px_rgba(0,240,255,0.4)]\">\n                            <CheckCircle2 size={12} className=\"text-black\" />\n                        </div>\n                        <div>\n                            <p className=\"text-[10px] font-black tracking-widest text-white uppercase\">Engine Connected</p>\n                            <p className=\"text-[9px] text-[#A0A0A0] mt-0.5\">Motor V1 Activo.</p>\n                        </div>\n                    </motion.div>\n                )}\n            </AnimatePresence>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AALA;;;;;;AAOO,SAAS;IACZ,MAAM,cAAc,IAAA,sKAAW,EAAC,CAAC,QAAU,MAAM,WAAW;IAC5D,MAAM,gBAAgB,IAAA,sKAAW,EAAC,CAAC,QAAU,MAAM,aAAa;IAChE,MAAM,iBAAiB,IAAA,sKAAW,EAAC,CAAC,QAAU,MAAM,cAAc;IAElE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,oPAAQ,EAAC;IAEzD,MAAM,eAAe;QACjB,IAAI,gBAAgB,gBAAgB,gBAAgB,aAAa;QAEjE,eAAe,cAAc;QAE7B,IAAI;YACA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,QAAQ;YAExB,MAAM,MAAM,MAAM,MAAM,cAAc;gBAClC,QAAQ;gBACR,MAAM;YACV;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,eAAe,aAAa;gBAC5B,oBAAoB;gBACpB,WAAW,IAAM,oBAAoB,QAAQ;YACjD,OAAO;gBACH,eAAe,gBAAgB;YACnC;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,eAAe,gBAAgB;QACnC;IACJ;IAEA,qBACI,iRAAC;QAAI,WAAU;;0BACX,iRAAC;gBAAI,WAAU;;kCACX,iRAAC;wBAAI,WAAU;kCACX,cAAA,iRAAC;4BAAI,WAAU;;8CAEX,iRAAC;oCAAI,WAAW,CAAC,sFAAsF,EAAE,gBAAgB,cAAc,gCACnI,gBAAgB,eAAe,8CAC3B,8BACF;;;;;;8CACN,iRAAC;oCAAK,WAAU;8CAAmG;;;;;;;;;;;;;;;;;kCAM3H,iRAAC;wBAAI,WAAU;;0CACX,iRAAC;gCACG,SAAS;gCACT,UAAU,gBAAgB,gBAAgB,gBAAgB;gCAC1D,WAAW,CAAC,yIAAyI,EAAE,gBAAgB,eACjK,uDACA,gBAAgB,cACZ,6FACA,8EACJ;;oCAEL,gBAAgB,6BACb,iRAAC,gQAAS;wCAAC,MAAM;wCAAI,WAAU;;;;;6DAE/B,iRAAC,gPAAK;wCAAC,MAAM;wCAAI,WAAW,gBAAgB,cAAc,kBAAkB;;;;;;kDAEhF,iRAAC;wCAAK,WAAU;kDACX,gBAAgB,eAAe,YAAY,gBAAgB,cAAc,aAAa;;;;;;;;;;;;0CAK/F,iRAAC;gCAAI,WAAU;0CACX,cAAA,iRAAC;oCAAE,WAAW,CAAC,8CAA8C,EAAE,gBAAgB,cAAc,qBAAqB,gBAAgB,eAAe,uBAAuB,oBAAoB;8CACvL,gBAAgB,cAAc,oBAAoB,gBAAgB,eAAe,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;0BAOrH,iRAAC,+OAAe;0BACX,kCACG,iRAAC,uOAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAI,GAAG;oBAAE;oBACnC,SAAS;wBAAE,SAAS;wBAAG,GAAG;wBAAG,GAAG;oBAAE;oBAClC,MAAM;wBAAE,SAAS;wBAAG,GAAG;oBAAG;oBAC1B,WAAU;;sCAEV,iRAAC;4BAAI,WAAU;sCACX,cAAA,iRAAC,wQAAY;gCAAC,MAAM;gCAAI,WAAU;;;;;;;;;;;sCAEtC,iRAAC;;8CACG,iRAAC;oCAAE,WAAU;8CAA8D;;;;;;8CAC3E,iRAAC;oCAAE,WAAU;8CAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO5E"}},
    {"offset": {"line": 505, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/store/useThemeStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ntype Theme = 'dark' | 'light';\n\ninterface ThemeStore {\n    theme: Theme;\n    setTheme: (t: Theme) => void;\n    toggleTheme: () => void;\n}\n\nexport const useThemeStore = create<ThemeStore>()(\n    persist(\n        (set, get) => ({\n            theme: 'dark',\n            setTheme: (t) => set({ theme: t }),\n            toggleTheme: () => set({ theme: get().theme === 'dark' ? 'light' : 'dark' }),\n        }),\n        { name: 'dagraba-theme' }\n    )\n);\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAUO,MAAM,gBAAgB,IAAA,qLAAM,IAC/B,IAAA,2LAAO,EACH,CAAC,KAAK,MAAQ,CAAC;QACX,OAAO;QACP,UAAU,CAAC,IAAM,IAAI;gBAAE,OAAO;YAAE;QAChC,aAAa,IAAM,IAAI;gBAAE,OAAO,MAAM,KAAK,KAAK,SAAS,UAAU;YAAO;IAC9E,CAAC,GACD;IAAE,MAAM;AAAgB"}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/ThemeToggle.tsx"],"sourcesContent":["'use client';\n\nimport { Moon, Sun } from 'lucide-react';\nimport { useThemeStore } from '@/store/useThemeStore';\n\nexport function ThemeToggle() {\n    const { theme, toggleTheme } = useThemeStore();\n    const isDark = theme === 'dark';\n\n    return (\n        <button\n            onClick={toggleTheme}\n            title={isDark ? 'Cambiar a modo claro' : 'Cambiar a modo oscuro'}\n            className={`relative flex items-center justify-between w-14 h-7 rounded-full border px-1 transition-all duration-300 ${isDark\n                    ? 'bg-[#1A1A2A] border-[#333] hover:border-[#555]'\n                    : 'bg-amber-100 border-amber-300 hover:border-amber-400'\n                }`}\n        >\n            {/* Track icons */}\n            <Moon\n                size={11}\n                className={`shrink-0 transition-all duration-200 ${isDark ? 'text-cyan-400' : 'text-gray-300'}`}\n            />\n            <Sun\n                size={11}\n                className={`shrink-0 transition-all duration-200 ${isDark ? 'text-gray-600' : 'text-amber-500'}`}\n            />\n\n            {/* Sliding pill */}\n            <span\n                className={`absolute top-1 w-5 h-5 rounded-full shadow-md transition-all duration-300 ${isDark\n                        ? 'left-1 bg-gradient-to-br from-[#4040AA] to-[#222244] shadow-[0_0_8px_rgba(0,240,255,0.4)]'\n                        : 'left-7 bg-gradient-to-br from-amber-400 to-orange-400 shadow-[0_0_8px_rgba(251,191,36,0.5)]'\n                    }`}\n            />\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAKO,SAAS;IACZ,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,0KAAa;IAC5C,MAAM,SAAS,UAAU;IAEzB,qBACI,iRAAC;QACG,SAAS;QACT,OAAO,SAAS,yBAAyB;QACzC,WAAW,CAAC,yGAAyG,EAAE,SAC7G,mDACA,wDACJ;;0BAGN,iRAAC,6OAAI;gBACD,MAAM;gBACN,WAAW,CAAC,qCAAqC,EAAE,SAAS,kBAAkB,iBAAiB;;;;;;0BAEnG,iRAAC,0OAAG;gBACA,MAAM;gBACN,WAAW,CAAC,qCAAqC,EAAE,SAAS,kBAAkB,kBAAkB;;;;;;0BAIpG,iRAAC;gBACG,WAAW,CAAC,0EAA0E,EAAE,SAC9E,8FACA,+FACJ;;;;;;;;;;;;AAItB"}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/lib/firebase/config.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport { getFirestore } from \"firebase/firestore\";\n\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"AIzaSyAX3zd9VbOFTCqWUH9RbHJB6P8s7tnAia0\",\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN || \"dagraba-studio-official-23866.firebaseapp.com\",\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"dagraba-studio-official-23866\",\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || \"dagraba-studio-official-23866.firebasestorage.app\",\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"907429313502\",\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"1:907429313502:web:17d56e63daa0d577463b4f\"\n};\n\n// Initialize Firebase safely for Next.js SSR\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,QAAQ,QAAQ,GAAG,CAAC,4BAA4B,IAAI;IACpD,YAAY,QAAQ,GAAG,CAAC,gCAAgC,IAAI;IAC5D,WAAW,QAAQ,GAAG,CAAC,+BAA+B,IAAI;IAC1D,eAAe,QAAQ,GAAG,CAAC,mCAAmC,IAAI;IAClE,mBAAmB,QAAQ,GAAG,CAAC,wCAAwC,IAAI;IAC3E,OAAO,QAAQ,GAAG,CAAC,2BAA2B,IAAI;AACtD;AAEA,6CAA6C;AAC7C,MAAM,MAAM,CAAC,IAAA,8MAAO,IAAG,MAAM,GAAG,IAAA,oNAAa,EAAC,kBAAkB,IAAA,6MAAM;AAC/D,MAAM,OAAO,IAAA,gNAAO,EAAC;AACrB,MAAM,KAAK,IAAA,oNAAY,EAAC"}},
    {"offset": {"line": 703, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/context/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\nimport { User, onAuthStateChanged, signOut, GoogleAuthProvider, signInWithPopup, signInWithRedirect } from 'firebase/auth';\nimport { auth } from '@/lib/firebase/config';\n\ninterface AuthContextType {\n    user: User | null;\n    loading: boolean;\n    logout: () => Promise<void>;\n    signInWithGoogle: () => Promise<void>;\n    loginModalOpen: boolean;\n    setLoginModalOpen: (open: boolean) => void;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n    user: null,\n    loading: true,\n    logout: async () => { },\n    signInWithGoogle: async () => { },\n    loginModalOpen: false,\n    setLoginModalOpen: () => { },\n});\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\n    const [user, setUser] = useState<User | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [loginModalOpen, setLoginModalOpen] = useState(false);\n\n    useEffect(() => {\n        const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n            setUser(currentUser);\n            setLoading(false);\n        });\n        return () => unsubscribe();\n    }, []);\n\n    const logout = async () => {\n        await signOut(auth);\n    };\n\n    const signInWithGoogle = async () => {\n        const provider = new GoogleAuthProvider();\n        try {\n            await signInWithPopup(auth, provider);\n            setLoginModalOpen(false); // Close modal on success\n        } catch (error: any) {\n            if (error.code === 'auth/popup-blocked') {\n                console.warn(\"Popup blocked by browser. Falling back to redirect...\");\n                await signInWithRedirect(auth, provider);\n            } else {\n                console.error(\"Google sync failed\", error);\n            }\n        }\n    };\n\n    return (\n        <AuthContext.Provider value={{ user, loading, logout, signInWithGoogle, loginModalOpen, setLoginModalOpen }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAeA,MAAM,4BAAc,IAAA,yPAAa,EAAkB;IAC/C,MAAM;IACN,SAAS;IACT,QAAQ,WAAc;IACtB,kBAAkB,WAAc;IAChC,gBAAgB;IAChB,mBAAmB,KAAQ;AAC/B;AAEO,MAAM,UAAU,IAAM,IAAA,sPAAU,EAAC;AAEjC,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,oPAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,oPAAQ,EAAC;IACvC,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,oPAAQ,EAAC;IAErD,IAAA,qPAAS,EAAC;QACN,MAAM,cAAc,IAAA,2NAAkB,EAAC,oKAAI,EAAE,CAAC;YAC1C,QAAQ;YACR,WAAW;QACf;QACA,OAAO,IAAM;IACjB,GAAG,EAAE;IAEL,MAAM,SAAS;QACX,MAAM,IAAA,gNAAO,EAAC,oKAAI;IACtB;IAEA,MAAM,mBAAmB;QACrB,MAAM,WAAW,IAAI,2NAAkB;QACvC,IAAI;YACA,MAAM,IAAA,wNAAe,EAAC,oKAAI,EAAE;YAC5B,kBAAkB,QAAQ,yBAAyB;QACvD,EAAE,OAAO,OAAY;YACjB,IAAI,MAAM,IAAI,KAAK,sBAAsB;gBACrC,QAAQ,IAAI,CAAC;gBACb,MAAM,IAAA,2NAAkB,EAAC,oKAAI,EAAE;YACnC,OAAO;gBACH,QAAQ,KAAK,CAAC,sBAAsB;YACxC;QACJ;IACJ;IAEA,qBACI,iRAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;YAAkB;YAAgB;QAAkB;kBACrG;;;;;;AAGb"}},
    {"offset": {"line": 776, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/Sidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Mic2, LayoutDashboard, SlidersHorizontal, User, Settings, Wand2, Compass, Languages, LogIn, LogOut } from 'lucide-react';\nimport { CloudStatusPanel } from './CloudStatusPanel';\nimport { ThemeToggle } from './ThemeToggle';\nimport { useTranslations, useLocale } from 'next-intl';\nimport { useAuth } from '@/context/AuthContext';\n\nconst navItems = [\n    { id: 'dashboard', href: '/dashboard', icon: LayoutDashboard },\n    { id: 'explorer', href: '/explorer', icon: Compass },\n    { id: 'planer', href: '/planer', icon: Mic2 },\n    { id: 'crear', href: '/crear', icon: Wand2 },\n    { id: 'studio', href: '/studio', icon: SlidersHorizontal },\n    { id: 'mastering', href: '/mastering', icon: SlidersHorizontal },\n    { id: 'profile', href: '/profile', icon: User },\n];\n\nconst locales = ['en', 'es', 'pt', 'fr', 'de', 'it', 'ja'];\n\nexport function Sidebar() {\n    const t = useTranslations('Navigation');\n    const tl = useTranslations('Languages');\n    const pathname = usePathname();\n    const currentLocale = useLocale();\n\n    const { user, logout, setLoginModalOpen } = useAuth();\n\n    // Helper to get localized href\n    const getLocalizedHref = (href: string) => `/${currentLocale}${href}`;\n\n    // Helper to switch locale while keeping the path\n    const getSwitchLocaleHref = (newLocale: string) => {\n        if (!pathname) return `/${newLocale}`;\n        const segments = pathname.split('/');\n        segments[1] = newLocale;\n        return segments.join('/');\n    };\n\n    return (\n        <aside className=\"w-16 lg:w-48 h-full flex flex-col justify-between py-6 z-50 relative\"\n            style={{ background: 'var(--sidebar-bg)', borderRight: '1px solid var(--sidebar-border)', boxShadow: '10px 0 30px rgba(0,0,0,0.6)' }}\n        >\n            <div className=\"flex flex-col items-center lg:items-start w-full\">\n                {/* Logo Text/Icon */}\n                <div className=\"w-full px-0 lg:px-6 mb-12 flex justify-center lg:justify-start\">\n                    <div className=\"w-14 h-14 lg:w-32 lg:h-32 rounded-2xl flex items-center justify-center overflow-hidden shadow-[0_0_30px_rgba(255,107,0,0.6)] border border-orange-500/20 transform hover:scale-105 transition-transform duration-500\">\n                        <img src=\"/logo.jpg\" alt=\"DA GRABA Logo\" className=\"w-full h-full object-cover\" />\n                    </div>\n                </div>\n                {/* Navigation Links */}\n                <nav className=\"flex flex-col gap-4 w-full px-2 lg:px-4\">\n                    {navItems.map((item) => {\n                        const hrefWithLocale = getLocalizedHref(item.href);\n                        const isActive = pathname.startsWith(hrefWithLocale);\n                        const Icon = item.icon;\n                        return (\n                            <Link\n                                key={item.id}\n                                href={hrefWithLocale}\n                                className={`flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg transition-all duration-300 w-full group ${isActive\n                                    ? 'bg-cyan-glow/10 border border-cyan-glow/30 text-cyan-glow shadow-[0_0_15px_rgba(0,240,255,0.15)] glow-cyan'\n                                    : 'text-silver-dark hover:text-white hover:bg-white/5 border border-transparent'\n                                    }`}\n                            >\n                                <Icon size={20} className={isActive ? 'text-cyan-glow' : 'text-silver-dark group-hover:text-white transition-colors'} />\n                                <span className={`hidden lg:block text-sm font-medium tracking-wide ${isActive ? 'text-cyan-glow' : ''}`}>\n                                    {t(item.id)}\n                                </span>\n                                {isActive && (\n                                    <span className=\"absolute left-0 w-1 h-8 bg-cyan-glow rounded-r-md shadow-[0_0_10px_rgba(0,240,255,1)]\" />\n                                )}\n                            </Link>\n                        );\n                    })}\n                </nav>\n            </div>\n\n            {/* Bottom Section: AI Status & Settings & Language */}\n            <div className=\"w-full flex flex-col gap-2\">\n                <CloudStatusPanel />\n\n                {/* Language Switcher */}\n                <div className=\"w-full px-2 lg:px-4 mb-2\">\n                    <div className=\"relative group/lang\">\n                        <button className=\"flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg w-full text-silver-dark hover:text-white hover:bg-white/5 transition-all group\">\n                            <Languages size={20} className=\"group-hover:scale-110 transition-transform\" />\n                            <span className=\"hidden lg:block text-sm font-medium tracking-wide\">{tl(currentLocale)}</span>\n                        </button>\n\n                        {/* Dropdown content */}\n                        <div className=\"absolute bottom-full left-0 mb-2 w-48 bg-[#111] border border-white/10 rounded-xl shadow-2xl opacity-0 invisible group-hover/lang:opacity-100 group-hover/lang:visible transition-all duration-200 z-[110] p-1 overflow-hidden\">\n                            <div className=\"max-h-60 overflow-y-auto custom-scrollbar\">\n                                {locales.map((loc) => (\n                                    <Link\n                                        key={loc}\n                                        href={getSwitchLocaleHref(loc)}\n                                        className={`flex items-center gap-2 px-4 py-2.5 text-sm rounded-lg transition-colors ${currentLocale === loc ? 'bg-indigo-600 text-white' : 'text-white/60 hover:bg-white/5 hover:text-white'}`}\n                                    >\n                                        <span className=\"uppercase text-[10px] w-6 opacity-50\">{loc}</span>\n                                        {tl(loc)}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"w-full px-2 lg:px-4 flex flex-col gap-2\">\n                    <Link\n                        href={getLocalizedHref('/settings')}\n                        className={`flex items-center gap-3 px-3 lg:px-4 py-3 rounded-lg w-full transition-all duration-300 group border ${pathname.startsWith(getLocalizedHref('/settings'))\n                            ? 'bg-cyan-glow/10 border-cyan-glow/30 text-cyan-glow'\n                            : 'text-silver-dark hover:text-white hover:bg-white/5 border-transparent'\n                            }`}\n                    >\n                        <Settings size={20} className=\"group-hover:rotate-90 transition-transform duration-500\" />\n                        <span className=\"hidden lg:block text-sm font-medium tracking-wide\">{t('settings')}</span>\n                    </Link>\n\n                    {user ? (\n                        <button\n                            onClick={() => logout()}\n                            className=\"flex items-center justify-start gap-3 px-3 lg:px-4 py-3 mb-2 rounded-lg w-full transition-all duration-300 group border text-red-500/80 hover:text-red-400 hover:bg-red-500/10 border-transparent cursor-pointer\"\n                        >\n                            <LogOut size={20} className=\"group-hover:-translate-x-1 transition-transform duration-300\" />\n                            <span className=\"hidden lg:block text-sm font-medium tracking-wide uppercase text-[10px]\">Log Out</span>\n                        </button>\n                    ) : (\n                        <button\n                            onClick={() => setLoginModalOpen(true)}\n                            className=\"flex items-center justify-start gap-3 px-3 lg:px-4 py-3 mb-2 rounded-lg w-full transition-all duration-300 group border text-orange-500 hover:text-orange-400 hover:bg-orange-500/10 border-transparent cursor-pointer\"\n                        >\n                            <LogIn size={20} className=\"group-hover:translate-x-1 transition-transform duration-300\" />\n                            <span className=\"hidden lg:block text-sm font-medium tracking-wide uppercase text-[10px]\">Sign In</span>\n                        </button>\n                    )}\n                </div>\n\n                {/* Theme Toggle */}\n                <div className=\"w-full px-2 lg:px-4 flex items-center gap-3 px-3 lg:px-5 py-2\">\n                    <span className=\"hidden lg:block text-[10px] font-bold uppercase tracking-widest\" style={{ color: 'var(--text-muted)' }}>Tema</span>\n                    <ThemeToggle />\n                </div>\n\n                {/* Legal Links Footer */}\n                <div className=\"hidden lg:flex flex-col items-center gap-2 mt-4 text-[9px] text-white/40 font-mono tracking-widest uppercase pb-2\">\n                    <div className=\"flex gap-3\">\n                        <Link href={getLocalizedHref('/terms')} className=\"hover:text-cyan-400 transition-colors\">Términos</Link>\n                        <Link href={getLocalizedHref('/privacy')} className=\"hover:text-cyan-400 transition-colors\">Privacidad</Link>\n                    </div>\n                    <Link href={getLocalizedHref('/cookies')} className=\"hover:text-cyan-400 transition-colors\">Cookies</Link>\n                </div>\n            </div>\n        </aside>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1208, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/GlobalFooterPlayer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { useDAWStore } from '@/store/useDAWStore';\nimport { Play, Pause, SkipBack, SkipForward, Volume2, Music, X, Maximize2 } from 'lucide-react';\nimport { useTranslations } from 'next-intl';\n\nexport function GlobalFooterPlayer() {\n    const t = useTranslations('Player');\n    const { currentPreviewTrack, setPreviewTrack } = useDAWStore();\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [duration, setDuration] = useState(0);\n    const [volume, setVolume] = useState(0.8);\n\n    useEffect(() => {\n        const audio = audioRef.current;\n        if (!audio) return;\n\n        if (currentPreviewTrack) {\n            const src = currentPreviewTrack.streamAudioUrl || currentPreviewTrack.url || '';\n            if (!src) {\n                // Track not ready yet (still processing)\n                audio.pause();\n                setIsPlaying(false);\n                return;\n            }\n            audio.src = src;\n            audio.load();\n            audio.volume = volume;\n            audio.play().catch(err => {\n                // Autoplay blocked or URL problem\n                console.warn('[GlobalPlayer] Playback failed:', err);\n                setIsPlaying(false);\n            });\n            setIsPlaying(true);\n        } else {\n            audio.pause();\n            audio.src = '';\n            setIsPlaying(false);\n            setProgress(0);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentPreviewTrack]);\n\n\n    const togglePlay = () => {\n        if (!audioRef.current) return;\n        if (isPlaying) {\n            audioRef.current.pause();\n        } else {\n            audioRef.current.play();\n        }\n        setIsPlaying(!isPlaying);\n    };\n\n    const handleTimeUpdate = () => {\n        if (audioRef.current) {\n            const current = audioRef.current.currentTime;\n            const dur = audioRef.current.duration;\n            if (isFinite(dur) && dur > 0) {\n                setProgress((current / dur) * 100);\n                setDuration(dur);\n            }\n        }\n    };\n\n    const handleSeek = (e: React.ChangeEvent<HTMLInputElement>) => {\n        if (audioRef.current) {\n            const seekTime = (parseFloat(e.target.value) / 100) * audioRef.current.duration;\n            audioRef.current.currentTime = seekTime;\n            setProgress(parseFloat(e.target.value));\n        }\n    };\n\n    if (!currentPreviewTrack) return null;\n\n    return (\n        <div className=\"fixed bottom-0 left-0 right-0 h-20 bg-black/90 backdrop-blur-xl border-t border-white/10 z-[100] flex items-center px-6 gap-8 animate-in slide-in-from-bottom duration-500\">\n            <audio\n                ref={audioRef}\n                onTimeUpdate={handleTimeUpdate}\n                onEnded={() => setIsPlaying(false)}\n            />\n\n            {/* Track Info */}\n            <div className=\"flex items-center gap-4 w-[300px] shrink-0\">\n                <div className=\"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-700 rounded-md flex items-center justify-center shadow-lg overflow-hidden border border-white/10\">\n                    {currentPreviewTrack.image ? (\n                        <img src={currentPreviewTrack.image} alt=\"\" className=\"w-full h-full object-cover\" />\n                    ) : (\n                        <Music className=\"text-white/50\" size={20} />\n                    )}\n                </div>\n                <div className=\"flex flex-col min-w-0\">\n                    <span className=\"text-white font-bold text-sm truncate\">{currentPreviewTrack.title || t('untitled')}</span>\n                    <span className=\"text-white/50 text-[10px] uppercase tracking-widest truncate\">{currentPreviewTrack.style || t('aiGenerated')}</span>\n                </div>\n            </div>\n\n            {/* Player Controls */}\n            <div className=\"flex-1 flex flex-col items-center gap-2 max-w-2xl\">\n                <div className=\"flex items-center gap-6\">\n                    <button className=\"text-white/40 hover:text-white transition-colors\">\n                        <SkipBack size={20} />\n                    </button>\n                    <button\n                        onClick={togglePlay}\n                        className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center hover:scale-105 transition-transform shadow-[0_0_15px_rgba(255,255,255,0.3)]\"\n                    >\n                        {isPlaying ? <Pause size={20} fill=\"black\" className=\"text-black\" /> : <Play size={20} fill=\"black\" className=\"text-black ml-1\" />}\n                    </button>\n                    <button className=\"text-white/40 hover:text-white transition-colors\">\n                        <SkipForward size={20} />\n                    </button>\n                </div>\n\n                <div className=\"w-full flex items-center gap-3\">\n                    <span className=\"text-[10px] font-mono text-white/40 w-10 text-right\">\n                        {Math.floor((audioRef.current?.currentTime || 0) / 60)}:\n                        {Math.floor((audioRef.current?.currentTime || 0) % 60).toString().padStart(2, '0')}\n                    </span>\n                    <input\n                        type=\"range\"\n                        value={isFinite(progress) ? progress : 0}\n                        onChange={handleSeek}\n                        min={0}\n                        max={100}\n                        className=\"flex-1 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white\"\n                        style={{ background: `linear-gradient(to right, white ${isFinite(progress) ? progress : 0}%, rgba(255,255,255,0.1) ${isFinite(progress) ? progress : 0}%)` }}\n                    />\n                    <span className=\"text-[10px] font-mono text-white/40 w-10\">\n                        {Math.floor(duration / 60)}:\n                        {Math.floor(duration % 60).toString().padStart(2, '0')}\n                    </span>\n                </div>\n            </div>\n\n            {/* Right Controls */}\n            <div className=\"flex items-center gap-6 w-[300px] justify-end\">\n                <div className=\"flex items-center gap-2 group\">\n                    <Volume2 size={18} className=\"text-white/40 group-hover:text-white transition-colors\" />\n                    <input\n                        type=\"range\"\n                        min=\"0\"\n                        max=\"1\"\n                        step=\"0.01\"\n                        value={volume}\n                        onChange={(e) => {\n                            const v = parseFloat(e.target.value);\n                            setVolume(v);\n                            if (audioRef.current) audioRef.current.volume = v;\n                        }}\n                        className=\"w-20 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white\"\n                    />\n                </div>\n                <button\n                    onClick={() => setPreviewTrack(null)}\n                    className=\"text-white/20 hover:text-red-500 transition-colors\"\n                >\n                    <X size={18} />\n                </button>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1551, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/ui/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from 'react';\nimport { useThemeStore } from '@/store/useThemeStore';\n\n/**\n * ThemeProvider — applies the correct class to <html> based on the theme store.\n * Renders no visible DOM — it's purely a side-effect component.\n */\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n    const theme = useThemeStore((s) => s.theme);\n\n    useEffect(() => {\n        const html = document.documentElement;\n        if (theme === 'light') {\n            html.classList.add('light');\n        } else {\n            html.classList.remove('light');\n        }\n    }, [theme]);\n\n    return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AASO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACrE,MAAM,QAAQ,IAAA,0KAAa,EAAC,CAAC,IAAM,EAAE,KAAK;IAE1C,IAAA,qPAAS,EAAC;QACN,MAAM,OAAO,SAAS,eAAe;QACrC,IAAI,UAAU,SAAS;YACnB,KAAK,SAAS,CAAC,GAAG,CAAC;QACvB,OAAO;YACH,KAAK,SAAS,CAAC,MAAM,CAAC;QAC1B;IACJ,GAAG;QAAC;KAAM;IAEV,qBAAO;kBAAG;;AACd"}},
    {"offset": {"line": 1582, "column": 0}, "map": {"version":3,"sources":["file:///Users/odgmusic/development/Da%20Graba_Studio/components/auth/LoginModal.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useAuth } from '@/context/AuthContext';\nimport { signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'firebase/auth';\nimport { auth } from '@/lib/firebase/config';\n\nexport function LoginModal() {\n    const { loginModalOpen, setLoginModalOpen, signInWithGoogle } = useAuth();\n    const [isRegistering, setIsRegistering] = useState(false);\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n\n    if (!loginModalOpen) return null;\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError('');\n        try {\n            if (isRegistering) {\n                await createUserWithEmailAndPassword(auth, email, password);\n            } else {\n                await signInWithEmailAndPassword(auth, email, password);\n            }\n            setLoginModalOpen(false);\n        } catch (err: any) {\n            setError(err.message || 'Authentication failed');\n        }\n    };\n\n    return (\n        <div className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm\">\n            <div className=\"bg-[#0B1015] border border-white/10 p-8 rounded-3xl shadow-2xl w-full max-w-md relative overflow-hidden\">\n                {/* Glow Effects */}\n                <div className=\"absolute -top-32 -left-32 w-64 h-64 bg-orange-500/20 rounded-full blur-[100px] pointer-events-none\" />\n                <div className=\"absolute -bottom-32 -right-32 w-64 h-64 bg-cyan-glow/20 rounded-full blur-[100px] pointer-events-none\" />\n\n                <button\n                    onClick={() => setLoginModalOpen(false)}\n                    className=\"absolute top-4 right-4 text-white/50 hover:text-white transition-colors\"\n                >\n                    <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                </button>\n\n                <h2 className=\"text-2xl font-black tracking-widest text-center text-white mb-2 uppercase\">\n                    {isRegistering ? 'Join Da Graba' : 'Welcome Back'}\n                </h2>\n                <p className=\"text-center text-white/50 text-sm mb-8\">\n                    {isRegistering ? 'Create your account to save projects' : 'Sign in to access your studio setup'}\n                </p>\n\n                <form onSubmit={handleSubmit} className=\"space-y-4 relative z-10\">\n                    <div>\n                        <input\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            placeholder=\"Email Address\"\n                            className=\"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-orange-500/50 transition-colors\"\n                            required\n                        />\n                    </div>\n                    <div>\n                        <input\n                            type=\"password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            placeholder=\"Password\"\n                            className=\"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-orange-500/50 transition-colors\"\n                            required\n                        />\n                    </div>\n\n                    {error && <div className=\"text-red-400 text-sm text-center bg-red-400/10 py-2 rounded-lg\">{error}</div>}\n\n                    <button\n                        type=\"submit\"\n                        className=\"w-full py-3 bg-gradient-to-r from-orange-600 to-yellow-500 rounded-xl text-white font-bold tracking-widest uppercase hover:scale-[1.02] transition-transform\"\n                    >\n                        {isRegistering ? 'Sign Up' : 'Sign In'}\n                    </button>\n                </form>\n\n                <div className=\"mt-6 flex items-center justify-center space-x-4 relative z-10\">\n                    <div className=\"h-px bg-white/10 flex-1\" />\n                    <span className=\"text-xs text-white/30 uppercase tracking-widest\">or continue with</span>\n                    <div className=\"h-px bg-white/10 flex-1\" />\n                </div>\n\n                <div className=\"mt-6 space-y-3 relative z-10\">\n                    <button\n                        onClick={signInWithGoogle}\n                        type=\"button\"\n                        className=\"w-full py-3 bg-white/5 border border-white/10 rounded-xl text-white font-semibold hover:bg-white/10 transition-colors flex items-center justify-center gap-3\"\n                    >\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                            <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" />\n                            <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" />\n                            <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" />\n                            <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" />\n                        </svg>\n                        Google\n                    </button>\n                </div>\n\n                <p className=\"mt-6 text-center text-sm text-white/50 relative z-10\">\n                    {isRegistering ? 'Already have an account?' : \"Don't have an account?\"}{' '}\n                    <button\n                        type=\"button\"\n                        onClick={() => setIsRegistering(!isRegistering)}\n                        className=\"text-orange-400 hover:text-orange-300 font-bold ml-1 transition-colors\"\n                    >\n                        {isRegistering ? 'Sign In' : 'Sign Up'}\n                    </button>\n                </p>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAOO,SAAS;IACZ,MAAM,EAAE,cAAc,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,GAAG,IAAA,qKAAO;IACvE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,oPAAQ,EAAC;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oPAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,oPAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,oPAAQ,EAAC;IAEnC,IAAI,CAAC,gBAAgB,OAAO;IAE5B,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,SAAS;QACT,IAAI;YACA,IAAI,eAAe;gBACf,MAAM,IAAA,uOAA8B,EAAC,oKAAI,EAAE,OAAO;YACtD,OAAO;gBACH,MAAM,IAAA,mOAA0B,EAAC,oKAAI,EAAE,OAAO;YAClD;YACA,kBAAkB;QACtB,EAAE,OAAO,KAAU;YACf,SAAS,IAAI,OAAO,IAAI;QAC5B;IACJ;IAEA,qBACI,iRAAC;QAAI,WAAU;kBACX,cAAA,iRAAC;YAAI,WAAU;;8BAEX,iRAAC;oBAAI,WAAU;;;;;;8BACf,iRAAC;oBAAI,WAAU;;;;;;8BAEf,iRAAC;oBACG,SAAS,IAAM,kBAAkB;oBACjC,WAAU;8BAEV,cAAA,iRAAC;wBAAI,WAAU;wBAAU,MAAK;wBAAO,SAAQ;wBAAY,QAAO;kCAC5D,cAAA,iRAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;;;;;;8BAI7E,iRAAC;oBAAG,WAAU;8BACT,gBAAgB,kBAAkB;;;;;;8BAEvC,iRAAC;oBAAE,WAAU;8BACR,gBAAgB,yCAAyC;;;;;;8BAG9D,iRAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACpC,iRAAC;sCACG,cAAA,iRAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;;;;;;sCAGhB,iRAAC;sCACG,cAAA,iRAAC;gCACG,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,aAAY;gCACZ,WAAU;gCACV,QAAQ;;;;;;;;;;;wBAIf,uBAAS,iRAAC;4BAAI,WAAU;sCAAkE;;;;;;sCAE3F,iRAAC;4BACG,MAAK;4BACL,WAAU;sCAET,gBAAgB,YAAY;;;;;;;;;;;;8BAIrC,iRAAC;oBAAI,WAAU;;sCACX,iRAAC;4BAAI,WAAU;;;;;;sCACf,iRAAC;4BAAK,WAAU;sCAAkD;;;;;;sCAClE,iRAAC;4BAAI,WAAU;;;;;;;;;;;;8BAGnB,iRAAC;oBAAI,WAAU;8BACX,cAAA,iRAAC;wBACG,SAAS;wBACT,MAAK;wBACL,WAAU;;0CAEV,iRAAC;gCAAI,WAAU;gCAAU,SAAQ;;kDAC7B,iRAAC;wCAAK,MAAK;wCAAe,GAAE;;;;;;kDAC5B,iRAAC;wCAAK,MAAK;wCAAU,GAAE;;;;;;kDACvB,iRAAC;wCAAK,MAAK;wCAAU,GAAE;;;;;;kDACvB,iRAAC;wCAAK,MAAK;wCAAU,GAAE;;;;;;;;;;;;4BACrB;;;;;;;;;;;;8BAKd,iRAAC;oBAAE,WAAU;;wBACR,gBAAgB,6BAA6B;wBAA0B;sCACxE,iRAAC;4BACG,MAAK;4BACL,SAAS,IAAM,iBAAiB,CAAC;4BACjC,WAAU;sCAET,gBAAgB,YAAY;;;;;;;;;;;;;;;;;;;;;;;AAMrD"}}]
}